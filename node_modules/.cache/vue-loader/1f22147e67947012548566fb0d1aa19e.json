{"remainingRequest":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\vue-loader\\dist\\index.js??ruleSet[0].use[1]!C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\user\\UsersIndex.vue?vue&type=style&index=0&id=0a5c6338&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\user\\UsersIndex.vue","mtime":1653838120002},{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\css-loader\\dist\\cjs.js","mtime":1653838183416},{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\vue-loader\\dist\\stylePostLoader.js","mtime":1653838184422},{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1653838178185},{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653838178205},{"path":"C:\\Users\\Dell\\Desktop\\vost-app\\node_modules\\vue-loader\\dist\\index.js","mtime":1653838182816}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZGlhbW9uZCB7DQoJZGlzcGxheTogZmxleDsNCglhbGlnbi1pdGVtczogY2VudGVyOw0KCWp1c3RpZnktY29udGVudDogY2VudGVyOw0KCXRleHQtYWxpZ246IGNlbnRlcjsNCgl0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQp9DQouZGlhbW9uZCA+IGRpdiB7DQoJdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTsNCn0NCg=="},{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\user\\UsersIndex.vue"],"names":[],"mappings":";AA8gBA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;CACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;CACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B","file":"C:/Users/Dell/Desktop/vost-app/src/views/user/UsersIndex.vue","sourceRoot":"","sourcesContent":["<template>\r\n\t<div\r\n\t\tclass=\"flex flex-col w-full h-screen bg-gray-700 overflow-hidden space-y-1\"\r\n\t>\r\n\t\t<div\r\n\t\t\tclass=\"flex self-start w-full items-center space-x-3 h-16 py-1 px-2 md:items-center\"\r\n\t\t>\r\n\t\t\t<SearchBar ref=\"searchbar\" @search=\"searchfn\" />\r\n\t\t\t<div class=\"rounded-full py-2 px-2 bg-gray-500\">\r\n\t\t\t\t<FilterIcon\r\n\t\t\t\t\t@click=\"mobileFiltersOpen = !mobileFiltersOpen\"\r\n\t\t\t\t\tclass=\"h-7 fill-current text-white\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rounded-full py-2 px-2 bg-gray-500\" v-if=\"currentUser.Profile.Autorisations.find(el=>el.nom == 'add-utilisateur')\">\r\n\t\t\t\t<Icon\r\n\t\t\t\t\ticon=\"ant-design:user-add-outlined\"\r\n\t\t\t\t\t@click=\"openCreateModal\"\r\n\t\t\t\t\tclass=\"h-7 w-7 fill-current text-white\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"bg-blue-900\">\r\n\t\t\t<div>\r\n\t\t\t\t<!-- Mobile filter dialog -->\r\n\t\t\t\t<TransitionRoot as=\"template\" :show=\"mobileFiltersOpen\">\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\tas=\"div\"\r\n\t\t\t\t\t\tclass=\"fixed inset-0 flex z-40\"\r\n\t\t\t\t\t\t@close=\"mobileFiltersOpen = false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TransitionChild\r\n\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\tenter=\"transition-opacity ease-linear duration-300\"\r\n\t\t\t\t\t\t\tenter-from=\"opacity-0\"\r\n\t\t\t\t\t\t\tenter-to=\"opacity-100\"\r\n\t\t\t\t\t\t\tleave=\"transition-opacity ease-linear duration-300\"\r\n\t\t\t\t\t\t\tleave-from=\"opacity-100\"\r\n\t\t\t\t\t\t\tleave-to=\"opacity-0\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DialogOverlay class=\"fixed inset-0 bg-black bg-opacity-25\" />\r\n\t\t\t\t\t\t</TransitionChild>\r\n\r\n\t\t\t\t\t\t<TransitionChild\r\n\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\tenter=\"transition ease-in-out duration-300 transform\"\r\n\t\t\t\t\t\t\tenter-from=\"translate-x-full\"\r\n\t\t\t\t\t\t\tenter-to=\"translate-x-0\"\r\n\t\t\t\t\t\t\tleave=\"transition ease-in-out duration-300 transform\"\r\n\t\t\t\t\t\t\tleave-from=\"translate-x-0\"\r\n\t\t\t\t\t\t\tleave-to=\"translate-x-full\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"px-4 flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<h2 class=\"text-lg font-medium text-gray-300\">Filters</h2>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"mobileFiltersOpen = false\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only text-white\">Close menu</span>\r\n\t\t\t\t\t\t\t\t\t\t<XIcon class=\"h-6 w-6 text-gray-300\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<!-- Filters -->\r\n\t\t\t\t\t\t\t\t<form class=\"mt-4 border-t border-gray-400\">\r\n\t\t\t\t\t\t\t\t\t<Disclosure\r\n\t\t\t\t\t\t\t\t\t\tas=\"div\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"border-t border-gray-400 px-4 py-6\"\r\n\t\t\t\t\t\t\t\t\t\tv-slot=\"{ open }\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"-mx-2 -my-3 flow-root\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DisclosureButton as=\"template\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFonctions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-6 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!open\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</DisclosureButton>\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t<DisclosurePanel class=\"pt-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"fonctions?.length > 0\" class=\"space-y-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"fonction in fonctions\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"fonction.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"fonction.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:checked=\"fonction.checked\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"fonctionsel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ml-3 min-w-0 flex-1 text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ fonction.nom }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</DisclosurePanel>\r\n\t\t\t\t\t\t\t\t\t</Disclosure>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TransitionChild>\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</TransitionRoot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"flex-1 flex flex-col overflow-hidden\">\r\n\t\t\t<div\r\n\t\t\t\tv-if=\"showedusers?.length != 0\"\r\n\t\t\t\tclass=\"w-full flex flex-1 flex-col overflow-y-auto\"\r\n\t\t\t>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclass=\"w-full max-h-fit grid grid-rows-10 md:grid-cols-4 space-y-2 md:space-y-2 items-center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<UserRow\r\n\t\t\t\t\t\tv-for=\"user in showedusers\"\r\n\t\t\t\t\t\t:key=\"user.id\"\r\n\t\t\t\t\t\t:user=\"user\"\r\n\t\t\t\t\t\t@delete=\"openModal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tref=\"Pagination\"\r\n\t\t\t\t:currentPage=\"currentPage\"\r\n\t\t\t\t:pageSize=\"nbperpage\"\r\n\t\t\t\t:dataLength=\"users.length\"\r\n\t\t\t\t@page=\"currentPage = $event\"\r\n\t\t\t\t@next=\"currentPage++\"\r\n\t\t\t\t@prev=\"currentPage--\"\r\n\t\t\t\t@first=\"currentPage = 1\"\r\n\t\t\t\t@last=\"currentPage = $refs.Pagination.pageNumber\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n\t<Modal ref=\"createModal\" primaryColor=\"haja\" @submit=\"addUser\">\r\n\t\t<template v-slot:title>Ajouter un utilisateur</template>\r\n\t\t<template v-slot:body>\r\n\t\t\t<div class=\"flex flex-col w-full py-10\">\r\n\t\t\t\t<div class=\"relative mt-20 self-center w-28 h-28\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tref=\"avatarDisplay\"\r\n\t\t\t\t\t\tclass=\"w-full object-fit h-full rounded-md overflow-hidden\"\r\n\t\t\t\t\t\tsrc=\"https://therminic2018.eu/wp-content/uploads/2018/07/dummy-avatar.jpg\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PencilIcon\r\n\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\t@click=\"pencilCLick\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tstyle=\"display: none\"\r\n\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\tref=\"fileInput\"\r\n\t\t\t\t\t\t@change=\"avatarChanged\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-col space-y-3 mt-4 px-2\">\r\n\t\t\t\t\t<div class=\"flex flex-col w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t>Username</label\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"flex flex-row items-cente focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"username\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-xl border-t border-l border-b\"\r\n\t\t\t\t\t\t\t\t>@</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.username\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-r-md border-0 focus:ring-0 h-fit\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start space-y-2 space-x-2 w-full\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"nom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Nom</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"nom\"\r\n\t\t\t\t\t\t\t\tid=\"nom\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.nom\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nom\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>Prenom</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"prenom\"\r\n\t\t\t\t\t\t\t\tid=\"prenom\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.prenom\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"numero\"\r\n\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t>Numero</label\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"flex flex-row items-cente w-3/4 focus-within:ring-1 rounded-md ring-blue-600\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"numero\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b\"\r\n\t\t\t\t\t\t\t\t>+213</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tid=\"numero\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.numero\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Numero de telephone\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-r-md border-0 focus:ring-0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Fonction</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Listbox v-model=\"newUser.ProfileId\">\r\n\t\t\t\t\t\t\t\t<div class=\"relative w-3/4\">\r\n\t\t\t\t\t\t\t\t\t<ListboxButton\r\n\t\t\t\t\t\t\t\t\t\tclass=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"block truncate\">{{\r\n\t\t\t\t\t\t\t\t\t\t\tfonctions.find(el=>el.id == newUser.ProfileId)?.nom || \"Fonction\"\r\n\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SelectorIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5 text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t\t\t\t\t\t<transition\r\n\t\t\t\t\t\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\t\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\t\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute w-full py-1 mt-1 mb-3 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"f in fonctions\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"f.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"f.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-amber-900 bg-amber-100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cursor-default select-none relative py-2 pl-10 pr-4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected ? 'font-medium' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ f.nom }}</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Listbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start space-y-2 space-x-2 w-full\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"password\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>Mot de passe</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Mot de passe\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-max space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Confirmation</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tname=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tid=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tv-model=\"newUser.passwordConfirm\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Confirmation\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template v-slot:submit>Ajouter</template>\r\n\t</Modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"@/components/Modal\";\r\nimport { debounce } from \"lodash\";\r\nimport Pagination from \"@/components/Pagination\";\r\nimport {\r\n\tDialog,\r\n\tDialogOverlay,\r\n\tDisclosure,\r\n\tDisclosureButton,\r\n\tDisclosurePanel,\r\n\tTransitionChild,\r\n\tTransitionRoot,\r\n\tListbox,\r\n\tListboxButton,\r\n\tListboxOptions,\r\n\tListboxOption,\r\n} from \"@headlessui/vue\";\r\nimport {\r\n\tMinusSmIcon,\r\n\tPlusSmIcon,\r\n\tFilterIcon,\r\n\tCheckIcon,\r\n\tSelectorIcon,\r\n} from \"@heroicons/vue/solid\";\r\nimport { XIcon, PencilIcon } from \"@heroicons/vue/outline\";\r\nimport SearchBar from \"@/components/SearchBar\";\r\n// import UserService from \"@/services/UserService\";\r\nimport UserRow from \"@/components/UserRow\";\r\nimport { Icon } from \"@iconify/vue\";\r\nexport default {\r\n\tname: \"UsersIndex\",\r\n\tcomponents: {\r\n\t\tPagination,\r\n\t\tSearchBar,\r\n\t\tDialog,\r\n\t\tDialogOverlay,\r\n\t\tDisclosure,\r\n\t\tDisclosureButton,\r\n\t\tDisclosurePanel,\r\n\t\tUserRow,\r\n\t\tTransitionChild,\r\n\t\tTransitionRoot,\r\n\t\tFilterIcon,\r\n\t\tMinusSmIcon,\r\n\t\tPlusSmIcon,\r\n\t\tXIcon,\r\n\t\tModal,\r\n\t\tIcon,\r\n\t\tPencilIcon,\r\n\t\tCheckIcon,\r\n\t\tSelectorIcon,\r\n\t\tListbox,\r\n\t\tListboxButton,\r\n\t\tListboxOptions,\r\n\t\tListboxOption,\r\n\t},\r\n\tasync beforeMount() {\r\n\t\t// $(window).on('resize',this.)\r\n\t\tawait this.$store.dispatch(\"getUsers\");\r\n\t\tawait this.$store.dispatch(\"getFonctions\");\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewUser: {},\r\n\t\t\tfonctionsel: [],\r\n\t\t\tcurrentPage:1,\r\n\t\t\tmobileFiltersOpen: false,\r\n\t\t\tsubCategories: [],\r\n\t\t\tsubcategorytitle: \"hey\",\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tsearchfn: debounce(function (e) {\r\n\t\t\tthis.$store.dispatch(\"getUsers\", {\r\n\t\t\t\tProfileId: this.fonctionsel,\r\n\t\t\t\tnom: e,\r\n\t\t\t\tprenom: e,\r\n\t\t\t\tusername: e,\r\n\t\t\t\tnumero: e,\r\n\t\t\t});\r\n\t\t}, 500),\r\n\t\topenModal(user) {\r\n\t\t\tthis.$refs.modal.open = true;\r\n\t\t\tthis.$refs.modal.user = user;\r\n\t\t},\r\n\t\t\r\n\t\tpencilCLick() {\r\n\t\t\tthis.$refs.fileInput.click();\r\n\t\t},\r\n\t\tavatarChanged() {\r\n\t\t\tthis.$refs.avatarDisplay.src = URL.createObjectURL(\r\n\t\t\t\tthis.$refs.fileInput.files[0]\r\n\t\t\t);\r\n\t\t},\r\n\t\topenCreateModal() {\r\n\t\t\tthis.$refs.createModal.open = true;\r\n\t\t},\r\n\t\taddUser() {\r\n\t\t\tthis.$store.dispatch(\"addUser\", this.newUser);\r\n\t\t\tthis.$refs.createModal.open = false;\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tusers() {\r\n\t\t\treturn this.$store.getters.getUsers;\r\n\t\t},\r\n\t\tnbperpage() {\r\n\t\t\tif (window.innerWidth >= 640 && window.innerWidth < 768) return 2 * 5;\r\n\t\t\telse if (window.innerWidth >= 768 && window.innerWidth < 1280) return 16;\r\n\t\t\telse if (window.innerWidth > 1280) return 4 * 5;\r\n\t\t\telse return 1 * 5;\r\n\t\t},\r\n\t\tfilters() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: \"nom\",\r\n\t\t\t\t\tname: \"Fonctions\",\r\n\t\t\t\t\toptions: this.fonctions,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t},\r\n\t\tshowedusers() {\r\n\t\t\tlet cp = this.$refs?.Pagination?.currentPage || 1;\r\n\t\t\tlet users = this.users;\r\n\t\t\tif (!users) return [];\r\n\t\t\treturn users.slice((cp - 1) * this.nbperpage, cp * this.nbperpage);\r\n\t\t},\r\n\r\n\t\tfonctions() {\r\n\t\t\treturn this.$store.getters.getFonctions;\r\n\t\t},\r\n\t\tcurrentUser() {\r\n\t\t\treturn this.$store.getters.getCurrentUser;\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tfonctionsel: function () {\r\n\t\t\tthis.$store.dispatch(\"getUsers\", {\r\n\t\t\t\t...(this.fonctionsel.length != 0 && { ProfileId: this.fonctionsel }),\r\n\t\t\t\t...(this.$refs.searchbar.search != \"\" && {\r\n\t\t\t\t\tnom: this.$refs.searchbar.search,\r\n\t\t\t\t}),\r\n\t\t\t\t...(this.$refs.searchbar.search != \"\" && {\r\n\t\t\t\t\tprenom: this.$refs.searchbar.search,\r\n\t\t\t\t}),\r\n\t\t\t\t...(this.$refs.searchbar.search != \"\" && {\r\n\t\t\t\t\tusername: this.$refs.searchbar.search,\r\n\t\t\t\t}),\r\n\t\t\t\t...(this.$refs.searchbar.search != \"\" && {\r\n\t\t\t\t\tnumero: this.$refs.searchbar.search,\r\n\t\t\t\t}),\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.diamond {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttext-align: center;\r\n\ttransform: rotate(45deg);\r\n}\r\n.diamond > div {\r\n\ttransform: rotate(-45deg);\r\n}\r\n</style>\r\n"]}]}