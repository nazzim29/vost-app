{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createBlock as _createBlock, Transition as _Transition, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0c8ffb8c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"flex flex-col h-screen w-full overflow-hidden\"\n};\nconst _hoisted_2 = {\n  class: \"mx-2 mt-3 w-full flex flex-row\"\n};\nconst _hoisted_3 = {\n  class: \"block truncate text-gray-700 font-semibold text-center\"\n};\nconst _hoisted_4 = {\n  class: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"flex items-center pl-3 text-amber-600\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"ml-1\"\n}, \"Ajouter\", -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"bg-white shadow-lg rounded-md flex-1 m-2 p-1 overflow-y-auto\"\n};\nconst _hoisted_9 = {\n  class: \"w-full grid grid-rows-7 ml-1 md:ml-0\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"md:grid grid-cols-3 hidden\\\" data-v-0c8ffb8c><div class=\\\"font-bold w-full text-center border\\\" data-v-0c8ffb8c>Gestion</div><div class=\\\"grid grid-cols-4 col-span-2\\\" data-v-0c8ffb8c><div class=\\\"font-bold w-full text-gray-600 text-center border\\\" data-v-0c8ffb8c> Lister </div><div class=\\\"font-bold w-full text-gray-600 text-center border\\\" data-v-0c8ffb8c> Ajouter </div><div class=\\\"font-bold w-full text-gray-600 text-center border\\\" data-v-0c8ffb8c> Archiver </div><div class=\\\"font-bold w-full text-gray-600 text-center border\\\" data-v-0c8ffb8c> Modifier </div></div></div>\", 1);\n\nconst _hoisted_11 = {\n  class: \"md:border md:items-center md:justify-center md:inline-flex\"\n};\nconst _hoisted_12 = {\n  class: \"grid md:grid-cols-4 md:grid-flow-col col-span-2\"\n};\nconst _hoisted_13 = {\n  class: \"inline-flex items-center space-evenly space-x-1 md:justify-center w-full h-10\"\n};\nconst _hoisted_14 = [\"id\", \"checked\", \"onChange\"];\nconst _hoisted_15 = [\"for\"];\nconst _hoisted_16 = {\n  key: 0,\n  class: \"inline-flex md:grid md:grid-row-2 items-center space-evenly md:justify-center ml-5 md:ml-0\"\n};\nconst _hoisted_17 = {\n  class: \"h-16 inline-flex items-center justify-end space-x-1 pb-2 pr-2\"\n};\nconst _hoisted_18 = [\"disable\"];\nconst _hoisted_19 = {\n  class: \"inline-flex items-center\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createTextVNode(\" Ajouter une fonction \");\n\nconst _hoisted_21 = {\n  class: \"flex flex-col w-full space-y-2\"\n};\nconst _hoisted_22 = {\n  class: \"w-full\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 text-sm font-semibold mb-2\",\n  for: \"nom\"\n}, \"Nom\", -1\n/* HOISTED */\n));\n\nconst _hoisted_24 = {\n  class: \"flex flex-col w-full\"\n};\n\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"color\"\n}, \"Choisissez une couleur: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_26 = {\n  class: \"w-full inline-flex items-center\"\n};\nconst _hoisted_27 = {\n  class: \"w-full flex flex-col\"\n};\n\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"icon\"\n}, \"Choisissez une icon :\", -1\n/* HOISTED */\n));\n\nconst _hoisted_29 = {\n  key: 0,\n  class: \"grid grid-cols-6 border-1 border-blue-900 h-36 overflow-y-auto mt-2\"\n};\nconst _hoisted_30 = {\n  class: \"w-full\"\n};\n\nconst _hoisted_31 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 text-sm font-semibold mb-2\",\n  for: \"description\"\n}, \"Description\", -1\n/* HOISTED */\n));\n\nconst _hoisted_32 = /*#__PURE__*/_createTextVNode(\"Ajouter\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SelectorIcon = _resolveComponent(\"SelectorIcon\");\n\n  const _component_ListboxButton = _resolveComponent(\"ListboxButton\");\n\n  const _component_Icon = _resolveComponent(\"Icon\");\n\n  const _component_CheckIcon = _resolveComponent(\"CheckIcon\");\n\n  const _component_ListboxOption = _resolveComponent(\"ListboxOption\");\n\n  const _component_ListboxOptions = _resolveComponent(\"ListboxOptions\");\n\n  const _component_Listbox = _resolveComponent(\"Listbox\");\n\n  const _component_Modal = _resolveComponent(\"Modal\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Listbox, {\n    modelValue: $data.selectedFonction,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedFonction = $event)\n  }, {\n    default: _withCtx(() => [_createVNode(_component_ListboxButton, {\n      class: \"relative w-44 py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_3, _toDisplayString($data.selectedFonction && $data.selectedFonction.nom), 1\n      /* TEXT */\n      ), _createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_SelectorIcon, {\n        class: \"w-5 h-5 text-gray-400\",\n        \"aria-hidden\": \"true\"\n      })])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_Transition, {\n      \"leave-active-class\": \"transition duration-100 ease-in\",\n      \"leave-from-class\": \"opacity-100\",\n      \"leave-to-class\": \"opacity-0\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_ListboxOptions, {\n        class: \"absolute w-44 py-1 mt-10 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.fonctions, fonction => {\n          return _openBlock(), _createBlock(_component_ListboxOption, {\n            key: fonction.id,\n            value: fonction,\n            as: \"template\"\n          }, {\n            default: _withCtx(({\n              active,\n              selected\n            }) => [_createElementVNode(\"li\", {\n              class: _normalizeClass([active ? 'text-gray-900 bg-gray-100' : 'text-gray-500', selected ? 'bg-indigo-100' : 'bg-white', 'cursor-default select-none group  relative py-2 px-2 pr-4 text-left inline-flex w-full justify-between items-center transition-all duration-100'])\n            }, [_createElementVNode(\"span\", {\n              class: _normalizeClass([selected ? 'font-semibold' : 'font-normal', 'block truncate'])\n            }, _toDisplayString(fonction.nom), 3\n            /* TEXT, CLASS */\n            ), _createElementVNode(\"div\", {\n              class: \"p-1\",\n              onClick: $event => $options.deleteFonction(fonction)\n            }, [_createVNode(_component_Icon, {\n              icon: \"bi:archive\",\n              class: _normalizeClass(['w-5 h-5 ml-2 hidden text-red-500 md:hover:text-red-500 md:group-hover:block']),\n              \"aria-hidden\": \"true\"\n            })], 8\n            /* PROPS */\n            , _hoisted_5), selected ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, [_createVNode(_component_CheckIcon, {\n              class: \"w-5 h-5\",\n              \"aria-hidden\": \"true\"\n            })])) : _createCommentVNode(\"v-if\", true)], 2\n            /* CLASS */\n            )]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1032\n          /* PROPS, DYNAMIC_SLOTS */\n          , [\"value\"]);\n        }), 128\n        /* KEYED_FRAGMENT */\n        ))]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.openCreateModal && $options.openCreateModal(...args)),\n    class: \"ml-2 items-center border-2 border-green-300 rounded-md px-3 bg-gray-200 hover:bg-gray-400 hover:text-white py-2 inline-flex\"\n  }, [_createVNode(_component_Icon, {\n    icon: \"carbon:bookmark-add\",\n    class: \"w-5 h-5\"\n  }), _hoisted_7])]), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" <h1 class=\\\"font-semibold text-md\\\">Autorisations</h1> \"), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.categories, c => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"grid md:grid-cols-3 space-y-2 md:space-y-0\",\n      key: c\n    }, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString($options.capitalize(c)), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.autorisations.filter(el => el.categorie === c).sort(el => el.id), a => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass(['flex flex-col md:justify-center md:border', a.nom.startsWith('add') && 'order-2 ' || a.nom.startsWith('delete') && 'order-3' || a.nom.startsWith('update') && 'order-4' || a.nom.startsWith('read') && 'order-1']),\n        key: a\n      }, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"input\", {\n        type: \"checkbox\",\n        id: a.nom,\n        class: _normalizeClass(['focus:outline-none focus:ring-0 rounded-md w-5 h-5']),\n        checked: $data.selectedFonction && $data.selectedFonction.Autorisations.map(el => el.id).includes(a.id),\n        onChange: $event => $options.updateAutorisation(a, 'all')\n      }, null, 40\n      /* PROPS, HYDRATE_EVENTS */\n      , _hoisted_14), _createElementVNode(\"label\", {\n        for: a.nom,\n        class: \"md:hidden\"\n      }, _toDisplayString(a.description), 9\n      /* TEXT, PROPS */\n      , _hoisted_15)]), $data.selectedFonction && $data.selectedFonction.Autorisations.find(el => el.id == a.id) && !a.nom.startsWith('add') && $data.selectedFonction.Autorisations.find(el => el.id === a.id).autorisations_fonctions ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createCommentVNode(\" <div\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"inline-flex space-x-1 w-full justify-center items-center\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:id=\\\"a.nom + '-own'\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:name=\\\"a.nom\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:class=\\\"[\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'focus:outline-none focus:ring-0 rounded-md w-3 h-3',\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t]\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"own\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tv-model=\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tselectedFonction.Autorisations.find(\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(el) => el.id === a.id\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t).autorisations_fonctions.type\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t@change=\\\"selectedFonction.updated = false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label :for=\\\"a.nom + '-own'\\\">Own Only</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"inline-flex space-x-1 w-full justify-center items-center\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"radio\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tv-model=\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tselectedFonction.Autorisations.find(\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t(el) => el.id === a.id\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t).autorisations_fonctions.type\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t@change=\\\"selectedFonction.updated = false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:id=\\\"a.nom + '-all'\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:name=\\\"a.nom\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:class=\\\"[\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'focus:outline-none focus:ring-0 rounded-md w-3 h-3',\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t]\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"all\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t/>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label :for=\\\"a.nom + '-all'\\\">All</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div> \")])) : _createCommentVNode(\"v-if\", true)], 2\n      /* CLASS */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createCommentVNode(\" gestion des utilisateurs\\r\\n\\t\\t\\tgestion des roles\\r\\n\\t\\t\\tgestion des commandes\\r\\n\\t\\t\\tgestion des clients\\r\\n\\t\\t\\tgestion des payement\\r\\n\\t\\t\\tgestion des produits\\r\\n\\t\\t\\tgestion de la matiere premiere \")]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.deleteFonction && $options.deleteFonction(...args)),\n    class: _normalizeClass(['bg-red-500 text-white text-sm sm:text-base font-semibold rounded-md py-1.5 px-1 focus:outline-none focus:ring-2 focus:ring-red-500 md:hidden'])\n  }, \" Archiver le Profile \", 2\n  /* CLASS */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.updateFonction && $options.updateFonction(...args)),\n    class: _normalizeClass(['bg-green-500 text-white font-semibold rounded-md py-1 px-2 focus:outline-none focus:ring-2 focus:ring-green-500', $data.selectedFonction?.updated && 'bg-opacity-50']),\n    disable: !$data.selectedFonction?.updated || false\n  }, \" Enregistrer \", 10\n  /* CLASS, PROPS */\n  , _hoisted_18)])]), _createVNode(_component_Modal, {\n    ref: \"createModal\",\n    primaryColor: \"haja\",\n    onSubmit: $options.saveFonction\n  }, {\n    title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_Icon, {\n      icon: \"carbon:bookmark-add\",\n      class: \"w-5 h-5 mr-2\"\n    }), _hoisted_20])]),\n    body: _withCtx(() => [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_hoisted_23, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      name: \"nom\",\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newFonction.nom = $event),\n      class: \"rounded-md w-full\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $data.newFonction.nom]])]), _createElementVNode(\"div\", _hoisted_24, [_hoisted_25, _createElementVNode(\"div\", _hoisted_26, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"rounded-md w-20\",\n      type: \"color\",\n      name: \"color\",\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.newFonction.couleur = $event)\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $data.newFonction.couleur]]), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.newFonction.couleur = $event),\n      type: \"text\",\n      class: \"rounded-md border-none text-gray-400 w-24\",\n      disabled: \"\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $data.newFonction.couleur]])])]), _createElementVNode(\"div\", _hoisted_27, [_hoisted_28, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newFonction.icon = $event),\n      class: \"rounded-md text-gray-400 w-full\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $data.newFonction.icon]]), $data.icons.length != 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.icons, icon => {\n      return _openBlock(), _createBlock(_component_Icon, {\n        icon: icon,\n        key: icon,\n        onClick: $event => $data.newFonction.icon = icon,\n        class: \"w-12 h-12 p-0.5 rounded-md m-1 focus:border-indigo-900 focus:border hover:bg-gray-400\"\n      }, null, 8\n      /* PROPS */\n      , [\"icon\", \"onClick\"]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_30, [_hoisted_31, _withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newFonction.description = $event),\n      name: \"description\",\n      class: \"resize-x-none rounded-md w-full\"\n    }, null, 512\n    /* NEED_PATCH */\n    ), [[_vModelText, $data.newFonction.description]])])])]),\n    submit: _withCtx(() => [_hoisted_32]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"onSubmit\"])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\user\\Fonction.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"flex flex-col h-screen w-full overflow-hidden\">\r\n\t\t<div class=\"mx-2 mt-3 w-full flex flex-row\">\r\n\t\t\t<Listbox v-model=\"selectedFonction\">\r\n\t\t\t\t<ListboxButton\r\n\t\t\t\t\tclass=\"relative w-44 py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"block truncate text-gray-700 font-semibold text-center\"\r\n\t\t\t\t\t\t>{{ selectedFonction && selectedFonction.nom }}</span\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SelectorIcon class=\"w-5 h-5 text-gray-400\" aria-hidden=\"true\" />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t<transition\r\n\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\tclass=\"absolute w-44 py-1 mt-10 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\tv-for=\"fonction in fonctions\"\r\n\t\t\t\t\t\t\t:key=\"fonction.id\"\r\n\t\t\t\t\t\t\t:value=\"fonction\"\r\n\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\tactive ? 'text-gray-900 bg-gray-100' : 'text-gray-500',\r\n\t\t\t\t\t\t\t\t\tselected ? 'bg-indigo-100' : 'bg-white',\r\n\t\t\t\t\t\t\t\t\t'cursor-default select-none group  relative py-2 px-2 pr-4 text-left inline-flex w-full justify-between items-center transition-all duration-100',\r\n\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\tselected ? 'font-semibold' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t>{{ fonction.nom }}</span\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"p-1\" @click=\"deleteFonction(fonction)\">\r\n\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\ticon=\"bi:archive\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t'w-5 h-5 ml-2 hidden text-red-500 md:hover:text-red-500 md:group-hover:block',\r\n\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t</transition>\r\n\t\t\t</Listbox>\r\n\t\t\t<button\r\n\t\t\t\t@click=\"openCreateModal\"\r\n\t\t\t\tclass=\"ml-2 items-center border-2 border-green-300 rounded-md px-3 bg-gray-200 hover:bg-gray-400 hover:text-white py-2 inline-flex\"\r\n\t\t\t>\r\n\t\t\t\t<Icon icon=\"carbon:bookmark-add\" class=\"w-5 h-5\" />\r\n\t\t\t\t<span class=\"ml-1\">Ajouter</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"bg-white shadow-lg rounded-md flex-1 m-2 p-1 overflow-y-auto\">\r\n\t\t\t<!-- <h1 class=\"font-semibold text-md\">Autorisations</h1> -->\r\n\t\t\t<div class=\"w-full grid grid-rows-7 ml-1 md:ml-0\">\r\n\t\t\t\t<div class=\"md:grid grid-cols-3 hidden\">\r\n\t\t\t\t\t<div class=\"font-bold w-full text-center border\">Gestion</div>\r\n\t\t\t\t\t<div class=\"grid grid-cols-4 col-span-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold w-full text-gray-600 text-center border\">\r\n\t\t\t\t\t\t\tLister\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"font-bold w-full text-gray-600 text-center border\">\r\n\t\t\t\t\t\t\tAjouter\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"font-bold w-full text-gray-600 text-center border\">\r\n\t\t\t\t\t\t\tArchiver\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"font-bold w-full text-gray-600 text-center border\">\r\n\t\t\t\t\t\t\tModifier\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"grid md:grid-cols-3 space-y-2 md:space-y-0\"\r\n\t\t\t\t\tv-for=\"c in categories\"\r\n\t\t\t\t\t:key=\"c\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"md:border md:items-center md:justify-center md:inline-flex\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ capitalize(c) }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"grid md:grid-cols-4 md:grid-flow-col col-span-2\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t'flex flex-col md:justify-center md:border',\r\n\t\t\t\t\t\t\t\t(a.nom.startsWith('add') && 'order-2 ') ||\r\n\t\t\t\t\t\t\t\t\t(a.nom.startsWith('delete') && 'order-3') ||\r\n\t\t\t\t\t\t\t\t\t(a.nom.startsWith('update') && 'order-4') ||\r\n\t\t\t\t\t\t\t\t\t(a.nom.startsWith('read') && 'order-1'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tv-for=\"a in autorisations\r\n\t\t\t\t\t\t\t\t.filter((el) => el.categorie === c)\r\n\t\t\t\t\t\t\t\t.sort((el) => el.id)\"\r\n\t\t\t\t\t\t\t:key=\"a\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"inline-flex items-center space-evenly space-x-1 md:justify-center w-full h-10\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t:id=\"a.nom\"\r\n\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t'focus:outline-none focus:ring-0 rounded-md w-5 h-5',\r\n\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t:checked=\"\r\n\t\t\t\t\t\t\t\t\t\tselectedFonction &&\r\n\t\t\t\t\t\t\t\t\t\tselectedFonction.Autorisations.map((el) => el.id).includes(\r\n\t\t\t\t\t\t\t\t\t\t\ta.id\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t@change=\"updateAutorisation(a, 'all')\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label :for=\"a.nom\" class=\"md:hidden\">{{\r\n\t\t\t\t\t\t\t\t\ta.description\r\n\t\t\t\t\t\t\t\t}}</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"inline-flex md:grid md:grid-row-2 items-center space-evenly md:justify-center ml-5 md:ml-0\"\r\n\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\tselectedFonction &&\r\n\t\t\t\t\t\t\t\t\tselectedFonction.Autorisations.find((el) => el.id == a.id) &&\r\n\t\t\t\t\t\t\t\t\t!a.nom.startsWith('add') &&\r\n\t\t\t\t\t\t\t\t\tselectedFonction.Autorisations.find((el) => el.id === a.id)\r\n\t\t\t\t\t\t\t\t\t\t.autorisations_fonctions\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<!-- <div\r\n\t\t\t\t\t\t\t\t\tclass=\"inline-flex space-x-1 w-full justify-center items-center\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t:id=\"a.nom + '-own'\"\r\n\t\t\t\t\t\t\t\t\t\t:name=\"a.nom\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t'focus:outline-none focus:ring-0 rounded-md w-3 h-3',\r\n\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"own\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectedFonction.Autorisations.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(el) => el.id === a.id\r\n\t\t\t\t\t\t\t\t\t\t\t).autorisations_fonctions.type\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"selectedFonction.updated = false\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label :for=\"a.nom + '-own'\">Own Only</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"inline-flex space-x-1 w-full justify-center items-center\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\tselectedFonction.Autorisations.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(el) => el.id === a.id\r\n\t\t\t\t\t\t\t\t\t\t\t).autorisations_fonctions.type\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"selectedFonction.updated = false\"\r\n\t\t\t\t\t\t\t\t\t\t:id=\"a.nom + '-all'\"\r\n\t\t\t\t\t\t\t\t\t\t:name=\"a.nom\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t'focus:outline-none focus:ring-0 rounded-md w-3 h-3',\r\n\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"all\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label :for=\"a.nom + '-all'\">All</label>\r\n\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- gestion des utilisateurs\r\n\t\t\tgestion des roles\r\n\t\t\tgestion des commandes\r\n\t\t\tgestion des clients\r\n\t\t\tgestion des payement\r\n\t\t\tgestion des produits\r\n\t\t\tgestion de la matiere premiere -->\r\n\t\t</div>\r\n\t\t<div class=\"h-16 inline-flex items-center justify-end space-x-1 pb-2 pr-2\">\r\n\t\t\t<button\r\n\t\t\t\t@click=\"deleteFonction\"\r\n\t\t\t\t:class=\"[\r\n\t\t\t\t\t'bg-red-500 text-white text-sm sm:text-base font-semibold rounded-md py-1.5 px-1 focus:outline-none focus:ring-2 focus:ring-red-500 md:hidden',\r\n\t\t\t\t]\"\r\n\t\t\t>\r\n\t\t\t\tArchiver le Profile\r\n\t\t\t</button>\r\n\t\t\t<button\r\n\t\t\t\t@click=\"updateFonction\"\r\n\t\t\t\t:class=\"[\r\n\t\t\t\t\t'bg-green-500 text-white font-semibold rounded-md py-1 px-2 focus:outline-none focus:ring-2 focus:ring-green-500',\r\n\t\t\t\t\tselectedFonction?.updated && 'bg-opacity-50',\r\n\t\t\t\t]\"\r\n\t\t\t\t:disable=\"!selectedFonction?.updated || false\"\r\n\t\t\t>\r\n\t\t\t\tEnregistrer\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<Modal ref=\"createModal\" primaryColor=\"haja\" @submit=\"saveFonction\">\r\n\t\t<template v-slot:title>\r\n\t\t\t<div class=\"inline-flex items-center\">\r\n\t\t\t\t<Icon icon=\"carbon:bookmark-add\" class=\"w-5 h-5 mr-2\" /> Ajouter une\r\n\t\t\t\tfonction\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template v-slot:body>\r\n\t\t\t<div class=\"flex flex-col w-full space-y-2\">\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<label\r\n\t\t\t\t\t\tclass=\"block text-gray-700 text-sm font-semibold mb-2\"\r\n\t\t\t\t\t\tfor=\"nom\"\r\n\t\t\t\t\t\t>Nom</label\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"nom\"\r\n\t\t\t\t\t\tv-model=\"newFonction.nom\"\r\n\t\t\t\t\t\tclass=\"rounded-md w-full\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t<label for=\"color\">Choisissez une couleur: </label>\r\n\t\t\t\t\t<div class=\"w-full inline-flex items-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"rounded-md w-20\"\r\n\t\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\tv-model=\"newFonction.couleur\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tv-model=\"newFonction.couleur\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclass=\"rounded-md border-none text-gray-400 w-24\"\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t<label for=\"icon\">Choisissez une icon :</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tv-model=\"newFonction.icon\"\r\n\t\t\t\t\t\tclass=\"rounded-md text-gray-400 w-full\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-if=\"icons.length != 0\"\r\n\t\t\t\t\t\tclass=\"grid grid-cols-6 border-1 border-blue-900 h-36 overflow-y-auto mt-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tv-for=\"icon in icons\"\r\n\t\t\t\t\t\t\t:icon=\"icon\"\r\n\t\t\t\t\t\t\t:key=\"icon\"\r\n\t\t\t\t\t\t\t@click=\"newFonction.icon = icon\"\r\n\t\t\t\t\t\t\tclass=\"w-12 h-12 p-0.5 rounded-md m-1 focus:border-indigo-900 focus:border hover:bg-gray-400\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<label\r\n\t\t\t\t\t\tclass=\"block text-gray-700 text-sm font-semibold mb-2\"\r\n\t\t\t\t\t\tfor=\"description\"\r\n\t\t\t\t\t\t>Description</label\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tv-model=\"newFonction.description\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tclass=\"resize-x-none rounded-md w-full\"\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template v-slot:submit>Ajouter</template>\r\n\t</Modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"@/components/Modal\";\r\nimport { CheckIcon, SelectorIcon } from \"@heroicons/vue/solid\";\r\nimport {\r\n\tListbox,\r\n\tListboxButton,\r\n\tListboxOptions,\r\n\tListboxOption,\r\n} from \"@headlessui/vue\";\r\nimport { Icon } from \"@iconify/vue\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n\tname: \"Fonctions\",\r\n\tcomponents: {\r\n\t\tModal,\r\n\t\tListbox,\r\n\t\tListboxButton,\r\n\t\tListboxOptions,\r\n\t\tListboxOption,\r\n\t\tCheckIcon,\r\n\t\tSelectorIcon,\r\n\t\tIcon,\r\n\t},\r\n\tmethods: {\r\n\t\tcapitalize(str) {\r\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n\t\t},\r\n\t\topenCreateModal() {\r\n\t\t\tthis.$refs.createModal.open = true;\r\n\t\t},\r\n\t\topendeletemodal(fonction) {\r\n\t\t\tthis.$refs.obj = fonction;\r\n\t\t\tthis.$refs.deletedModal.open = true;\r\n\t\t},\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tupdateAutorisation(aut, type) {\r\n\t\t\tif (this.selectedFonction.Autorisations.find((el) => el.id === aut.id)) {\r\n\t\t\t\tthis.selectedFonction.Autorisations =\r\n\t\t\t\t\tthis.selectedFonction.Autorisations.filter(\r\n\t\t\t\t\t\t(autorisation) => autorisation.id != aut.id\r\n\t\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// aut.autorisations_fonctions?.type = type || 'all';\r\n\r\n\t\t\t\tthis.selectedFonction.Autorisations.push({\r\n\t\t\t\t\tautorisations_fonctions: { type: type || \"all\" },\r\n\t\t\t\t\t...aut,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.selectedFonction.updated = false;\r\n\t\t},\r\n\t\tasync updateFonction() {\r\n\t\t\tif (this.selectedFonction.updated) return;\r\n\t\t\ttry {\r\n\t\t\t\tthis.$store\r\n\t\t\t\t\t.dispatch(\"updateFonction\", this.selectedFonction)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tthis.selectedFonction.updated = true;\r\n\t\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync saveFonction() {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch(\"addFonction\", this.newFonction);\r\n\t\t\t\tthis.$refs.createModal.open = false;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteFonction(f) {\r\n\t\t\tconsole.log(f)\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch(\r\n\t\t\t\t\t\"deleteFonction\",\r\n\t\t\t\t\tf.id || this.selectedFonction.id\r\n\t\t\t\t);\r\n\t\t\t\t// this.$refs.deletedModal.open = false;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\tchangedColor(color) {\r\n\t\t\tthis.newFonction.couleur = color;\r\n\t\t},\r\n\t},\r\n\tasync beforeMount() {\r\n\t\tawait this.$store.dispatch(\"getFonctions\");\r\n\t\tawait this.$store.dispatch(\"getAutorisations\");\r\n\t\t// console.log(\"hey\",)\r\n\t\tthis.selectedFonction =\r\n\t\t\tthis.fonctions[\r\n\t\t\t\tthis.fonctions\r\n\t\t\t\t\t.map((el) => el.id)\r\n\t\t\t\t\t.indexOf(this.$store.state.users.user.Profile.id)\r\n\t\t\t];\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tselectedFonction: null,\r\n\t\t\tnewFonction: {},\r\n\t\t\tdeletedFonction: {},\r\n\t\t\ticons: [],\r\n\t\t\tisMobile: false,\r\n\t\t\tshowColorPicker: false,\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tautorisations() {\r\n\t\t\treturn this.$store.state.fonctions.autorisations;\r\n\t\t},\r\n\t\tcategories() {\r\n\t\t\treturn this.$store.state.fonctions.autorisations\r\n\t\t\t\t.map((autorisation) => autorisation.categorie)\r\n\t\t\t\t.filter((categorie, index, self) => self.indexOf(categorie) === index);\r\n\t\t},\r\n\t\tfonctions() {\r\n\t\t\treturn this.$store.state.fonctions.fonctions;\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\t\"newFonction.icon\": _.debounce(async function () {\r\n\t\t\tthis.icons = (\r\n\t\t\t\tawait axios.get(\r\n\t\t\t\t\t`https://api.iconify.design/search?query=${this.newFonction.icon}`\r\n\t\t\t\t)\r\n\t\t\t).data.icons;\r\n\t\t}, 200),\r\n\t\tselectedFonction() {\r\n\t\t\t// this.$store.dispatch('getFonctions')\r\n\r\n\t\t\tif (this.selectedFonction.updated === undefined)\r\n\t\t\t\tthis.selectedFonction.updated = true;\r\n\t\t},\r\n\t\t\"fonctions\":function(){\r\n\t\t\tif(!this.fonctions.find(el=>el.id == this.selectedFonction)){\r\n\t\t\t\tthis.selectedFonction = this.fonctions.find(el=>el.id == this.$store.state.users.user.Profile.id)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.diamond {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttext-align: center;\r\n\ttransform: rotate(45deg);\r\n}\r\n.diamond > div {\r\n\ttransform: rotate(-45deg);\r\n}\r\n</style>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}