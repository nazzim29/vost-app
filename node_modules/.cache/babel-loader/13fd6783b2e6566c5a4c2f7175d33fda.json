{"ast":null,"code":"import UserService from \"@/services/UserService\";\nimport { Icon } from \"@iconify/vue\";\nexport default {\n  components: {\n    Icon\n  },\n\n  data() {\n    return {\n      nom: \"\",\n      prenom: \"admin\",\n      icon: \"\",\n      fonction: \"\",\n      editing: false,\n      numero: \"\"\n    };\n  },\n\n  async created() {\n    if (this.$route.fullPath == \"/me\") {\n      this.nom = this.$store.state.user.nom;\n      this.prenom = this.$store.state.user.prenom;\n      this.icon = \"ph:crown-bold\";\n      this.fonction = this.$store.state.user.Fonction.nom;\n      this.numero = this.$store.state.user.numero;\n      this.username = this.$store.state.user.username;\n    }\n  },\n\n  methods: {\n    async save() {\n      const id = this.$store.state.user.id;\n\n      if (this.editing) {\n        let rep = await UserService.update({\n          id,\n          nom: this.nom,\n          prenom: this.prenom,\n          numero: this.numero\n        });\n\n        if (rep.status == 200) {\n          rep = await UserService.show(id);\n          if (rep.status == 200) this.$store.state.user = rep.data;\n        } else if (rep.status == 403) {\n          this.$route.push(\"/login\");\n        }\n\n        this.editing = false;\n      } else {\n        this.editing = true;\n      }\n    }\n\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\user\\Profile.vue"],"names":[],"mappings":"AA2LA,OAAO,WAAP,MAAwB,wBAAxB;AACA,SAAS,IAAT,QAAqB,cAArB;AACA,eAAe;AACd,EAAA,UAAU,EAAE;AACX,IAAA;AADW,GADE;;AAId,EAAA,IAAI,GAAG;AACN,WAAO;AACN,MAAA,GAAG,EAAE,EADC;AAEN,MAAA,MAAM,EAAE,OAFF;AAGN,MAAA,IAAI,EAAE,EAHA;AAIN,MAAA,QAAQ,EAAE,EAJJ;AAKN,MAAA,OAAO,EAAE,KALH;AAMN,MAAA,MAAM,EAAE;AANF,KAAP;AAQA,GAba;;AAcd,QAAM,OAAN,GAAgB;AACf,QAAI,KAAK,MAAL,CAAY,QAAZ,IAAwB,KAA5B,EAAmC;AAClC,WAAK,GAAL,GAAW,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,GAAlC;AACA,WAAK,MAAL,GAAc,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAArC;AACA,WAAK,IAAL,GAAY,eAAZ;AACA,WAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,GAAhD;AACA,WAAK,MAAL,GAAc,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAArC;AACA,WAAK,QAAL,GAAgB,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,QAAvC;AACD;AACA,GAvBa;;AAwBd,EAAA,OAAO,EAAE;AACR,UAAM,IAAN,GAAa;AACZ,YAAM,EAAC,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EAAlC;;AACA,UAAI,KAAK,OAAT,EAAkB;AACjB,YAAI,GAAE,GAAI,MAAM,WAAW,CAAC,MAAZ,CAAmB;AAClC,UAAA,EADkC;AAElC,UAAA,GAAG,EAAE,KAAK,GAFwB;AAGlC,UAAA,MAAM,EAAE,KAAK,MAHqB;AAIlC,UAAA,MAAM,EAAE,KAAK;AAJqB,SAAnB,CAAhB;;AAMA,YAAI,GAAG,CAAC,MAAJ,IAAc,GAAlB,EAAuB;AACtB,UAAA,GAAE,GAAI,MAAM,WAAW,CAAC,IAAZ,CAAiB,EAAjB,CAAZ;AACA,cAAG,GAAG,CAAC,MAAJ,IAAc,GAAjB,EAAsB,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,GAAG,CAAC,IAA7B;AACvB,SAHA,MAGO,IAAI,GAAG,CAAC,MAAJ,IAAc,GAAlB,EAAuB;AAC7B,eAAK,MAAL,CAAY,IAAZ,CAAiB,QAAjB;AACD;;AACA,aAAK,OAAL,GAAe,KAAf;AACD,OAdA,MAcO;AACN,aAAK,OAAL,GAAe,IAAf;AACD;AAEA;;AArBO;AAxBK,CAAf","sourcesContent":["<template>\r\n\t<div class=\"h-full w-full flex flex-col items-center justify-center\">\r\n\t\t<div class=\"h-10\"></div>\r\n\t\t<div class=\"flex flex-col bg-white h-5/6 w-11/12 rounded-md shadow-2xl\">\r\n\t\t\t<div class=\"flex flex-row h-32 w-full justify-between items-center\">\r\n\t\t\t\t<div class=\"w-1/3 flex justify-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\tw-2/3\r\n\t\t\t\t\t\t\th-20\r\n\t\t\t\t\t\t\tp-1\r\n\t\t\t\t\t\t\tjustify-evenly\r\n\t\t\t\t\t\t\talign-center\r\n\t\t\t\t\t\t\tflex flex-row\r\n\t\t\t\t\t\t\tdivide-x-2 divide-gray-600 divide-solid divide-opacity-40\r\n\t\t\t\t\t\t\tmy-2\r\n\t\t\t\t\t\t\trounded-md\r\n\t\t\t\t\t\t\tbg-gray-500 bg-opacity-20\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"flex flex-col align-center justify-center w-1/3\">\r\n\t\t\t\t\t\t\t<span class=\"font-bold text-4xl text-center\">19</span>\r\n\t\t\t\t\t\t\t<span class=\"font-medium text-sm text-center uppercase\"\r\n\t\t\t\t\t\t\t\t>message</span\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col align-center justify-center w-1/3\">\r\n\t\t\t\t\t\t\t<span class=\"font-bold text-4xl text-center\">19</span>\r\n\t\t\t\t\t\t\t<span class=\"font-medium text-sm text-center uppercase\"\r\n\t\t\t\t\t\t\t\t>message</span\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col align-center justify-center w-1/3\">\r\n\t\t\t\t\t\t\t<span class=\"font-bold text-4xl text-center\">19</span>\r\n\t\t\t\t\t\t\t<span class=\"font-medium text-sm text-center uppercase\"\r\n\t\t\t\t\t\t\t\t>message</span\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-1/3 flex justify-center items-center pt-6\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\tgroup\r\n\t\t\t\t\t\t\tabsolute\r\n\t\t\t\t\t\t\tw-36\r\n\t\t\t\t\t\t\th-36\r\n\t\t\t\t\t\t\tself-center\r\n\t\t\t\t\t\t\ttransform\r\n\t\t\t\t\t\t\t-translate-y-1/2\r\n\t\t\t\t\t\t\trounded-full\r\n\t\t\t\t\t\t\tshadow-xl\r\n\t\t\t\t\t\t\tp-2\r\n\t\t\t\t\t\t\tbg-gray-200\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc=\"https://via.placeholder.com/150\"\r\n\t\t\t\t\t\t\tclass=\"w-full h-full rounded-full shadow-inner\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\t\ttop-0\r\n\t\t\t\t\t\t\t\tleft-0\r\n\t\t\t\t\t\t\t\trounded-full\r\n\t\t\t\t\t\t\t\tw-full\r\n\t\t\t\t\t\t\t\th-full\r\n\t\t\t\t\t\t\t\tbg-opacity-20 bg-black\r\n\t\t\t\t\t\t\t\tfixed\r\n\t\t\t\t\t\t\t\tz-50\r\n\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\tgroup-hover:flex\r\n\t\t\t\t\t\t\t\titems-center\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"pdp\"\r\n\t\t\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\t\t\ttext-sm text-white\r\n\t\t\t\t\t\t\t\t\tfont-light\r\n\t\t\t\t\t\t\t\t\ttext-center\r\n\t\t\t\t\t\t\t\t\thover:underline\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t@click=\"pdpref.click()\"\r\n\t\t\t\t\t\t\t\t>Changer la photo de profile</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"pdp\"\r\n\t\t\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\tref=\"pdpref\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex items-center justify-center w-1/3\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\trounded-md\r\n\t\t\t\t\t\t\ttext-white text-xl\r\n\t\t\t\t\t\t\tuppercase\r\n\t\t\t\t\t\t\tfont-bold\r\n\t\t\t\t\t\t\tpy-1\r\n\t\t\t\t\t\t\tpx-7\r\n\t\t\t\t\t\t\tbg-blue-700\r\n\t\t\t\t\t\t\thover:bg-blue-900\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t@click=\"save\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ editing ? \"Save\" : \"Edit\" }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w-full flex flex-row items-center justify-center\">\r\n\t\t\t\t<h1 class=\"text-xl font-extrabold text-center\" v-if=\"!editing\">\r\n\t\t\t\t\t{{ nom.toUpperCase() }} {{ prenom.charAt(0).toUpperCase()\r\n\t\t\t\t\t}}{{ prenom.slice(1).toLowerCase() }}\r\n\t\t\t\t</h1>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\trounded-md\r\n\t\t\t\t\t\tborder-0\r\n\t\t\t\t\t\tfont-semibold\r\n\t\t\t\t\t\tbg-gray-200\r\n\t\t\t\t\t\tfocus:ring-blue-800\r\n\t\t\t\t\t\tmr-3\r\n\t\t\t\t\t\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tv-model=\"nom\"\r\n\t\t\t\t\tv-if=\"editing\"\r\n\t\t\t\t\t:disabled=\"loading\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\trounded-md\r\n\t\t\t\t\t\tborder-0\r\n\t\t\t\t\t\tfont-semibold\r\n\t\t\t\t\t\tbg-gray-200\r\n\t\t\t\t\t\tfocus:ring-blue-800\r\n\t\t\t\t\t\tmr-3\r\n\t\t\t\t\t\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tv-model=\"prenom\"\r\n\t\t\t\t\tv-if=\"editing\"\r\n\t\t\t\t\t:disabled=\"loading\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<span\r\n\t\t\t\tclass=\"\r\n\t\t\t\t\ttext-md\r\n\t\t\t\t\tfont-semibold\r\n\t\t\t\t\ttext-center text-gray-400\r\n\t\t\t\t\tflex\r\n\t\t\t\t\titems-center\r\n\t\t\t\t\tw-full\r\n\t\t\t\t\tjustify-center\r\n\t\t\t\t\"\r\n\t\t\t\t><Icon :icon=\"icon\" class=\"mr-1\" height=\"30\" width=\"30\" />\r\n\t\t\t\t{{ fonction }}</span\r\n\t\t\t>\r\n\r\n\t\t\t<div class=\"w-full flex flex-row items-center justify-center\">\r\n\t\t\t\t<Icon icon=\"akar-icons:phone\" class=\"mr-1\" height=\"30\" width=\"30\" />\r\n\t\t\t\t<h1 class=\"text-md font-semibold text-center\" v-if=\"!editing\">\r\n\t\t\t\t\t{{ numero }}\r\n\t\t\t\t</h1>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\trounded-md\r\n\t\t\t\t\t\tborder-0\r\n\t\t\t\t\t\tfont-semibold\r\n\t\t\t\t\t\tbg-gray-200\r\n\t\t\t\t\t\tfocus:ring-blue-800\r\n\t\t\t\t\t\tmr-3\r\n\t\t\t\t\t\"\r\n\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\tv-model=\"numero\"\r\n\t\t\t\t\tv-if=\"editing\"\r\n\t\t\t\t\t:disabled=\"loading\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport UserService from \"@/services/UserService\";\r\nimport { Icon } from \"@iconify/vue\";\r\nexport default {\r\n\tcomponents: {\r\n\t\tIcon,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnom: \"\",\r\n\t\t\tprenom: \"admin\",\r\n\t\t\ticon: \"\",\r\n\t\t\tfonction: \"\",\r\n\t\t\tediting: false,\r\n\t\t\tnumero: \"\",\r\n\t\t};\r\n\t},\r\n\tasync created() {\r\n\t\tif (this.$route.fullPath == \"/me\") {\r\n\t\t\tthis.nom = this.$store.state.user.nom;\r\n\t\t\tthis.prenom = this.$store.state.user.prenom;\r\n\t\t\tthis.icon = \"ph:crown-bold\";\r\n\t\t\tthis.fonction = this.$store.state.user.Fonction.nom;\r\n\t\t\tthis.numero = this.$store.state.user.numero;\r\n\t\t\tthis.username = this.$store.state.user.username;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync save() {\r\n\t\t\tconst id = this.$store.state.user.id;\r\n\t\t\tif (this.editing) {\r\n\t\t\t\tlet rep = await UserService.update({\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tnom: this.nom,\r\n\t\t\t\t\tprenom: this.prenom,\r\n\t\t\t\t\tnumero: this.numero,\r\n\t\t\t\t});\r\n\t\t\t\tif (rep.status == 200) {\r\n\t\t\t\t\trep = await UserService.show(id)\r\n\t\t\t\t\tif(rep.status == 200) this.$store.state.user = rep.data\r\n\t\t\t\t} else if (rep.status == 403) {\r\n\t\t\t\t\tthis.$route.push(\"/login\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.editing = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.editing = true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}