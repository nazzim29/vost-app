{"ast":null,"code":"import { Menu, MenuButton, MenuItem, MenuItems, Listbox, ListboxButton, ListboxOptions, ListboxOption } from \"@headlessui/vue\";\nimport Modal from \"./Modal.vue\";\nimport { DotsVerticalIcon, PencilIcon, UserRemoveIcon // UserCircleIcon,\n} from \"@heroicons/vue/outline\";\nexport default {\n  components: {\n    MenuItems,\n    Menu,\n    MenuButton,\n    MenuItem,\n    DotsVerticalIcon,\n    PencilIcon,\n    UserRemoveIcon,\n    // UserCircleIcon,\n    Modal,\n    Listbox,\n    ListboxButton,\n    ListboxOptions,\n    ListboxOption\n  },\n\n  data() {\n    return {\n      extended: false,\n      newClient: this.client\n    };\n  },\n\n  mounted() {},\n\n  props: [\"client\"],\n  methods: {\n    async deleteClient() {\n      this.$store.dispatch(\"deleteClient\", this.client.id).then(() => {\n        this.$refs.deleteModal.open = false;\n        this.$store.dispatch(\"getClients\");\n      });\n    },\n\n    updateClient() {\n      this.$store.dispatch(\"updateClient\", this.newClient);\n      this.$refs.updateModal.open = false;\n    }\n\n  },\n  computed: {\n    types() {\n      return this.$store.getters.getTypeClients;\n    },\n\n    currentUser() {\n      return this.$store.getters.getCurrentUser;\n    }\n\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\components\\ClientRow.vue"],"names":[],"mappings":"AAqSA,SACE,IADF,EAEE,UAFF,EAGE,QAHF,EAIE,SAJF,EAKE,OALF,EAME,aANF,EAOE,cAPF,EAQE,aARF,QASO,iBATP;AAUA,OAAO,KAAP,MAAkB,aAAlB;AACA,SACE,gBADF,EAEE,UAFF,EAGE,cAHF,CAIE;AAJF,OAKO,wBALP;AAMA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SADU;AAEV,IAAA,IAFU;AAGV,IAAA,UAHU;AAIV,IAAA,QAJU;AAKV,IAAA,gBALU;AAMV,IAAA,UANU;AAOV,IAAA,cAPU;AAQV;AACA,IAAA,KATU;AAUV,IAAA,OAVU;AAWV,IAAA,aAXU;AAYV,IAAA,cAZU;AAaV,IAAA;AAbU,GADC;;AAgBb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,KADL;AAEL,MAAA,SAAS,EAAE,KAAK;AAFX,KAAP;AAID,GArBY;;AAsBb,EAAA,OAAO,GAAG,CAAE,CAtBC;;AAuBb,EAAA,KAAK,EAAE,CAAC,QAAD,CAvBM;AAwBb,EAAA,OAAO,EAAE;AACP,UAAM,YAAN,GAAqB;AACnB,WAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,KAAK,MAAL,CAAY,EAAjD,EAAqD,IAArD,CAA0D,MAAM;AAC9D,aAAK,KAAL,CAAW,WAAX,CAAuB,IAAvB,GAA8B,KAA9B;AACA,aAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB;AACD,OAHD;AAID,KANM;;AAOP,IAAA,YAAY,GAAG;AACb,WAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,KAAK,SAA1C;AACA,WAAK,KAAL,CAAW,WAAX,CAAuB,IAAvB,GAA8B,KAA9B;AACD;;AAVM,GAxBI;AAoCb,EAAA,QAAQ,EAAE;AACR,IAAA,KAAK,GAAG;AACN,aAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,cAA3B;AACD,KAHO;;AAIR,IAAA,WAAW,GAAG;AACZ,aAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,cAA3B;AACD;;AANO;AApCG,CAAf","sourcesContent":["<template>\r\n  <li\r\n    class=\"md:w-48 w-64 overflow-hidden flex flex-col bg-white rounded-md shadow-xs shadow-gray-500 items-center max-h-32 justify-evenly\"\r\n  >\r\n    <div\r\n      class=\"w-4 flex justify-center items-center self-end justify-self-start border-none z-20\"\r\n    >\r\n      <Menu\r\n        as=\"div\"\r\n        class=\"h-full\"\r\n        v-if=\"\r\n          currentUser.Profile.Autorisations.find(\r\n            (el) => el.nom == 'update-client'\r\n          ) ||\r\n          currentUser.Profile.Autorisations.find(\r\n            (el) => el.nom == 'delete-client'\r\n          )\r\n        \"\r\n      >\r\n        <MenuButton class=\"h-full\" @click=\"extended = !extended\">\r\n          <DotsVerticalIcon\r\n            class=\"h-6 w-6 text-black focus:outline-none mr-4\"\r\n          />\r\n        </MenuButton>\r\n        <transition\r\n          enter-active-class=\"transition duration-100 ease-out\"\r\n          enter-from-class=\"transform scale-95 opacity-0\"\r\n          enter-to-class=\"transform scale-100 opacity-100\"\r\n          leave-active-class=\"transition duration-200 ease-out\"\r\n          leave-from-class=\"transform scale-100 opacity-100\"\r\n          leave-to-class=\"transform scale-95 opacity-0\"\r\n        >\r\n          <MenuItems\r\n            class=\"fixed -ml-28 bg-white shadow-2xl border space-y-2 divide-y divide-gray-300 devide-solid rounded-md py-2 px-0 flex flex-col\"\r\n          >\r\n            <div>\r\n              <MenuItem\r\n                v-if=\"\r\n                  currentUser.Profile.Autorisations.find(\r\n                    (el) => el.nom == 'update-client'\r\n                  )\r\n                \"\r\n              >\r\n                <span\r\n                  @click=\"$refs.updateModal.open = true\"\r\n                  class=\"w-full hover:bg-gray-300 flex flex-row justify-start items-center px-2 rounded-sm\"\r\n                >\r\n                  <PencilIcon\r\n                    class=\"h-5 w-5 ml-2 mr-2 text-bold text-blue-800\"\r\n                  />\r\n                  Editer\r\n                </span>\r\n              </MenuItem>\r\n              <MenuItem\r\n                v-if=\"\r\n                  currentUser.Profile.Autorisations.find(\r\n                    (el) => el.nom == 'delete-client'\r\n                  )\r\n                \"\r\n              >\r\n                <button\r\n                  class=\"w-full hover:bg-gray-300 flex flex-row justify-start items-center px-2 rounded-sm\"\r\n                  @click=\"this.$refs.deleteModal.open = true\"\r\n                >\r\n                  <UserRemoveIcon\r\n                    class=\"h-5 w-5 ml-2 mr-2 text-bold text-red-800\"\r\n                  />\r\n                  Supprimer\r\n                </button>\r\n              </MenuItem>\r\n            </div>\r\n            <!-- <MenuItem>\r\n\t\t\t\t\t\t\t<router-link\r\n\t\t\t\t\t\t\t\tas=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"w-full hover:bg-gray-300 flex flex-row justify-start items-center px-2 rounded-sm\"\r\n\t\t\t\t\t\t\t\t:to=\"{ name: 'ClientShow', params: { id: client.id } }\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<UserCircleIcon\r\n\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5 ml-2 mr-2 text-bold text-blue-800\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t</MenuItem> -->\r\n          </MenuItems>\r\n        </transition>\r\n      </Menu>\r\n    </div>\r\n    <div class=\"flex flex-row space-x-2 w-full order-2 -mt-3 px-2\">\r\n      <div class=\"flex flex-col flex-1 items-center\">\r\n        <label\r\n          class=\"text-bold w-full text-center whitespace-nowrap overflow-hidden text-ellipsis\"\r\n          >{{ client.raisonSociale }}</label\r\n        >\r\n        <h3 class=\"text-light text-gray-400 text-sm\">\r\n          {{ client.TypeClient.type }}\r\n        </h3>\r\n        <div class=\"w-full flex items-center justify-center order-4\">\r\n          <label> {{ client.numero }} </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </li>\r\n  <Modal ref=\"updateModal\" primaryColor=\"haja\" @submit=\"updateClient\">\r\n    <template v-slot:title>Modifier un client</template>\r\n    <template v-slot:body>\r\n      <div class=\"flex flex-col w-full pt-16 pb-5 overflow-hidden\">\r\n        <div class=\"flex flex-col space-y-3 mt-4 px-2\">\r\n          <div class=\"flex flex-col w-full space-y-2 space-x-2\">\r\n            <label\r\n              class=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n              >Raison Sociale</label\r\n            >\r\n            <div\r\n              class=\"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden\"\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                name=\"raison_social\"\r\n                id=\"raison_social\"\r\n                v-model=\"newClient.raisonSociale\"\r\n                placeholder=\"Raison social\"\r\n                class=\"rounded-r-md border-0 focus:ring-0\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col w-full space-y-2 space-x-2\">\r\n            <label\r\n              for=\"numero\"\r\n              class=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n              >Numero</label\r\n            >\r\n            <div\r\n              class=\"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden\"\r\n            >\r\n              <label\r\n                for=\"numero\"\r\n                class=\"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b\"\r\n                >+213</label\r\n              >\r\n              <input\r\n                type=\"tel\"\r\n                name=\"numero\"\r\n                id=\"numero\"\r\n                v-model=\"newClient.numero\"\r\n                placeholder=\"Numero de telephone\"\r\n                class=\"rounded-r-md border-0 focus:ring-0\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col w-full space-y-2 space-x-2\">\r\n            <label\r\n              for=\"numero\"\r\n              class=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n              >Numero secondaire</label\r\n            >\r\n            <div\r\n              class=\"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600\"\r\n            >\r\n              <label\r\n                for=\"numero\"\r\n                class=\"flex items-center uppercase text-bold flex-1 rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b\"\r\n                >+213</label\r\n              >\r\n              <input\r\n                type=\"tel\"\r\n                name=\"numero_secondaire\"\r\n                id=\"numero_secondaire\"\r\n                v-model=\"newClient.numeroSecondaire\"\r\n                placeholder=\"Numero de telephone (optionel)\"\r\n                class=\"rounded-r-md border-0 focus:ring-0\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col w-full\">\r\n            <div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n              <label\r\n                for=\"passwordConfirm\"\r\n                class=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n                >Type</label\r\n              >\r\n              <Listbox v-model=\"newClient.TypeClientId\">\r\n                <div class=\"relative w-full mx-1 space-x-auto\">\r\n                  <ListboxButton\r\n                    class=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n                  >\r\n                    <span class=\"block truncate\">{{\r\n                      types.find((el) => el.id == newClient.TypeClientId)\r\n                        ?.type || \"Type\"\r\n                    }}</span>\r\n                    <span\r\n                      class=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n                    >\r\n                      <SelectorIcon\r\n                        class=\"w-5 h-5 text-gray-400\"\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                    </span>\r\n                  </ListboxButton>\r\n\r\n                  <transition\r\n                    leave-active-class=\"transition duration-100 ease-in\"\r\n                    leave-from-class=\"opacity-100\"\r\n                    leave-to-class=\"opacity-0\"\r\n                  >\r\n                    <ListboxOptions\r\n                      class=\"absolute mt-1 w-11/12 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left\"\r\n                    >\r\n                      <ListboxOption\r\n                        v-slot=\"{ active, selected }\"\r\n                        v-for=\"f in types\"\r\n                        :key=\"f.id\"\r\n                        :value=\"f.id\"\r\n                        as=\"template\"\r\n                      >\r\n                        <li\r\n                          :class=\"[\r\n                            active\r\n                              ? 'text-amber-900 bg-amber-100'\r\n                              : 'text-gray-900',\r\n                            'cursor-default select-none relative py-2 pl-10 pr-4',\r\n                          ]\"\r\n                        >\r\n                          <span\r\n                            :class=\"[\r\n                              selected ? 'font-medium' : 'font-normal',\r\n                              'block truncate',\r\n                            ]\"\r\n                            >{{ f.type }}</span\r\n                          >\r\n                          <span\r\n                            v-if=\"selected\"\r\n                            class=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n                          >\r\n                            <CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                          </span>\r\n                        </li>\r\n                      </ListboxOption>\r\n                    </ListboxOptions>\r\n                  </transition>\r\n                </div>\r\n              </Listbox>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col w-full\">\r\n            <div class=\"flex flex-col items-start space-y-2 space-x-2 w-full\">\r\n              <label\r\n                for=\"password\"\r\n                class=\"flex items-center text-bold h-full rounded-l-md px-2\"\r\n                >Mot de passe</label\r\n              >\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                id=\"password\"\r\n                v-model=\"newClient.password\"\r\n                placeholder=\"Mot de passe\"\r\n                class=\"rounded-md border-0 w-auto\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col w-full\">\r\n            <div class=\"flex flex-col items-start w-max space-y-2 space-x-2\">\r\n              <label\r\n                for=\"passwordConfirm\"\r\n                class=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n                >Confirmation</label\r\n              >\r\n              <input\r\n                type=\"password\"\r\n                name=\"passwordConfirm\"\r\n                id=\"passwordConfirm\"\r\n                v-model=\"newClient.passwordConfirm\"\r\n                placeholder=\"Confirmation\"\r\n                class=\"rounded-md border-0 w-auto\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template v-slot:submit>Ajouter</template>\r\n  </Modal>\r\n  <Modal ref=\"deleteModal\" primaryColor=\"red-400\" @submit=\"deleteClient\">\r\n    <template v-slot:title>Supprimer un client</template>\r\n    <template v-slot:body\r\n      >Etes-vous sur de vouloir supprimer le client\r\n      {{ client.raisonSocial }}</template\r\n    >\r\n    <template v-slot:submit>Supprimer</template>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Menu,\r\n  MenuButton,\r\n  MenuItem,\r\n  MenuItems,\r\n  Listbox,\r\n  ListboxButton,\r\n  ListboxOptions,\r\n  ListboxOption,\r\n} from \"@headlessui/vue\";\r\nimport Modal from \"./Modal.vue\";\r\nimport {\r\n  DotsVerticalIcon,\r\n  PencilIcon,\r\n  UserRemoveIcon,\r\n  // UserCircleIcon,\r\n} from \"@heroicons/vue/outline\";\r\nexport default {\r\n  components: {\r\n    MenuItems,\r\n    Menu,\r\n    MenuButton,\r\n    MenuItem,\r\n    DotsVerticalIcon,\r\n    PencilIcon,\r\n    UserRemoveIcon,\r\n    // UserCircleIcon,\r\n    Modal,\r\n    Listbox,\r\n    ListboxButton,\r\n    ListboxOptions,\r\n    ListboxOption,\r\n  },\r\n  data() {\r\n    return {\r\n      extended: false,\r\n      newClient: this.client,\r\n    };\r\n  },\r\n  mounted() {},\r\n  props: [\"client\"],\r\n  methods: {\r\n    async deleteClient() {\r\n      this.$store.dispatch(\"deleteClient\", this.client.id).then(() => {\r\n        this.$refs.deleteModal.open = false;\r\n        this.$store.dispatch(\"getClients\");\r\n      });\r\n    },\r\n    updateClient() {\r\n      this.$store.dispatch(\"updateClient\", this.newClient);\r\n      this.$refs.updateModal.open = false;\r\n    },\r\n  },\r\n  computed: {\r\n    types() {\r\n      return this.$store.getters.getTypeClients;\r\n    },\r\n    currentUser() {\r\n      return this.$store.getters.getCurrentUser;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}