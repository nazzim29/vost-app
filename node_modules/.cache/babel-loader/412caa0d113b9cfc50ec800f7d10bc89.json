{"ast":null,"code":"import Modal from \"@/components/Modal\";\nimport Pagination from \"@/components/Pagination\";\nimport { debounce } from \"lodash\";\nimport { Dialog, DialogOverlay, Disclosure, DisclosureButton, DisclosurePanel, TransitionChild, TransitionRoot } from \"@headlessui/vue\";\nimport { MinusSmIcon, PlusSmIcon, FilterIcon, SelectorIcon, CheckIcon } from \"@heroicons/vue/solid\";\nimport { XIcon, PencilIcon } from \"@heroicons/vue/outline\";\nimport SearchBar from \"@/components/SearchBar\";\nimport ProductRow from \"@/components/ProductRow\";\nimport { Icon } from \"@iconify/vue\";\nimport { Listbox, ListboxButton, ListboxOptions, ListboxOption } from \"@headlessui/vue\";\nimport { QuillEditor } from \"@vueup/vue-quill\";\nexport default {\n  name: \"Produits\",\n  components: {\n    QuillEditor,\n    SelectorIcon,\n    CheckIcon,\n    Pagination,\n    Icon,\n    PencilIcon,\n    ProductRow,\n    SearchBar,\n    Dialog,\n    DialogOverlay,\n    Disclosure,\n    DisclosureButton,\n    DisclosurePanel,\n    TransitionChild,\n    TransitionRoot,\n    FilterIcon,\n    MinusSmIcon,\n    PlusSmIcon,\n    XIcon,\n    Listbox,\n    ListboxButton,\n    ListboxOptions,\n    ListboxOption,\n    Modal\n  },\n\n  async beforeMount() {\n    // document.body.addEventListener('resize',function(){\n    // \tconsole.log(\"this\")\n    // })\n    // console.log(\"saha\", window)\n    await this.$store.dispatch(\"getMatieres\");\n    await this.$store.dispatch(\"getProduits\");\n    await this.$store.dispatch(\"getCouleurs\");\n    await this.$store.dispatch(\"getTypeproduits\"); // this.couleurs = (await ProduitService.getCouleurs()).data;\n    // this.types = (await ProduitService.getTypes()).data;\n    // this.getUsers();\n  },\n\n  data() {\n    return {\n      currentPage: 1,\n      couleursel: [],\n      typesel: [],\n      newProduit: {\n        description: ''\n      },\n      mobileFiltersOpen: false,\n      api_url: process.env.VUE_APP_API_URL\n    };\n  },\n\n  methods: {\n    picturechanged(event) {\n      this.newProduit.image = URL.createObjectURL(event.target.files[0]);\n    },\n\n    getImageUrl(image) {\n      let a = process.env.VUE_APP_API_URL + \"uploads/products\" + image;\n      console.error({\n        a\n      });\n      return a;\n    },\n\n    async create() {\n      await this.$store.dispatch(\"addProduit\", { ...this.newProduit,\n        image: this.$refs.fileInput.files[0]\n      });\n      this.$refs.createmodal.open = false;\n    },\n\n    pencilCLick() {\n      this.$refs.fileInput.click();\n    },\n\n    openCreateModal() {\n      this.$refs.createmodal.open = true;\n    },\n\n    searchfn: debounce(async function (e) {\n      this.$store.dispatch(\"getProduits\", {\n        nom: e,\n        contenance: e,\n        CouleurId: this.couleursel,\n        TypeProduitId: this.typesel\n      });\n    }, 500),\n\n    opendeletemodal(produit) {\n      this.$refs.deletemodal.open = true;\n      this.$refs.deletemodal.produit = produit;\n    }\n\n  },\n  computed: {\n    currentUser() {\n      return this.$store.getters.getCurrentUser;\n    },\n\n    txt() {\n      return this.newProduit.description?.getText() || true;\n    },\n\n    couleurs() {\n      return this.$store.getters.getCouleurs;\n    },\n\n    types() {\n      return this.$store.getters.getTypeproduits;\n    },\n\n    produits() {\n      return this.$store.getters.getProduits;\n    },\n\n    nbperpage() {\n      if (window.innerWidth >= 640 && window.innerWidth < 768) return 2 * 5;else if (window.innerWidth >= 768 && window.innerWidth < 1280) return 3 * 5;else if (window.innerWidth > 1280) return 4 * 5;else return 6;\n    },\n\n    showedProduits() {\n      let produits = this.produits;\n      if (produits.length % this.nbperpage != 0 && parseInt(produits.length / this.nbperpage) == this.currentPage - 1) return produits.slice((this.currentPage - 1) * this.nbperpage);\n      return produits.slice((this.currentPage - 1) * this.nbperpage, (this.currentPage - 1) * this.nbperpage + this.nbperpage);\n    }\n\n  },\n  watch: {\n    couleursel() {\n      this.$store.dispatch(\"getProduits\", {\n        nom: this.$refs.searchbar.search,\n        contenance: this.$refs.searchbar.search,\n        couleur: this.couleursel,\n        TypeProduitId: this.typesel\n      });\n    },\n\n    typesel() {\n      this.$store.dispatch(\"getProduits\", {\n        nom: this.$refs.searchbar.search,\n        contenance: this.$refs.searchbar.search,\n        couleur: this.couleursel,\n        TypeProduitId: this.typesel\n      });\n    }\n\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\views\\produits\\Produits.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div\r\n\t\t:class=\"['flex flex-col w-full justify-center items-center h-full bg-gray-700 overflow-hidden']\"\r\n\t\t\r\n\t>\r\n\t\t<div class=\"flex self-start w-full items-center space-x-3 h-16 py-1 px-2\">\r\n\t\t\t<SearchBar ref=\"searchbar\" @search=\"searchfn\" />\r\n\t\t\t<div\r\n\t\t\t\tclass=\"rounded-full py-2 px-2 bg-gray-500\"\r\n\t\t\t\t:class=\"{ hidden: $refs?.searchbar?.open }\"\r\n\t\t\t>\r\n\t\t\t\t<FilterIcon\r\n\t\t\t\t\t@click=\"mobileFiltersOpen = !mobileFiltersOpen\"\r\n\t\t\t\t\tclass=\"h-7 fill-current text-white\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rounded-full py-2 px-2 bg-gray-500\" v-if=\"currentUser.Profile.Autorisations.find(el=>el.nom == 'add-produit')\">\r\n\t\t\t\t<Icon\r\n\t\t\t\t\ticon=\"bx:bx-paint-roll\"\r\n\t\t\t\t\t@click=\"openCreateModal\"\r\n\t\t\t\t\tclass=\"h-7 w-7 fill-current text-white\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"bg-blue-900\">\r\n\t\t\t<div>\r\n\t\t\t\t<!-- Mobile filter dialog -->\r\n\t\t\t\t<TransitionRoot as=\"template\" :show=\"mobileFiltersOpen\">\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\tas=\"div\"\r\n\t\t\t\t\t\tclass=\"fixed inset-0 flex z-40\"\r\n\t\t\t\t\t\t@close=\"mobileFiltersOpen = false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TransitionChild\r\n\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\tenter=\"transition-opacity ease-linear duration-300\"\r\n\t\t\t\t\t\t\tenter-from=\"opacity-0\"\r\n\t\t\t\t\t\t\tenter-to=\"opacity-100\"\r\n\t\t\t\t\t\t\tleave=\"transition-opacity ease-linear duration-300\"\r\n\t\t\t\t\t\t\tleave-from=\"opacity-100\"\r\n\t\t\t\t\t\t\tleave-to=\"opacity-0\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DialogOverlay class=\"fixed inset-0 bg-black bg-opacity-25\" />\r\n\t\t\t\t\t\t</TransitionChild>\r\n\r\n\t\t\t\t\t\t<TransitionChild\r\n\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\tenter=\"transition ease-in-out duration-300 transform\"\r\n\t\t\t\t\t\t\tenter-from=\"translate-x-full\"\r\n\t\t\t\t\t\t\tenter-to=\"translate-x-0\"\r\n\t\t\t\t\t\t\tleave=\"transition ease-in-out duration-300 transform\"\r\n\t\t\t\t\t\t\tleave-from=\"translate-x-0\"\r\n\t\t\t\t\t\t\tleave-to=\"translate-x-full\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"px-4 flex items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<h2 class=\"text-lg font-medium text-gray-300\">Filters</h2>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"mobileFiltersOpen = false\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"sr-only text-white\">Close menu</span>\r\n\t\t\t\t\t\t\t\t\t\t<XIcon class=\"h-6 w-6 text-gray-300\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Disclosure\r\n\t\t\t\t\t\t\t\t\tas=\"div\"\r\n\t\t\t\t\t\t\t\t\tclass=\"border-t border-gray-400 px-4 py-6\"\r\n\t\t\t\t\t\t\t\t\tv-slot=\"{ open }\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<h3 class=\"-mx-2 -my-3 flow-root\">\r\n\t\t\t\t\t\t\t\t\t\t<DisclosureButton as=\"template\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-400\"> Types </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-6 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!open\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</DisclosureButton>\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t<DisclosurePanel class=\"pt-6\">\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"types.length > 0\" class=\"space-y-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"type in types\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"type.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"type.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:checked=\"type.checked\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"typesel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ml-3 min-w-0 flex-1 text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ type.nom }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</DisclosurePanel>\r\n\t\t\t\t\t\t\t\t</Disclosure>\r\n\t\t\t\t\t\t\t\t<Disclosure\r\n\t\t\t\t\t\t\t\t\tas=\"div\"\r\n\t\t\t\t\t\t\t\t\tclass=\"border-t border-gray-400 px-4 py-6\"\r\n\t\t\t\t\t\t\t\t\tv-slot=\"{ open }\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<h3 class=\"-mx-2 -my-3 flow-root\">\r\n\t\t\t\t\t\t\t\t\t\t<DisclosureButton as=\"template\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCouleurs\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-6 flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!open\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusSmIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</DisclosureButton>\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t<DisclosurePanel class=\"pt-6\">\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"couleurs.length > 0\" class=\"space-y-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"couleur in couleurs\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"couleur.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"couleur.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:checked=\"couleur.checked\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-4 w-4 border-gray-400 rounded\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'--tw-ring-color': `#${couleur.code}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: `#${couleur.code}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"couleursel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-3 min-w-0 flex-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{ color: `#${couleur.code}` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ couleur.nom }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</DisclosurePanel>\r\n\t\t\t\t\t\t\t\t</Disclosure>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TransitionChild>\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</TransitionRoot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"flex-1 flex flex-col h-full w-full overflow-hidden\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"h-full md:justify-center aligned-center w-full flex flex-1 flex-col overflow-auto overflow-x-hidden py-3\"\r\n\t\t\t>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclass=\"w-full h-full grid grid-flow-row gap-4 grid-cols-1 p-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 justify-center items-center\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ProductRow\r\n\t\t\t\t\t\tv-for=\"produit in showedProduits\"\r\n\t\t\t\t\t\t:key=\"produit.id\"\r\n\t\t\t\t\t\t:produit=\"produit\"\r\n\t\t\t\t\t\t@delete=\"opendeletemodal\"\r\n\t\t\t\t\t\t@show=\"showProduct\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tref=\"Pagination\"\r\n\t\t\t\t:currentPage=\"currentPage\"\r\n\t\t\t\t:pageSize=\"nbperpage\"\r\n\t\t\t\t:dataLength=\"produits.length\"\r\n\t\t\t\t@page=\"currentPage = $event\"\r\n\t\t\t\t@next=\"currentPage++\"\r\n\t\t\t\t@prev=\"currentPage--\"\r\n\t\t\t\t@first=\"currentPage = 1\"\r\n\t\t\t\t@last=\"currentPage = $refs.Pagination.pageNumber\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n\t<Modal ref=\"createmodal\" primaryColor=\"haja\" @submit=\"create\">\r\n\t\t<template v-slot:title>Ajouter un produit</template>\r\n\t\t<template v-slot:body>\r\n\t\t\t<div class=\"flex flex-col w-full pb-5 overflow-y-auto\">\r\n\t\t\t\t<div class=\"relative mt-24 self-center mx-4 max-w-xs\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tref=\"avatarDisplay\"\r\n\t\t\t\t\t\tclass=\"w-full object-fit h-full rounded-md overflow-hidden\"\r\n\t\t\t\t\t\t:src=\"\r\n\t\t\t\t\t\t\tnewProduit.image ||\r\n\t\t\t\t\t\t\t`${api_url}/uploads/products/default.jpeg`\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PencilIcon\r\n\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\t@click=\"pencilCLick\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tstyle=\"display: none\"\r\n\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\tref=\"fileInput\"\r\n\t\t\t\t\t\t@change=\"picturechanged\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-col space-y-3 mt-4 px-2\">\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start space-y-2 space-x-2 w-full\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"nom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Nom</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"nom\"\r\n\t\t\t\t\t\t\t\tid=\"nom\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.nom\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nom\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>contenance</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"contenance\"\r\n\t\t\t\t\t\t\t\tid=\"contenance\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.contenance\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Contenance\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>Prix</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"prix\"\r\n\t\t\t\t\t\t\t\tid=\"prix\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.prix\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Prix\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<label for=\"color\">Choisissez une couleur: </label>\r\n\t\t\t\t\t\t<div class=\"w-full inline-flex items-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md w-20\"\r\n\t\t\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.couleur\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.couleur\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-none text-gray-400 w-24\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Type</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Listbox v-model=\"newProduit.TypeProduit\">\r\n\t\t\t\t\t\t\t\t<div class=\"relative w-3/4\">\r\n\t\t\t\t\t\t\t\t\t<ListboxButton\r\n\t\t\t\t\t\t\t\t\t\tclass=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"block truncate\">{{\r\n\t\t\t\t\t\t\t\t\t\t\tnewProduit?.TypeProduit?.nom || \"Type\"\r\n\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SelectorIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5 text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t\t\t\t\t\t<transition\r\n\t\t\t\t\t\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\t\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\t\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left z-50\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"t in types\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"t.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-amber-900 bg-amber-100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cursor-default select-none relative py-2 pl-10 pr-4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected ? 'font-medium' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ t.nom }}</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Listbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t>Couleur</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Listbox v-model=\"newProduit.Couleur\">\r\n\t\t\t\t\t\t\t\t<div class=\"relative w-3/4\">\r\n\t\t\t\t\t\t\t\t\t<ListboxButton\r\n\t\t\t\t\t\t\t\t\t\tclass=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"block truncate\">{{\r\n\t\t\t\t\t\t\t\t\t\t\tnewProduit?.Couleur?.nom || \"Couleur\"\r\n\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SelectorIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5 text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t\t\t\t\t\t<transition\r\n\t\t\t\t\t\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\t\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\t\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"t in couleurs\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"t.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-amber-900 bg-amber-100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cursor-default select-none relative py-2 pl-10 pr-4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected ? 'font-medium' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ t.nom }}</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Listbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-x-2\">\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>Description</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<QuillEditor\r\n\t\t\t\t\t\t\t\t\tv-model:content=\"newProduit.description\"\r\n\t\t\t\t\t\t\t\t\tcontentType=\"html\"\r\n\t\t\t\t\t\t\t\t\tref='quill'\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Description ...\"\r\n\t\t\t\t\t\t\t\t\ttheme=\"snow\"\r\n\t\t\t\t\t\t\t\t\t@focus=\"focus\"\r\n\t\t\t\t\t\t\t\t></QuillEditor>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center w-full space-x-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tname=\"featured\"\r\n\t\t\t\t\t\t\t\tid=\"featured\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.featured\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md w-5 h-5 focus:outline-none focus:ring-0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t>Mettre a la une</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template v-slot:submit>Ajouter</template>\r\n\t</Modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"@/components/Modal\";\r\nimport Pagination from \"@/components/Pagination\";\r\nimport { debounce } from \"lodash\";\r\nimport {\r\n\tDialog,\r\n\tDialogOverlay,\r\n\tDisclosure,\r\n\tDisclosureButton,\r\n\tDisclosurePanel,\r\n\tTransitionChild,\r\n\tTransitionRoot,\r\n} from \"@headlessui/vue\";\r\nimport {\r\n\tMinusSmIcon,\r\n\tPlusSmIcon,\r\n\tFilterIcon,\r\n\tSelectorIcon,\r\n\tCheckIcon,\r\n} from \"@heroicons/vue/solid\";\r\nimport { XIcon, PencilIcon } from \"@heroicons/vue/outline\";\r\nimport SearchBar from \"@/components/SearchBar\";\r\nimport ProductRow from \"@/components/ProductRow\";\r\nimport { Icon } from \"@iconify/vue\";\r\nimport {\r\n\tListbox,\r\n\tListboxButton,\r\n\tListboxOptions,\r\n\tListboxOption,\r\n} from \"@headlessui/vue\";\r\nimport { QuillEditor } from \"@vueup/vue-quill\";\r\nexport default {\r\n\tname: \"Produits\",\r\n\tcomponents: {\r\n\t\tQuillEditor,\r\n\t\tSelectorIcon,\r\n\t\tCheckIcon,\r\n\t\tPagination,\r\n\t\tIcon,\r\n\t\tPencilIcon,\r\n\t\tProductRow,\r\n\t\tSearchBar,\r\n\t\tDialog,\r\n\t\tDialogOverlay,\r\n\t\tDisclosure,\r\n\t\tDisclosureButton,\r\n\t\tDisclosurePanel,\r\n\t\tTransitionChild,\r\n\t\tTransitionRoot,\r\n\t\tFilterIcon,\r\n\t\tMinusSmIcon,\r\n\t\tPlusSmIcon,\r\n\t\tXIcon,\r\n\t\tListbox,\r\n\t\tListboxButton,\r\n\t\tListboxOptions,\r\n\t\tListboxOption,\r\n\t\tModal,\r\n\t},\r\n\tasync beforeMount() {\r\n\t\t// document.body.addEventListener('resize',function(){\r\n\t\t// \tconsole.log(\"this\")\r\n\t\t// })\r\n\t\t// console.log(\"saha\", window)\r\n\t\tawait this.$store.dispatch(\"getMatieres\")\r\n\t\tawait this.$store.dispatch(\"getProduits\");\r\n\t\tawait this.$store.dispatch(\"getCouleurs\");\r\n\t\tawait this.$store.dispatch(\"getTypeproduits\");\r\n\t\t// this.couleurs = (await ProduitService.getCouleurs()).data;\r\n\t\t// this.types = (await ProduitService.getTypes()).data;\r\n\t\t// this.getUsers();\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tcouleursel: [],\r\n\t\t\ttypesel: [],\r\n\t\t\tnewProduit: {\r\n\t\t\t\tdescription: ''\r\n\t\t\t},\r\n\t\t\tmobileFiltersOpen: false,\r\n\t\t\tapi_url: process.env.VUE_APP_API_URL\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\t\r\n\t\tpicturechanged(event) {\r\n\t\t\tthis.newProduit.image = URL.createObjectURL(event.target.files[0]);\r\n\t\t},\r\n\t\tgetImageUrl(image) {\r\n\t\t\tlet a = process.env.VUE_APP_API_URL + \"uploads/products\" + image;\r\n\t\t\tconsole.error({ a });\r\n\t\t\treturn a;\r\n\t\t},\r\n\t\tasync create() {\r\n\t\t\tawait this.$store.dispatch(\"addProduit\", {\r\n\t\t\t\t...this.newProduit,\r\n\t\t\t\timage: this.$refs.fileInput.files[0],\r\n\t\t\t});\r\n\t\t\tthis.$refs.createmodal.open = false;\r\n\t\t},\r\n\t\tpencilCLick() {\r\n\t\t\tthis.$refs.fileInput.click();\r\n\t\t},\r\n\t\topenCreateModal() {\r\n\t\t\tthis.$refs.createmodal.open = true;\r\n\t\t},\r\n\r\n\t\tsearchfn: debounce(async function (e) {\r\n\t\t\tthis.$store.dispatch(\"getProduits\", {\r\n\t\t\t\tnom: e,\r\n\t\t\t\tcontenance: e,\r\n\t\t\t\tCouleurId: this.couleursel,\r\n\t\t\t\tTypeProduitId: this.typesel,\r\n\t\t\t});\r\n\t\t}, 500),\r\n\t\topendeletemodal(produit) {\r\n\t\t\tthis.$refs.deletemodal.open = true;\r\n\t\t\tthis.$refs.deletemodal.produit = produit;\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tcurrentUser(){\r\n\t\t\treturn this.$store.getters.getCurrentUser;\r\n\t\t},\r\n\t\ttxt(){\r\n\t\t\treturn this.newProduit.description?.getText()||true;\r\n\t\t},\r\n\t\tcouleurs() {\r\n\t\t\treturn this.$store.getters.getCouleurs;\r\n\t\t},\r\n\t\ttypes() {\r\n\t\t\treturn this.$store.getters.getTypeproduits;\r\n\t\t},\r\n\t\tproduits() {\r\n\t\t\treturn this.$store.getters.getProduits;\r\n\t\t},\r\n\t\tnbperpage() {\r\n\t\t\tif (window.innerWidth >= 640 && window.innerWidth < 768) return 2 * 5;\r\n\t\t\telse if (window.innerWidth >= 768 && window.innerWidth < 1280)\r\n\t\t\t\treturn 3 * 5;\r\n\t\t\telse if (window.innerWidth > 1280) return 4 * 5;\r\n\t\t\telse return 6;\r\n\t\t},\r\n\t\tshowedProduits() {\r\n\t\t\tlet produits = this.produits;\r\n\t\t\tif (\r\n\t\t\t\tproduits.length % this.nbperpage != 0 &&\r\n\t\t\t\tparseInt(produits.length / this.nbperpage) == this.currentPage - 1\r\n\t\t\t)\r\n\t\t\t\treturn produits.slice((this.currentPage - 1) * this.nbperpage);\r\n\t\t\treturn produits.slice(\r\n\t\t\t\t(this.currentPage - 1) * this.nbperpage,\r\n\t\t\t\t(this.currentPage - 1) * this.nbperpage + this.nbperpage\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tcouleursel() {\r\n\t\t\tthis.$store.dispatch(\"getProduits\", {\r\n\t\t\t\tnom: this.$refs.searchbar.search,\r\n\t\t\t\tcontenance: this.$refs.searchbar.search,\r\n\t\t\t\tcouleur: this.couleursel,\r\n\t\t\t\tTypeProduitId: this.typesel,\r\n\t\t\t});\r\n\t\t},\r\n\t\ttypesel() {\r\n\t\t\tthis.$store.dispatch(\"getProduits\", {\r\n\t\t\t\tnom: this.$refs.searchbar.search,\r\n\t\t\t\tcontenance: this.$refs.searchbar.search,\r\n\t\t\t\tcouleur: this.couleursel,\r\n\t\t\t\tTypeProduitId: this.typesel,\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.diamond {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttext-align: center;\r\n\ttransform: rotate(45deg);\r\n}\r\n.diamond > div {\r\n\ttransform: rotate(-45deg);\r\n}\r\n.diamond.hidden {\r\n\tdisplay: none;\r\n}\r\n@media screen and (min-width: 640px) {\r\n\t.diamond.sm\\:flex {\r\n\t\tdisplay: flex;\r\n\t}\r\n}\r\n</style>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}