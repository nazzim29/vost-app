{"ast":null,"code":"import { Icon } from \"@iconify/vue\";\nimport Modal from \"./Modal\";\nimport { Listbox, ListboxButton, ListboxOptions, ListboxOption } from \"@headlessui/vue\";\nimport { QuillEditor } from \"@vueup/vue-quill\";\nexport default {\n  name: \"ProductRow\",\n  props: [\"produit\"],\n  components: {\n    QuillEditor,\n    Icon,\n    Modal,\n    Listbox,\n    ListboxButton,\n    ListboxOptions,\n    ListboxOption\n  },\n\n  data() {\n    return {\n      newProduit: this.produit,\n      extended: false,\n      isEditingFormule: false,\n      newFormule: {}\n    };\n  },\n\n  methods: {\n    toggleExtended() {\n      console.log(\"extended\");\n\n      if (this.extended) {\n        this.isEditingFormule = false;\n      }\n\n      this.extended = !this.extended;\n    },\n\n    saveFormule() {\n      if (this.isEditingFormule) {\n        this.isEditingFormule = false;\n      }\n    },\n\n    addMatiere() {\n      console.log(this.newProduit.id);\n\n      if (this.newFormule.MatiereId && this.newFormule.quantite) {\n        this.$store.dispatch(\"addFormule\", {\n          MatiereId: this.newFormule.MatiereId,\n          quantite: this.newFormule.quantite,\n          ProduitId: this.newProduit.id\n        });\n        this.newFormule = {};\n      }\n    },\n\n    removeMatiere({\n      Formule\n    }) {\n      this.$store.dispatch('removeFormule', {\n        MatiereId: Formule.MatiereId,\n        ProduitId: Formule.ProduitId\n      });\n    },\n\n    deleteproduit() {\n      console.log(this.produit.id);\n      this.$store.dispatch(\"deleteProduit\", this.produit.id);\n      this.$refs.modal.open = false;\n      this.searchfn(\"\");\n    },\n\n    async togglefeatured() {\n      this.newProduit.featured = !this.newProduit.featured;\n      this.$store.dispatch(\"updateProduit\", this.newProduit);\n    },\n\n    async update() {\n      this.$store.dispatch(\"updateProduit\", this.newProduit);\n      this.$refs.editmodal.open = false;\n    }\n\n  },\n  computed: {\n    imageUrl() {\n      console.log(process.env);\n      return process.env.VUE_APP_API_URL + \"/uploads/products/\" + this.newProduit.image;\n    },\n\n    matieres() {\n      return this.$store.getters.getMatieres;\n    },\n\n    couleurs() {\n      return this.$store.getters.getCouleurs;\n    },\n\n    types() {\n      return this.$store.getters.getTypeproduits;\n    },\n\n    currentUser() {\n      return this.$store.getters.getCurrentUser;\n    }\n\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\vost-app\\src\\components\\ProductRow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div\r\n\t\t:class=\"[\r\n\t\t\t'h-72 w-full bg-white mx-auto rounded-md  flex flex-row overflow-hidden xl:max-h-80 transition-all duration-200 ease-linear',\r\n\t\t\textended && 'md:col-span-2',\r\n\t\t]\"\r\n\t>\r\n\t\t<div :class=\"['flex flex-col h-full transition-all duration-200 ease-linear', extended ? 'w-1/4' : 'w-full']\">\r\n\t\t\t<img\r\n\t\t\t\t:src=\"imageUrl\"\r\n\t\t\t\t@click=\"toggleExtended\"\r\n\t\t\t\tclass=\"w-full h-1/2 object-cover flex-1 xl:object-center \"\r\n\t\t\t/>\r\n\t\t\t<div class=\"w-full rounded-t-md transition-all duration-200 ease-linear\">\r\n\t\t\t\t<div\r\n\t\t\t\t\t:style=\"{ 'background-color': `#${produit.Couleur.code}` }\"\r\n\t\t\t\t\tclass=\"w-full object-fit relative flex flex-col\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"w-full flex p-1 flex-row justify-between\">\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tv-if=\"currentUser.Profile.Autorisations.find(el=>el.nom == 'update-produit')\"\r\n\t\t\t\t\t\t\ticon=\"ic:baseline-favorite\"\r\n\t\t\t\t\t\t\tclass=\"h-5 w-5\"\r\n\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t'text-red-400': produit.featured,\r\n\t\t\t\t\t\t\t\t'text-gray-300': !produit.featured,\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t@click=\"togglefeatured\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tv-if=\"currentUser.Profile.Autorisations.find(el=>el.nom == 'update-produit')\"\r\n\t\t\t\t\t\t\ticon=\"bi:brush\"\r\n\t\t\t\t\t\t\tclass=\"h-5 w-5 text-gray-600\"\r\n\t\t\t\t\t\t\t@click=\"this.$refs.editmodal.open = true\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tv-if=\"currentUser.Profile.Autorisations.find(el=>el.nom == 'delete-produit')\"\r\n\t\t\t\t\t\t\ticon=\"clarity:archive-line\"\r\n\t\t\t\t\t\t\tclass=\"h-5 w-5 text-red-600\"\r\n\t\t\t\t\t\t\t@click=\"this.$refs.deletemodal.open = true\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span class=\"font-bold w-full text-lg text-center transition-all duration-200 ease-linear\">{{\r\n\t\t\t\t\t\tproduit.nom\r\n\t\t\t\t\t}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex flex-row w-full p-2 divide-x-2 h-1/4\">\r\n\t\t\t\t<div class=\"flex flex-col h-full w-1/3 justify-center items-center\">\r\n\t\t\t\t\t<label class=\"text-xl font-bold text-black antialiased\">{{\r\n\t\t\t\t\t\tproduit.prix || \"0\"\r\n\t\t\t\t\t}}</label>\r\n\t\t\t\t\t<label class=\"text-sm font-light text-gray-500 antialiased\"\r\n\t\t\t\t\t\t>DZD</label\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-col h-full w-1/3 justify-center items-center\">\r\n\t\t\t\t\t<label class=\"text-xl font-bold text-black antialiased\">{{\r\n\t\t\t\t\t\tproduit.contenance\r\n\t\t\t\t\t}}</label>\r\n\t\t\t\t\t<label class=\"text-sm font-light text-gray-500 antialiased\"\r\n\t\t\t\t\t\t>Litres</label\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-col h-full w-1/3 justify-center items-center\">\r\n\t\t\t\t\t<label class=\"text-xl font-bold text-black antialiased\">{{\r\n\t\t\t\t\t\tproduit.quantite || \"0\"\r\n\t\t\t\t\t}}/{{produit.quantiteCommande || 0}}</label>\r\n\t\t\t\t\t<label class=\"text-sm font-light text-gray-500 antialiased\"\r\n\t\t\t\t\t\t>Unités</label\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"flex-1 w-3/4 transition-all duration-700 ease-linear\" v-if=\"extended\">\r\n\t\t\t<div class=\"w-full flex-row flex justify-between p-2\">\r\n\t\t\t\t<h1 class=\"font-semibold font-md ml-2 \">Formule</h1>\r\n\t\t\t\t<button class=\"btn btn-sm btn-primary\" @click=\"isEditingFormule = !isEditingFormule\" v-if=\"!isEditingFormule && currentUser.Profile.Autorisations.find(el=>el.nom == 'update-formule')\">Modifier</button>\r\n\t\t\t\t<div class=\"flex flex-row space-x-2\" v-if=\"isEditingFormule\">\r\n\t\t\t\t\t<!-- save btn an cancel btn -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-sm btn-primary\"\r\n\t\t\t\t\t\t@click=\"saveFormule\"\r\n\t\t\t\t\t>Enregistrer</button>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<table class=\"table w-full\">\r\n\t\t\t\t<!--show matiere,matiere -->\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Matiere</th>\r\n\t\t\t\t\t\t<th>quantité</th>\r\n\t\t\t\t\t\t<th v-if=\"isEditingFormule\">Actions</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody class=\"overflow-y-auto\">\r\n\t\t\t\t\t<tr v-for=\"(matiere, index) in produit.Matieres\" :key=\"index\">\r\n\t\t\t\t\t\t<td>{{ matiere.designation }}</td>\r\n\t\t\t\t\t\t<td class=\"w-16\">{{ matiere.Formule.quantite }}</td>\r\n\t\t\t\t\t\t<td v-if=\"isEditingFormule\" class=\"\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-sm btn-error\"\r\n\t\t\t\t\t\t\t\t@click=\"removeMatiere(matiere)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSupprimer\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr v-if=\"isEditingFormule\">\r\n\t\t\t\t\t\t<td class=\"form-control\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tv-model=\"newFormule.MatiereId\"\r\n\t\t\t\t\t\t\t\tclass=\"select select-sm select-bordered px-3 py-0 w-32\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option v-for=\"matiere in matieres.filter(el=> !produit.Matieres.find(p=>p.id == el.id) && !newProduit.Matieres.find(p=>p.id == el.id))\" :key=\"matiere.id\" :value=\"matiere.id\">\r\n\t\t\t\t\t\t\t\t\t{{ matiere.designation }}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"\">\r\n\t\t\t\t\t\t\t<input type=\"number\" class=\"input input-sm input-bordered w-20\" v-model=\"newFormule.quantite\" />\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-sm btn-primary\"\r\n\t\t\t\t\t\t\t\t@click=\"addMatiere\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAjouter\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<Modal ref=\"deletemodal\" primaryColor=\"haja\" @submit=\"deleteproduit\">\r\n\t\t\t<template v-slot:title>Archiver un produit</template>\r\n\t\t\t<template v-slot:text\r\n\t\t\t\t>Etes-vous sur de vouloir archiver le produit {{ produit.id }}</template\r\n\t\t\t>\r\n\t\t\t<template v-slot:submit>archiver</template>\r\n\t\t</Modal>\r\n\t\t<Modal ref=\"editmodal\" primaryColor=\"haja\" @submit=\"update\">\r\n\t\t\t<template v-slot:title>Modifier un produit</template>\r\n\t\t\t<template v-slot:body>\r\n\t\t\t\t<div class=\"flex flex-col w-full pb-5 overflow-y-auto\">\r\n\t\t\t\t\t<div class=\"relative mt-5 self-center mx-4\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tref=\"avatarDisplay\"\r\n\t\t\t\t\t\t\tclass=\"w-full object-fit h-full rounded-md overflow-hidden\"\r\n\t\t\t\t\t\t\tsrc=\"https://therminic2018.eu/wp-content/uploads/2018/07/dummy-avatar.jpg\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<PencilIcon\r\n\t\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\t\t@click=\"pencilCLick\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tstyle=\"display: none\"\r\n\t\t\t\t\t\t\tclass=\"absolute w-5 bottom-1 right-1\"\r\n\t\t\t\t\t\t\tref=\"fileInput\"\r\n\t\t\t\t\t\t\t@change=\"picturechanged\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col space-y-3 mt-4 px-2\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start space-y-2 space-x-2 w-full\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"nom\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t\t>Nom</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"nom\"\r\n\t\t\t\t\t\t\t\t\tid=\"nom\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"newProduit.nom\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nom\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t\t>contenance</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tname=\"contenance\"\r\n\t\t\t\t\t\t\t\t\tid=\"contenance\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"newProduit.contenance\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Contenance\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"prix\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t\t>Prix</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tname=\"Prix\"\r\n\t\t\t\t\t\t\t\t\tid=\"Prix\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"newProduit.prix\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Prix\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-md border-0 w-3/4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t<label for=\"color\">Choisissez une couleur: </label>\r\n\t\t\t\t\t\t<div class=\"w-full inline-flex items-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md w-20\"\r\n\t\t\t\t\t\t\t\ttype=\"color\"\r\n\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.couleur\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tv-model=\"newProduit.couleur\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-md border-none text-gray-400 w-24\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t\t>Type</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Listbox v-model=\"newProduit.TypeProduit\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"relative w-full\">\r\n\t\t\t\t\t\t\t\t\t\t<ListboxButton\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"block truncate\">{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewProduit?.TypeProduit?.nom || \"Type\"\r\n\t\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectorIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5 text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<transition\r\n\t\t\t\t\t\t\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\t\t\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\t\t\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left z-50\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"t in types\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"t.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-amber-900 bg-amber-100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cursor-default select-none relative py-2 pl-10 pr-4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected ? 'font-medium' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ t.nom }}</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Listbox>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-y-2 space-x-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"passwordConfirm\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md text-md\"\r\n\t\t\t\t\t\t\t\t\t>Couleur</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Listbox v-model=\"newProduit.Couleur\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"relative w-3/4\">\r\n\t\t\t\t\t\t\t\t\t\t<ListboxButton\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"block truncate\">{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewProduit?.Couleur?.nom || \"Couleur\"\r\n\t\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectorIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-5 h-5 text-gray-400\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</ListboxButton>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<transition\r\n\t\t\t\t\t\t\t\t\t\t\tleave-active-class=\"transition duration-100 ease-in\"\r\n\t\t\t\t\t\t\t\t\t\t\tleave-from-class=\"opacity-100\"\r\n\t\t\t\t\t\t\t\t\t\t\tleave-to-class=\"opacity-0\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListboxOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListboxOption\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot=\"{ active, selected }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"t in couleurs\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"t.id\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"template\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-amber-900 bg-amber-100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'cursor-default select-none relative py-2 pl-10 pr-4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected ? 'font-medium' : 'font-normal',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'block truncate',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ t.nom }}</span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon class=\"w-5 h-5\" aria-hidden=\"true\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListboxOption>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListboxOptions>\r\n\t\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Listbox>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col items-start w-full space-x-2\">\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t\t>Description</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<QuillEditor\r\n\t\t\t\t\t\t\t\t\t\tv-model:content=\"newProduit.description\"\r\n\t\t\t\t\t\t\t\t\t\tcontentType=\"html\"\r\n\t\t\t\t\t\t\t\t\t\tref=\"quill\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Description ...\"\r\n\t\t\t\t\t\t\t\t\t\ttheme=\"snow\"\r\n\t\t\t\t\t\t\t\t\t\t@focus=\"focus\"\r\n\t\t\t\t\t\t\t\t\t></QuillEditor>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row items-center w-full space-x-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tname=\"featured\"\r\n\t\t\t\t\t\t\t\t\tid=\"featured\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"newProduit.featured\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-md w-5 h-5 focus:outline-none focus:ring-0\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\tfor=\"prenom\"\r\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center text-bold h-full rounded-l-md px-2text-xl\"\r\n\t\t\t\t\t\t\t\t\t>Mettre a la une</label\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:submit>Enregistrer</template>\r\n\t\t</Modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Icon } from \"@iconify/vue\";\r\nimport Modal from \"./Modal\";\r\nimport {\r\n\tListbox,\r\n\tListboxButton,\r\n\tListboxOptions,\r\n\tListboxOption,\r\n} from \"@headlessui/vue\";\r\nimport { QuillEditor } from \"@vueup/vue-quill\";\r\nexport default {\r\n\tname: \"ProductRow\",\r\n\tprops: [\"produit\"],\r\n\tcomponents: {\r\n\t\tQuillEditor,\r\n\t\tIcon,\r\n\t\tModal,\r\n\t\tListbox,\r\n\t\tListboxButton,\r\n\t\tListboxOptions,\r\n\t\tListboxOption,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnewProduit: this.produit,\r\n\t\t\textended: false,\r\n\t\t\tisEditingFormule:false,\r\n\t\t\tnewFormule:{}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\ttoggleExtended() {\r\n\t\t\tconsole.log(\"extended\");\r\n\t\t\tif(this.extended){\r\n\t\t\t\tthis.isEditingFormule = false;\r\n\t\t\t}\r\n\t\t\tthis.extended = !this.extended;\r\n\t\t},\r\n\t\tsaveFormule(){\r\n\t\t\tif(this.isEditingFormule){\r\n\t\t\t\tthis.isEditingFormule = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\taddMatiere(){\r\n\t\t\tconsole.log(this.newProduit.id)\r\n\t\t\tif(this.newFormule.MatiereId && this.newFormule.quantite){\r\n\t\t\t\tthis.$store.dispatch(\"addFormule\",{\r\n\t\t\t\t\tMatiereId:this.newFormule.MatiereId,\r\n\t\t\t\t\tquantite:this.newFormule.quantite,\r\n\t\t\t\t\tProduitId:this.newProduit.id\r\n\t\t\t\t})\r\n\t\t\t\tthis.newFormule = {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveMatiere({Formule}){\r\n\t\t\tthis.$store.dispatch('removeFormule',{MatiereId:Formule.MatiereId,ProduitId:Formule.ProduitId})\r\n\t\t},\r\n\t\tdeleteproduit() {\r\n\t\t\tconsole.log(this.produit.id);\r\n\t\t\tthis.$store.dispatch(\"deleteProduit\", this.produit.id);\r\n\t\t\tthis.$refs.modal.open = false;\r\n\t\t\tthis.searchfn(\"\");\r\n\t\t},\r\n\t\tasync togglefeatured() {\r\n\t\t\tthis.newProduit.featured = !this.newProduit.featured;\r\n\t\t\tthis.$store.dispatch(\"updateProduit\", this.newProduit);\r\n\t\t},\r\n\t\tasync update() {\r\n\t\t\tthis.$store.dispatch(\"updateProduit\", this.newProduit);\r\n\t\t\tthis.$refs.editmodal.open = false;\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\timageUrl() {\r\n\t\t\tconsole.log(process.env);\r\n\t\t\treturn (\r\n\t\t\t\tprocess.env.VUE_APP_API_URL +\r\n\t\t\t\t\"/uploads/products/\" +\r\n\t\t\t\tthis.newProduit.image\r\n\t\t\t);\r\n\t\t},\r\n\t\tmatieres(){\r\n\t\t\treturn this.$store.getters.getMatieres;\r\n\t\t},\r\n\t\tcouleurs() {\r\n\t\t\treturn this.$store.getters.getCouleurs;\r\n\t\t},\r\n\t\ttypes() {\r\n\t\t\treturn this.$store.getters.getTypeproduits;\r\n\t\t},\r\n\t\tcurrentUser() {\r\n\t\t\treturn this.$store.getters.getCurrentUser;\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}