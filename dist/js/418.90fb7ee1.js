"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[418],{4147:function(e,t,l){l.d(t,{Z:function(){return m}});var r=l(3396);const a=e=>((0,r.dD)("data-v-694f6d0c"),e=e(),(0,r.Cn)(),e),n={class:"fixed inset-0 overflow-hidden text-center",style:{"z-index":"9999"}},i=a((()=>(0,r._)("span",{class:"inline-block h-full align-middle","aria-hidden":"true"}," ​ ",-1))),s={class:"overflow-hidden mx-5 pt-2 inline-flex flex-col align-middle transition-all transform bg-white shadow-xl rounded-2xl",style:{"max-height":"calc(100vh - 16px)"}},o={class:"flex flex-1 overflow-hidden min-h-16 items-center overflow-y-auto"},d={class:"w-full flex flex-row justify-end space-x-2 pr-2 py-1.5 shadow-top",style:{"z-index":"9999"}};function u(e,t,l,a,u,c){const p=(0,r.up)("DialogOverlay"),f=(0,r.up)("TransitionChild"),h=(0,r.up)("DialogTitle"),m=(0,r.up)("Dialog"),g=(0,r.up)("TransitionRoot");return(0,r.wg)(),(0,r.j4)(g,{appear:"",show:u.open,as:"template"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{onClose:c.closeModal},{default:(0,r.w5)((()=>[(0,r._)("div",n,[(0,r.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{class:"fixed inset-0"})])),_:1}),i,(0,r.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,r.w5)((()=>[(0,r._)("div",s,[(0,r.Wm)(h,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 shadow-md pb-1"},{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"title",{},void 0,!0)])),_:3}),(0,r._)("div",o,[(0,r.WI)(e.$slots,"body",{obj:u.obj},void 0,!0)]),(0,r._)("div",d,[(0,r._)("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[0]||(t[0]=(...e)=>c.closeModal&&c.closeModal(...e))}," Cancel "),(0,r._)("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[1]||(t[1]=e=>this.$emit("submit",this.obj))},[(0,r.WI)(e.$slots,"submit",{},void 0,!0)])])])])),_:3})])])),_:3},8,["onClose"])])),_:3},8,["show"])}var c=l(6770),p={components:{TransitionRoot:c.Qm,TransitionChild:c.xY,Dialog:c.Vq,DialogOverlay:c.t9,DialogTitle:c.$N},data(){return{open:!1,obj:null}},methods:{closeModal(){this.open=!1},openModal(){this.open=!0}}},f=l(89);const h=(0,f.Z)(p,[["render",u],["__scopeId","data-v-694f6d0c"]]);var m=h},2207:function(e,t,l){l.d(t,{Z:function(){return _}});var r=l(3396),a=l(7139);const n={key:0,class:"h-10 self-end flex flex-row w-full justify-center items-center"},i={class:"flex flex-row items-center justify-center space-x-3"},s={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},o={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},d={class:"flex flex-row space-x-3 items-center justify-center px-3"},u={key:0,class:"diamond bg-blue-800 p-0.5 h-5 w-5 rounded-md text-white"},c=["onClick"],p={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},f={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"};function h(e,t,l,h,m,g){const w=(0,r.up)("ChevronDoubleLeftIcon"),v=(0,r.up)("ChevronLeftIcon"),x=(0,r.up)("ChevronRightIcon"),b=(0,r.up)("ChevronDoubleRightIcon");return 0!=l.dataLength?((0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("ul",i,[(0,r._)("li",s,[(0,r._)("div",null,[(0,r.Wm)(w,{class:"h-5",onClick:t[0]||(t[0]=t=>1!=l.currentPage&&e.$emit("first")),disabled:1==l.currentPage},null,8,["disabled"])])]),(0,r._)("li",o,[(0,r._)("div",null,[(0,r.Wm)(v,{class:"h-5",onClick:t[1]||(t[1]=t=>1!=l.currentPage&&e.$emit("prev")),disabled:1==l.currentPage},null,8,["disabled"])])]),(0,r._)("div",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.pageNumber,(t=>((0,r.wg)(),(0,r.iD)(r.HY,{key:t},[l.currentPage-3<t&&t<l.currentPage+3?((0,r.wg)(),(0,r.iD)("li",u,[(0,r._)("div",{onClick:l=>e.$emit("page",t),class:(0,a.C_)(["flex h-full w-full items-center justify-center cursor-pointer",t===l.currentPage&&"text-red-500"])},(0,a.zw)(t),11,c)])):(0,r.kq)("",!0)],64)))),128))]),(0,r._)("li",p,[(0,r._)("div",null,[(0,r.Wm)(x,{class:"h-5",onClick:t[2]||(t[2]=t=>l.currentPage!=g.pageNumber&&e.$emit("next")),disabled:l.currentPage==g.pageNumber},null,8,["disabled"])])]),(0,r._)("li",f,[(0,r._)("div",null,[(0,r.Wm)(b,{class:"h-5",onClick:t[3]||(t[3]=t=>l.currentPage!=g.pageNumber&&e.$emit("last")),disabled:l.currentPage==g.pageNumber},null,8,["disabled"])])])])])):(0,r.kq)("",!0)}function m(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function g(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function w(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function v(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}var x={name:"Pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:1},dataLength:{type:Number,required:!0}},components:{ChevronDoubleLeftIcon:m,ChevronDoubleRightIcon:g,ChevronRightIcon:w,ChevronLeftIcon:v},computed:{pageNumber(){let e=this.dataLength/this.pageSize;return this.dataLength%this.pageSize!=0&&e++,parseInt(e)}}},b=l(89);const y=(0,b.Z)(x,[["render",h]]);var _=y},6515:function(e,t,l){l.d(t,{Z:function(){return f}});var r=l(3396),a=l(9242);const n=e=>((0,r.dD)("data-v-85e6cc1c"),e=e(),(0,r.Cn)(),e),i=n((()=>(0,r._)("svg",{class:"h-9 w-4 fill-current fill-white",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{"enable-background":"new 0 0 56.966 56.966"},"xml:space":"preserve",width:"512px",height:"512px"},[(0,r._)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})],-1))),s=[i];function o(e,t,l,n,i,o){const d=(0,r.up)("TransitionRoot");return(0,r.wg)(),(0,r.iD)("div",{class:"flex flex-row bg-gray-500 rounded-full py-1 px-2",onMouseover:t[4]||(t[4]=e=>{i.open=!0,i.mouseover=!0}),onMouseleave:t[5]||(t[5]=(...e)=>o.mouseleave&&o.mouseleave(...e))},[(0,r.Wm)(d,{as:"div",show:i.open,enter:"transition-all duration-150","enter-from":"w-0","enter-to":"w-full",leave:"transition-all duration-300","leave-from":"w-full","leave-to":"w-0"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),type:"search",name:"serch",placeholder:"Search",class:"text-white bg-gray-500 h-full w-full text-sm focus:outline-none outline-none focus:ring-0 border-none",onFocus:t[1]||(t[1]=e=>i.focused=!0),onBlur:t[2]||(t[2]=(...e)=>o.blur&&o.blur(...e))},null,544),[[a.nr,i.search]])])),_:1},8,["show"]),(0,r._)("button",{type:"submit",class:"px-2",onClick:t[3]||(t[3]=(...e)=>o.searchfn&&o.searchfn(...e))},s)],32)}var d=l(6770),u={components:{TransitionRoot:d.Qm},name:"SearchBar",props:["_search"],data(){return{search:"",open:!1,focused:!1,mouseover:!1}},methods:{async searchfn(){if(!this.open)return this.open=!0;this.$emit("search",this.search)},mouseleave(){this.mouseover=!1,this.focused||(this.open=!1)},blur(){this.focused=!1,this.mouseover||""!=this.search||(this.open=!1)}},watch:{search(e){this.$emit("search",e)}}},c=l(89);const p=(0,c.Z)(u,[["render",o],["__scopeId","data-v-85e6cc1c"]]);var f=p},2418:function(e,t,l){l.r(t),l.d(t,{default:function(){return ye}});var r=l(3396),a=l(7139),n=l(9242);const i=e=>((0,r.dD)("data-v-6dc99910"),e=e(),(0,r.Cn)(),e),s={class:"flex flex-col w-full justify-center items-center h-full bg-gray-700 overflow-hidden"},o={class:"flex self-start w-full items-center space-x-3 h-16 py-1 px-2"},d={key:0,class:"rounded-full py-2 px-2 bg-gray-500"},u={class:"bg-blue-900"},c={class:"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto"},p={class:"px-4 flex items-center justify-between"},f=i((()=>(0,r._)("h2",{class:"text-lg font-medium text-gray-300"},"Filters",-1))),h=i((()=>(0,r._)("span",{class:"sr-only text-white"},"Close menu",-1))),m={class:"-mx-2 -my-3 flow-root"},g={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},w=i((()=>(0,r._)("span",{class:"font-medium text-gray-400"}," Types ",-1))),v={class:"ml-6 flex items-center"},x={key:0,class:"space-y-6"},b=["value","checked"],y={class:"ml-3 min-w-0 flex-1 text-gray-500"},_={class:"-mx-2 -my-3 flow-root"},k={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},C=i((()=>(0,r._)("span",{class:"font-medium text-gray-400"}," Couleurs ",-1))),M={class:"ml-6 flex items-center"},D={key:0,class:"space-y-6"},j=["value","checked"],W={class:"flex-1 flex flex-col h-full w-full overflow-hidden"},P={class:"h-full md:justify-center aligned-center w-full flex flex-1 flex-col overflow-auto overflow-x-hidden py-3"},I={class:"w-full h-full grid grid-flow-row gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 justify-center items-center"},$=(0,r.Uk)("Ajouter une matiere premiere"),z={class:"flex flex-col w-full flex-1"},U={class:"flex flex-col mt-4 px-2 py-3"},A={class:"flex flex-col w-full"},S={class:"flex flex-col items-start space-y-2 space-x-2 w-ful"},L=i((()=>(0,r._)("label",{for:"nom",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Nom",-1))),Z=(0,r.Uk)("Ajouter"),q=(0,r.Uk)("Arrivage Matiere premiere"),B={class:"table"},N=i((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Matiere"),(0,r._)("th",null,"Prix unitaire"),(0,r._)("th",null,"Quantite"),(0,r._)("th",null,"Total")])],-1))),T={class:"py-3"},V={class:"form-control"},R=["value"],H=(0,r.Uk)("Enregistrer");function O(e,t,l,i,O,Y){const F=(0,r.up)("SearchBar"),E=(0,r.up)("FilterIcon"),K=(0,r.up)("Icon"),Q=(0,r.up)("DialogOverlay"),J=(0,r.up)("TransitionChild"),X=(0,r.up)("XIcon"),G=(0,r.up)("PlusSmIcon"),ee=(0,r.up)("MinusSmIcon"),te=(0,r.up)("DisclosureButton"),le=(0,r.up)("DisclosurePanel"),re=(0,r.up)("Disclosure"),ae=(0,r.up)("Dialog"),ne=(0,r.up)("TransitionRoot"),ie=(0,r.up)("MatiereRow"),se=(0,r.up)("Pagination"),oe=(0,r.up)("Modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",s,[(0,r._)("div",o,[(0,r.Wm)(F,{ref:"searchbar",onSearch:Y.searchfn},null,8,["onSearch"]),(0,r._)("div",{class:(0,a.C_)(["rounded-full py-2 px-2 bg-gray-500",{hidden:e.$refs?.searchbar?.open}])},[(0,r.Wm)(E,{onClick:t[0]||(t[0]=e=>this.$refs.arrivagemodal.open=!0),class:"h-7 fill-current text-white"})],2),Y.currentUser.Profile.Autorisations.find((e=>"add-matiere"==e.nom))?((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(K,{icon:"ant-design:file-add-filled",onClick:Y.openCreateModal,class:"h-7 w-7 fill-current text-white"},null,8,["onClick"])])):(0,r.kq)("",!0)]),(0,r._)("div",u,[(0,r._)("div",null,[(0,r.Wm)(ne,{as:"template",show:O.mobileFiltersOpen},{default:(0,r.w5)((()=>[(0,r.Wm)(ae,{as:"div",class:"fixed inset-0 flex z-40",onClose:t[4]||(t[4]=e=>O.mobileFiltersOpen=!1)},{default:(0,r.w5)((()=>[(0,r.Wm)(J,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,r.w5)((()=>[(0,r.Wm)(Q,{class:"fixed inset-0 bg-black bg-opacity-25"})])),_:1}),(0,r.Wm)(J,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,r.w5)((()=>[(0,r._)("div",c,[(0,r._)("div",p,[f,(0,r._)("button",{type:"button",class:"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400",onClick:t[1]||(t[1]=e=>O.mobileFiltersOpen=!1)},[h,(0,r.Wm)(X,{class:"h-6 w-6 text-gray-300","aria-hidden":"true"})])]),(0,r.Wm)(re,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,r.w5)((({open:l})=>[(0,r._)("h3",m,[(0,r.Wm)(te,{as:"template"},{default:(0,r.w5)((()=>[(0,r._)("div",g,[w,(0,r._)("span",v,[l?((0,r.wg)(),(0,r.j4)(ee,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,r.wg)(),(0,r.j4)(G,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,r.Wm)(le,{class:"pt-6"},{default:(0,r.w5)((()=>[e.types.length>0?((0,r.wg)(),(0,r.iD)("div",x,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.types,(l=>((0,r.wg)(),(0,r.iD)("div",{key:l.id,class:"flex items-center"},[(0,r.wy)((0,r._)("input",{value:l.id,type:"checkbox",checked:l.checked,class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[2]||(t[2]=t=>e.typesel=t)},null,8,b),[[n.e8,e.typesel]]),(0,r._)("label",y,(0,a.zw)(l.nom),1)])))),128))])):(0,r.kq)("",!0)])),_:1})])),_:1}),(0,r.Wm)(re,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,r.w5)((({open:l})=>[(0,r._)("h3",_,[(0,r.Wm)(te,{as:"template"},{default:(0,r.w5)((()=>[(0,r._)("div",k,[C,(0,r._)("span",M,[l?((0,r.wg)(),(0,r.j4)(ee,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,r.wg)(),(0,r.j4)(G,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,r.Wm)(le,{class:"pt-6"},{default:(0,r.w5)((()=>[e.couleurs.length>0?((0,r.wg)(),(0,r.iD)("div",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.couleurs,(l=>((0,r.wg)(),(0,r.iD)("div",{key:l.id,class:"flex items-center"},[(0,r.wy)((0,r._)("input",{value:l.id,type:"checkbox",checked:l.checked,class:"h-4 w-4 border-gray-400 rounded",style:(0,a.j5)({"--tw-ring-color":`#${l.code}`,color:`#${l.code}`}),"onUpdate:modelValue":t[3]||(t[3]=t=>e.couleursel=t)},null,12,j),[[n.e8,e.couleursel]]),(0,r._)("label",{class:"ml-3 min-w-0 flex-1",style:(0,a.j5)({color:`#${l.code}`})},(0,a.zw)(l.nom),5)])))),128))])):(0,r.kq)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["show"])])]),(0,r._)("div",W,[(0,r._)("div",P,[(0,r._)("ul",I,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Y.showedMatieres,(t=>((0,r.wg)(),(0,r.j4)(ie,{key:t.id,matiere:t,onDelete:Y.opendeletemodal,onShow:e.showProduct},null,8,["matiere","onDelete","onShow"])))),128))])]),(0,r.Wm)(se,{ref:"Pagination",currentPage:O.currentPage,pageSize:Y.nbperpage,dataLength:Y.matieres.length,onPage:t[5]||(t[5]=e=>O.currentPage=e),onNext:t[6]||(t[6]=e=>O.currentPage++),onPrev:t[7]||(t[7]=e=>O.currentPage--),onFirst:t[8]||(t[8]=e=>O.currentPage=1),onLast:t[9]||(t[9]=t=>O.currentPage=e.$refs.Pagination.pageNumber)},null,8,["currentPage","pageSize","dataLength"])])]),(0,r.Wm)(oe,{ref:"createmodal",primaryColor:"haja",onSubmit:Y.create},{title:(0,r.w5)((()=>[$])),body:(0,r.w5)((()=>[(0,r._)("div",z,[(0,r._)("div",U,[(0,r._)("div",A,[(0,r._)("div",S,[L,(0,r.wy)((0,r._)("input",{type:"text",name:"designation",id:"designation","onUpdate:modelValue":t[10]||(t[10]=e=>O.newMatiere.designation=e),placeholder:"Nom",class:"rounded-md border-0 w-3/4"},null,512),[[n.nr,O.newMatiere.designation]])])])])])])),submit:(0,r.w5)((()=>[Z])),_:1},8,["onSubmit"]),(0,r.Wm)(oe,{ref:"arrivagemodal",primaryColor:"haja",onSubmit:Y.achat},{title:(0,r.w5)((()=>[q])),body:(0,r.w5)((()=>[(0,r._)("table",B,[N,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(O.arrivage,((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("td",null,(0,a.zw)(Y.matieres.find((t=>t.id==e.MatiereId)).designation),1),(0,r._)("td",null,(0,a.zw)(e.prixUnitaire)+" Da",1),(0,r._)("td",null,(0,a.zw)(e.quantite),1),(0,r._)("td",null,(0,a.zw)(e.prixUnitaire*e.quantite)+" Da",1)])))),128)),(0,r._)("tr",T,[(0,r._)("td",V,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>O.newArrivage.MatiereId=e),class:"select select-sm py-0 align-middle"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Y.matieres,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.id},(0,a.zw)(e.designation),9,R)))),128))],512),[[n.bM,O.newArrivage.MatiereId]])]),(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"number",name:"prix",id:"prix","onUpdate:modelValue":t[12]||(t[12]=e=>O.newArrivage.prixUnitaire=e),placeholder:"Prix unitaire",class:"rounded-md border-0 w-3/4"},null,512),[[n.nr,O.newArrivage.prixUnitaire]])]),(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"number",name:"quantite",id:"quantite","onUpdate:modelValue":t[13]||(t[13]=e=>O.newArrivage.quantite=e),placeholder:"Quantite",class:"rounded-md border-0 w-3/4"},null,512),[[n.nr,O.newArrivage.quantite]])]),(0,r._)("td",null,[(0,r._)("button",{onClick:t[14]||(t[14]=(...e)=>Y.addArrivage&&Y.addArrivage(...e)),class:"btn btn-primary btn-sm"},"Ajouter")])])])])])),submit:(0,r.w5)((()=>[H])),_:1},8,["onSubmit"])],64)}var Y=l(4147),F=l(2207),E=l(4806),K=l(6770),Q=l(1463),J=l(2819),X=l(7648),G=l(8582),ee=l(6515);const te={class:"h-fit min-h-max p-2 w-11/12 bg-white mx-auto rounded-md flex flex-col overflow-hidden max-w-xs"},le={class:"w-full rounded-t-md space-x-3"},re={class:"w-full object-fit relative flex flex-col"},ae={class:"w-full flex pt-1 flex-row justify-between"},ne={key:1,class:"font-bold w-full text-lg text-center"},ie={class:"flex flex-row w-full p-2 divide-x-2 min-h-max"},se={class:"flex flex-col h-full w-1/2 justify-center items-center"},oe={class:"text-xl font-bold text-black antialiased"},de=(0,r._)("label",{class:"text-sm font-light text-gray-500 antialiased"},"DZD",-1),ue={class:"flex flex-col h-full w-1/2 justify-center items-center"},ce={class:"text-xl font-bold text-black antialiased"},pe=(0,r._)("label",{class:"text-sm font-light text-gray-500 antialiased"},"Unités",-1);function fe(e,t,l,i,s,o){const d=(0,r.up)("Icon");return(0,r.wg)(),(0,r.iD)("div",te,[(0,r._)("div",le,[(0,r._)("div",re,[(0,r._)("div",ae,[o.currentUser.Profile.Autorisations.find((e=>"update-matiere"==e.nom))?((0,r.wg)(),(0,r.j4)(d,{key:0,icon:"bi:brush",class:"h-5 w-5 text-gray-600",onClick:t[0]||(t[0]=e=>s.isEditing=!s.isEditing)})):(0,r.kq)("",!0),o.currentUser.Profile.Autorisations.find((e=>"delete-matiere"==e.nom))?((0,r.wg)(),(0,r.j4)(d,{key:1,icon:"clarity:archive-line",class:"h-5 w-5 text-red-600",onClick:o.deletematiere},null,8,["onClick"])):(0,r.kq)("",!0)]),s.isEditing?(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,class:"font-bold mx-10 rounded-md text-lg text-center border-0",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.newMatiere.designation=e),onBlur:t[2]||(t[2]=e=>s.isEditing=!1)},null,544)),[[n.nr,s.newMatiere.designation]]):((0,r.wg)(),(0,r.iD)("span",ne,(0,a.zw)(l.matiere.designation),1))])]),(0,r._)("div",ie,[(0,r._)("div",se,[(0,r._)("label",oe,(0,a.zw)(l.matiere.prix||0),1),de]),(0,r._)("div",ue,[(0,r._)("label",ce,(0,a.zw)(l.matiere.quantite||0),1),pe])])])}var he=l(6088),me={name:"ProductRow",props:["matiere"],components:{Icon:he.JO},data(){return{newMatiere:this.matiere,isEditing:!1}},methods:{show(){return this.$route.push({name:""})},deletematiere(){this.$store.dispatch("deleteMatiere",this.matiere.id),this.searchfn("")},save(){this.$store.dispatch("updateMatiere",this.newMatiere)}},computed:{currentUser(){return this.$store.getters.getCurrentUser}},watch:{isEditing(e){e||(console.log("tbdlt"),this.save())}}},ge=l(89);const we=(0,ge.Z)(me,[["render",fe]]);var ve=we,xe={name:"MatieresPremiere",components:{Pagination:F.Z,Icon:he.JO,SearchBar:ee.Z,Dialog:K.Vq,DialogOverlay:K.t9,Disclosure:K.pJ,DisclosureButton:K.lG,DisclosurePanel:K.V2,TransitionChild:K.xY,TransitionRoot:K.Qm,FilterIcon:Q.Z,MatiereRow:ve,MinusSmIcon:J.Z,PlusSmIcon:X.Z,XIcon:G.Z,Modal:Y.Z},async beforeMount(){await this.$store.dispatch("getMatieres")},data(){return{arrivage:[],newArrivage:{},currentPage:1,newMatiere:{designation:""},mobileFiltersOpen:!1}},methods:{achat(){this.$store.dispatch("arrivageMatieres",this.arrivage).then((()=>{this.arrivage=[],this.$refs.arrivagemodal.open=!1}))},addArrivage(){this.newArrivage.MatiereId&&this.newArrivage.prixUnitaire&&this.newArrivage.quantite&&(this.arrivage.push(this.newArrivage),this.newArrivage={})},create(){this.$store.dispatch("addMatiere",this.newMatiere),this.$refs.createmodal.open=!1},openCreateModal(){this.$refs.createmodal.open=!0},searchfn:(0,E.debounce)((async function(e){this.$store.dispatch("getMatieres",{designation:e})}),500),opendeletemodal(){this.$refs.deletemodal.open=!0}},computed:{matieres(){return this.$store.getters.getMatieres},nbperpage(){return window.innerWidth>=640&&window.innerWidth<768?10:window.innerWidth>=768&&window.innerWidth<1280?15:window.innerWidth>1280?20:6},showedMatieres(){let e=this.matieres;return e.length%this.nbperpage!=0&&parseInt(e.length/this.nbperpage)==this.currentPage-1?e.slice((this.currentPage-1)*this.nbperpage):e.slice((this.currentPage-1)*this.nbperpage,(this.currentPage-1)*this.nbperpage+this.nbperpage)},currentUser(){return this.$store.getters.getCurrentUser}},watch:{}};const be=(0,ge.Z)(xe,[["render",O],["__scopeId","data-v-6dc99910"]]);var ye=be},8582:function(e,t,l){l.d(t,{Z:function(){return a}});var r=l(3396);function a(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])}},1463:function(e,t,l){l.d(t,{Z:function(){return a}});var r=l(3396);function a(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])}},2819:function(e,t,l){l.d(t,{Z:function(){return a}});var r=l(3396);function a(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"})])}},7648:function(e,t,l){l.d(t,{Z:function(){return a}});var r=l(3396);function a(e,t){return(0,r.wg)(),(0,r.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,r.Wm)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=418.90fb7ee1.js.map