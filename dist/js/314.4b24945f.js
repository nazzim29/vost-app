"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[314],{4314:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var n=s(3396),i=s(7139),l=s(9242);const o={class:"h-full w-full flex flex-col items-center justify-center"},r=(0,n._)("div",{class:"h-10"},null,-1),a={class:"flex flex-col bg-white h-5/6 w-11/12 rounded-md shadow-2xl"},d={class:"flex flex-row h-32 w-full justify-between items-center"},c=(0,n.uE)('<div class="w-1/3 flex justify-center"><div class="w-2/3 h-20 p-1 justify-evenly align-center flex flex-row divide-x-2 divide-gray-600 divide-solid divide-opacity-40 my-2 rounded-md bg-gray-500 bg-opacity-20"><div class="flex flex-col align-center justify-center w-1/3"><span class="font-bold text-4xl text-center">19</span><span class="font-medium text-sm text-center uppercase">message</span></div><div class="flex flex-col align-center justify-center w-1/3"><span class="font-bold text-4xl text-center">19</span><span class="font-medium text-sm text-center uppercase">message</span></div><div class="flex flex-col align-center justify-center w-1/3"><span class="font-bold text-4xl text-center">19</span><span class="font-medium text-sm text-center uppercase">message</span></div></div></div>',1),u={class:"w-1/3 flex justify-center items-center pt-6"},f={class:"group absolute w-36 h-36 self-center transform -translate-y-1/2 rounded-full shadow-xl p-2 bg-gray-200"},p=(0,n._)("img",{src:"https://via.placeholder.com/150",class:"w-full h-full rounded-full shadow-inner"},null,-1),m={class:"top-0 left-0 rounded-full w-full h-full bg-opacity-20 bg-black fixed z-50 hidden group-hover:flex items-center"},h={id:"pdp",class:"hidden",type:"file",accept:"image/*",ref:"pdpref"},x={class:"flex items-center justify-center w-1/3"},g={class:"w-full flex flex-row items-center justify-center"},w={key:0,class:"text-xl font-extrabold text-center"},b=["disabled"],y=["disabled"],v={class:"text-md font-semibold text-center text-gray-400 flex items-center w-full justify-center"},k={class:"w-full flex flex-row items-center justify-center"},_={key:0,class:"text-md font-semibold text-center"},j=["disabled"];function $(e,t,s,$,C,z){const D=(0,n.up)("Icon");return(0,n.wg)(),(0,n.iD)("div",o,[r,(0,n._)("div",a,[(0,n._)("div",d,[c,(0,n._)("div",u,[(0,n._)("div",f,[p,(0,n._)("div",m,[(0,n._)("label",{for:"pdp",class:"text-sm text-white font-light text-center hover:underline",onClick:t[0]||(t[0]=t=>e.pdpref.click())},"Changer la photo de profile"),(0,n._)("input",h,null,512)])])]),(0,n._)("div",x,[(0,n._)("button",{class:"rounded-md text-white text-xl uppercase font-bold py-1 px-7 bg-blue-700 hover:bg-blue-900",onClick:t[1]||(t[1]=(...e)=>z.save&&z.save(...e))},(0,i.zw)(C.editing?"Save":"Edit"),1)])]),(0,n._)("div",g,[C.editing?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("h1",w,(0,i.zw)(C.nom.toUpperCase())+" "+(0,i.zw)(C.prenom.charAt(0).toUpperCase())+(0,i.zw)(C.prenom.slice(1).toLowerCase()),1)),C.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:1,class:"rounded-md border-0 font-semibold bg-gray-200 focus:ring-blue-800 mr-3",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>C.nom=e),disabled:e.loading},null,8,b)),[[l.nr,C.nom]]):(0,n.kq)("",!0),C.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:2,class:"rounded-md border-0 font-semibold bg-gray-200 focus:ring-blue-800 mr-3",type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>C.prenom=e),disabled:e.loading},null,8,y)),[[l.nr,C.prenom]]):(0,n.kq)("",!0)]),(0,n._)("span",v,[(0,n.Wm)(D,{icon:C.icon,class:"mr-1",height:"30",width:"30"},null,8,["icon"]),(0,n.Uk)(" "+(0,i.zw)(C.fonction),1)]),(0,n._)("div",k,[(0,n.Wm)(D,{icon:"akar-icons:phone",class:"mr-1",height:"30",width:"30"}),C.editing?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("h1",_,(0,i.zw)(C.numero),1)),C.editing?(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:1,class:"rounded-md border-0 font-semibold bg-gray-200 focus:ring-blue-800 mr-3",type:"tel","onUpdate:modelValue":t[4]||(t[4]=e=>C.numero=e),disabled:e.loading},null,8,j)),[[l.nr,C.numero]]):(0,n.kq)("",!0)])])])}var C=s(8873),z=s(6088),D={components:{Icon:z.JO},data(){return{nom:"",prenom:"admin",icon:"",fonction:"",editing:!1,numero:""}},async created(){"/me"==this.$route.fullPath&&(this.nom=this.$store.state.user.nom,this.prenom=this.$store.state.user.prenom,this.icon="ph:crown-bold",this.fonction=this.$store.state.user.Fonction.nom,this.numero=this.$store.state.user.numero,this.username=this.$store.state.user.username)},methods:{async save(){const e=this.$store.state.user.id;if(this.editing){let t=await C.ZP.update({id:e,nom:this.nom,prenom:this.prenom,numero:this.numero});200==t.status?(t=await C.ZP.show(e),200==t.status&&(this.$store.state.user=t.data)):403==t.status&&this.$route.push("/login"),this.editing=!1}else this.editing=!0}}},U=s(89);const q=(0,U.Z)(D,[["render",$]]);var P=q}}]);
//# sourceMappingURL=314.4b24945f.js.map