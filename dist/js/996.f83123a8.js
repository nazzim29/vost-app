"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[996],{78:function(e,t,l){l.r(t),l.d(t,{default:function(){return ut}});var s=l(3396),n=l(9242),o=l(7139);const r=e=>((0,s.dD)("data-v-e4dcad82"),e=e(),(0,s.Cn)(),e),a={class:"flex flex-col w-full h-screen bg-gray-700 overflow-hidden space-y-1"},i={class:"flex self-start w-full items-center space-x-3 h-16 py-1 px-2 md:items-center"},d={class:"rounded-full py-2 px-2 bg-gray-500"},c={key:0,class:"rounded-full py-2 px-2 bg-gray-500"},u={class:"bg-blue-900"},f={class:"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto"},p={class:"px-4 flex items-center justify-between"},m=r((()=>(0,s._)("h2",{class:"text-lg font-medium text-gray-300"},"Filters",-1))),w=r((()=>(0,s._)("span",{class:"sr-only text-white"},"Close menu",-1))),x={class:"mt-4 border-t border-gray-400"},h={class:"-mx-2 -my-3 flow-root"},b={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},y=r((()=>(0,s._)("span",{class:"font-medium text-gray-400"}," Types ",-1))),g={class:"ml-6 flex items-center"},v={key:0,class:"space-y-6"},_=["value","checked"],C={class:"ml-3 min-w-0 flex-1 text-gray-500"},k={class:"flex-1 flex flex-col overflow-hidden"},S={key:0,class:"w-full flex flex-1 flex-col overflow-y-auto"},W={class:"w-full h-full overflow-hidden flex flex-row flex-wrap justify-evenly"},I=(0,s.Uk)("Ajouter un client"),M={class:"flex flex-col w-full pt-16 pb-5 overflow-hidden"},U={class:"flex flex-col space-y-3 mt-4 px-2"},$={class:"flex flex-col w-full space-y-2 space-x-2"},j=r((()=>(0,s._)("label",{class:"flex items-center text-bold h-full rounded-l-md text-md"},"Raison Sociale",-1))),P={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden"},D={class:"flex flex-col w-full space-y-2 space-x-2"},T=r((()=>(0,s._)("label",{class:"flex items-center text-bold h-full rounded-l-md text-md"},"Username",-1))),L={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden"},V={class:"flex flex-col w-full space-y-2 space-x-2"},O=r((()=>(0,s._)("label",{for:"numero",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Numero",-1))),z={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden"},Z=r((()=>(0,s._)("label",{for:"numero",class:"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b"},"+213",-1))),R={class:"flex flex-col w-full space-y-2 space-x-2"},B=r((()=>(0,s._)("label",{for:"numero",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Numero secondaire",-1))),N={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600"},F=r((()=>(0,s._)("label",{for:"numero",class:"flex items-center uppercase text-bold flex-1 rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b"},"+213",-1))),q={class:"flex flex-col w-full"},Y={class:"flex flex-col items-start w-full space-y-2 space-x-2"},A=r((()=>(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Type",-1))),H={class:"relative w-full mx-1 space-x-auto"},K={class:"block truncate"},E={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},J={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},X={class:"flex flex-col w-full"},G={class:"flex flex-col items-start space-y-2 space-x-2 w-full"},Q=r((()=>(0,s._)("label",{for:"password",class:"flex items-center text-bold h-full rounded-l-md px-2"},"Mot de passe",-1))),ee={class:"flex flex-col w-full"},te={class:"flex flex-col items-start w-max space-y-2 space-x-2"},le=r((()=>(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Confirmation",-1))),se=(0,s.Uk)("Ajouter");function ne(e,t,l,r,ne,oe){const re=(0,s.up)("SearchBar"),ae=(0,s.up)("FilterIcon"),ie=(0,s.up)("Icon"),de=(0,s.up)("DialogOverlay"),ce=(0,s.up)("TransitionChild"),ue=(0,s.up)("XIcon"),fe=(0,s.up)("PlusSmIcon"),pe=(0,s.up)("MinusSmIcon"),me=(0,s.up)("DisclosureButton"),we=(0,s.up)("DisclosurePanel"),xe=(0,s.up)("Disclosure"),he=(0,s.up)("Dialog"),be=(0,s.up)("TransitionRoot"),ye=(0,s.up)("ClientRow"),ge=(0,s.up)("Pagination"),ve=(0,s.up)("SelectorIcon"),_e=(0,s.up)("ListboxButton"),Ce=(0,s.up)("CheckIcon"),ke=(0,s.up)("ListboxOption"),Se=(0,s.up)("ListboxOptions"),We=(0,s.up)("Listbox"),Ie=(0,s.up)("Modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",a,[(0,s._)("div",i,[(0,s.Wm)(re,{ref:"searchbar",onSearch:oe.searchfn},null,8,["onSearch"]),(0,s._)("div",d,[(0,s.Wm)(ae,{onClick:t[0]||(t[0]=e=>ne.mobileFiltersOpen=!ne.mobileFiltersOpen),class:"h-7 fill-current text-white"})]),oe.currentUser.Profile.Autorisations.find((e=>"add-client"==e.nom))?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(ie,{icon:"ant-design:user-add-outlined",onClick:t[1]||(t[1]=t=>e.$router.push("/clients/add")),class:"h-7 w-7 fill-current text-white"})])):(0,s.kq)("",!0)]),(0,s._)("div",u,[(0,s._)("div",null,[(0,s.Wm)(be,{as:"template",show:ne.mobileFiltersOpen},{default:(0,s.w5)((()=>[(0,s.Wm)(he,{as:"div",class:"fixed inset-0 flex z-40",onClose:t[4]||(t[4]=e=>ne.mobileFiltersOpen=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(ce,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(de,{class:"fixed inset-0 bg-black bg-opacity-25"})])),_:1}),(0,s.Wm)(ce,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,s.w5)((()=>[(0,s._)("div",f,[(0,s._)("div",p,[m,(0,s._)("button",{type:"button",class:"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400",onClick:t[2]||(t[2]=e=>ne.mobileFiltersOpen=!1)},[w,(0,s.Wm)(ue,{class:"h-6 w-6 text-gray-300","aria-hidden":"true"})])]),(0,s._)("form",x,[(0,s.Wm)(xe,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,s.w5)((({open:e})=>[(0,s._)("h3",h,[(0,s.Wm)(me,{as:"template"},{default:(0,s.w5)((()=>[(0,s._)("div",b,[y,(0,s._)("span",g,[e?((0,s.wg)(),(0,s.j4)(pe,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,s.wg)(),(0,s.j4)(fe,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,s.Wm)(we,{class:"pt-6"},{default:(0,s.w5)((()=>[oe.types?.length>0?((0,s.wg)(),(0,s.iD)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(oe.types,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"flex items-center"},[(0,s.wy)((0,s._)("input",{value:e.id,type:"checkbox",checked:e.checked,class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[3]||(t[3]=e=>ne.typesel=e)},null,8,_),[[n.e8,ne.typesel]]),(0,s._)("label",C,(0,o.zw)(e.type),1)])))),128))])):(0,s.kq)("",!0)])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1},8,["show"])])]),(0,s._)("div",k,[0!=oe.showedClients?.length?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("ul",W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(oe.showedClients,(e=>((0,s.wg)(),(0,s.j4)(ye,{key:e.id,client:e},null,8,["client"])))),128))])])):(0,s.kq)("",!0),(0,s.Wm)(ge,{ref:"Pagination",currentPage:ne.currentPage,pageSize:oe.nbperpage,dataLength:oe.clients?.length||0,onPage:t[5]||(t[5]=e=>ne.currentPage=e),onNext:t[6]||(t[6]=e=>ne.currentPage++),onPrev:t[7]||(t[7]=e=>ne.currentPage--),onFirst:t[8]||(t[8]=e=>ne.currentPage=1),onLast:t[9]||(t[9]=t=>ne.currentPage=e.$refs.Pagination.pageNumber)},null,8,["currentPage","pageSize","dataLength"])])]),(0,s.Wm)(Ie,{ref:"createModal",primaryColor:"haja",onSubmit:oe.addClient},{title:(0,s.w5)((()=>[I])),body:(0,s.w5)((()=>[(0,s._)("div",M,[(0,s._)("div",U,[(0,s._)("div",$,[j,(0,s._)("div",P,[(0,s.wy)((0,s._)("input",{type:"text",name:"raison_social",id:"raison_social","onUpdate:modelValue":t[10]||(t[10]=e=>ne.newClient.raisonSociale=e),placeholder:"Raison social",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,ne.newClient.raisonSociale]])])]),(0,s._)("div",D,[T,(0,s._)("div",L,[(0,s.wy)((0,s._)("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":t[11]||(t[11]=e=>ne.newClient.username=e),placeholder:"Username",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,ne.newClient.username]])])]),(0,s._)("div",V,[O,(0,s._)("div",z,[Z,(0,s.wy)((0,s._)("input",{type:"tel",name:"numero",id:"numero","onUpdate:modelValue":t[12]||(t[12]=e=>ne.newClient.numero=e),placeholder:"Numero de telephone",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,ne.newClient.numero]])])]),(0,s._)("div",R,[B,(0,s._)("div",N,[F,(0,s.wy)((0,s._)("input",{type:"tel",name:"numero_secondaire",id:"numero_secondaire","onUpdate:modelValue":t[13]||(t[13]=e=>ne.newClient.numeroSecondaire=e),placeholder:"Numero de telephone (optionel)",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,ne.newClient.numeroSecondaire]])])]),(0,s._)("div",q,[(0,s._)("div",Y,[A,(0,s.Wm)(We,{modelValue:ne.newClient.TypeClientId,"onUpdate:modelValue":t[14]||(t[14]=e=>ne.newClient.TypeClientId=e)},{default:(0,s.w5)((()=>[(0,s._)("div",H,[(0,s.Wm)(_e,{class:"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1"},{default:(0,s.w5)((()=>[(0,s._)("span",K,(0,o.zw)(oe.types.find((e=>e.id==ne.newClient.TypeClientId))?.type||"Type"),1),(0,s._)("span",E,[(0,s.Wm)(ve,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])])),_:1}),(0,s.Wm)(n.uT,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Se,{class:"absolute mt-1 w-11/12 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(oe.types,(e=>((0,s.wg)(),(0,s.j4)(ke,{key:e.id,value:e.id,as:"template"},{default:(0,s.w5)((({active:t,selected:l})=>[(0,s._)("li",{class:(0,o.C_)([t?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 pl-10 pr-4"])},[(0,s._)("span",{class:(0,o.C_)([l?"font-medium":"font-normal","block truncate"])},(0,o.zw)(e.type),3),l?((0,s.wg)(),(0,s.iD)("span",J,[(0,s.Wm)(Ce,{class:"w-5 h-5","aria-hidden":"true"})])):(0,s.kq)("",!0)],2)])),_:2},1032,["value"])))),128))])),_:1})])),_:1})])])),_:1},8,["modelValue"])])]),(0,s._)("div",X,[(0,s._)("div",G,[Q,(0,s.wy)((0,s._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":t[15]||(t[15]=e=>ne.newClient.password=e),placeholder:"Mot de passe",class:"rounded-md border-0 w-auto"},null,512),[[n.nr,ne.newClient.password]])])]),(0,s._)("div",ee,[(0,s._)("div",te,[le,(0,s.wy)((0,s._)("input",{type:"password",name:"passwordConfirm",id:"passwordConfirm","onUpdate:modelValue":t[16]||(t[16]=e=>ne.newClient.passwordConfirm=e),placeholder:"Confirmation",class:"rounded-md border-0 w-auto"},null,512),[[n.nr,ne.newClient.passwordConfirm]])])])])])])),submit:(0,s.w5)((()=>[se])),_:1},8,["onSubmit"])],64)}var oe=l(4147),re=l(4806),ae=l(2207),ie=l(6770),de=l(1463),ce=l(2819),ue=l(7648),fe=l(4808),pe=l(1621),me=l(8582),we=l(6515);const xe={class:"md:w-48 w-64 overflow-hidden flex flex-col bg-white rounded-md shadow shadow-gray-900 items-center max-h-32 justify-evenly",style:{"font-family":"roboto"}},he={class:"w-4 flex justify-center items-center self-end justify-self-start border-none z-20"},be=(0,s.Uk)(" Editer "),ye=(0,s.Uk)(" Supprimer "),ge={class:"flex flex-row space-x-2 w-full order-2 -mt-3 px-2"},ve={class:"flex flex-col flex-1 items-center"},_e={class:"text-light text-gray-400 text-sm py-2"},Ce={class:"w-full flex items-center justify-center order-4"},ke=(0,s.Uk)("Modifier un client"),Se={class:"flex flex-col w-full pt-16 pb-5 overflow-hidden"},We={class:"flex flex-col space-y-3 mt-4 px-2"},Ie={class:"flex flex-col w-full space-y-2 space-x-2"},Me=(0,s._)("label",{class:"flex items-center text-bold h-full rounded-l-md text-md"},"Raison Sociale",-1),Ue={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden"},$e={class:"flex flex-col w-full space-y-2 space-x-2"},je=(0,s._)("label",{for:"numero",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Numero",-1),Pe={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600 overflow-hidden"},De=(0,s._)("label",{for:"numero",class:"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b"},"+213",-1),Te={class:"flex flex-col w-full space-y-2 space-x-2"},Le=(0,s._)("label",{for:"numero",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Numero secondaire",-1),Ve={class:"flex flex-row items-cente w-auto focus-within:ring-1 rounded-md ring-blue-600"},Oe=(0,s._)("label",{for:"numero",class:"flex items-center uppercase text-bold flex-1 rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b"},"+213",-1),ze={class:"flex flex-col w-full"},Ze={class:"flex flex-col items-start w-full space-y-2 space-x-2"},Re=(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Type",-1),Be={class:"relative w-full mx-1 space-x-auto"},Ne={class:"block truncate"},Fe={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},qe={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Ye={class:"flex flex-col w-full"},Ae={class:"flex flex-col items-start space-y-2 space-x-2 w-full"},He=(0,s._)("label",{for:"password",class:"flex items-center text-bold h-full rounded-l-md px-2"},"Mot de passe",-1),Ke={class:"flex flex-col w-full"},Ee={class:"flex flex-col items-start w-max space-y-2 space-x-2"},Je=(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Confirmation",-1),Xe=(0,s.Uk)("Ajouter"),Ge=(0,s.Uk)("Supprimer un client"),Qe=(0,s.Uk)("Supprimer");function et(e,t,l,r,a,i){const d=(0,s.up)("DotsVerticalIcon"),c=(0,s.up)("MenuButton"),u=(0,s.up)("PencilIcon"),f=(0,s.up)("MenuItem"),p=(0,s.up)("UserRemoveIcon"),m=(0,s.up)("MenuItems"),w=(0,s.up)("Menu"),x=(0,s.up)("SelectorIcon"),h=(0,s.up)("ListboxButton"),b=(0,s.up)("CheckIcon"),y=(0,s.up)("ListboxOption"),g=(0,s.up)("ListboxOptions"),v=(0,s.up)("Listbox"),_=(0,s.up)("Modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("li",xe,[(0,s._)("div",he,[i.currentUser.Profile.Autorisations.find((e=>"update-client"==e.nom))||i.currentUser.Profile.Autorisations.find((e=>"delete-client"==e.nom))?((0,s.wg)(),(0,s.j4)(w,{key:0,as:"div",class:"h-full"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"h-full",onClick:t[0]||(t[0]=e=>a.extended=!a.extended)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"h-6 w-6 text-black focus:outline-none mr-4"})])),_:1}),(0,s.Wm)(n.uT,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-200 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"fixed -ml-28 bg-white shadow-2xl border space-y-2 divide-y divide-gray-300 devide-solid rounded-md py-2 px-0 flex flex-col"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[i.currentUser.Profile.Autorisations.find((e=>"update-client"==e.nom))?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[(0,s._)("span",{onClick:t[1]||(t[1]=t=>e.$refs.updateModal.open=!0),class:"w-full hover:bg-gray-300 flex flex-row justify-start items-center px-2 rounded-sm"},[(0,s.Wm)(u,{class:"h-5 w-5 ml-2 mr-2 text-bold text-blue-800"}),be])])),_:1})):(0,s.kq)("",!0),i.currentUser.Profile.Autorisations.find((e=>"delete-client"==e.nom))?((0,s.wg)(),(0,s.j4)(f,{key:1},{default:(0,s.w5)((()=>[(0,s._)("button",{class:"w-full hover:bg-gray-300 flex flex-row justify-start items-center px-2 rounded-sm",onClick:t[2]||(t[2]=e=>this.$refs.deleteModal.open=!0)},[(0,s.Wm)(p,{class:"h-5 w-5 ml-2 mr-2 text-bold text-red-800"}),ye])])),_:1})):(0,s.kq)("",!0)])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",ge,[(0,s._)("div",ve,[(0,s._)("label",{onClick:t[3]||(t[3]=t=>e.$router.push({name:"ClientShow",params:{id:l.client.id}})),class:"text-bold w-full text-center whitespace-nowrap overflow-hidden text-ellipsis cursor-pointer"},(0,o.zw)(l.client.raisonSociale),1),(0,s._)("h3",_e,(0,o.zw)(l.client.TypeClient.type),1),(0,s._)("div",Ce,[(0,s._)("label",null,(0,o.zw)(l.client.numero),1)])])])]),(0,s.Wm)(_,{ref:"updateModal",primaryColor:"haja",onSubmit:i.updateClient},{title:(0,s.w5)((()=>[ke])),body:(0,s.w5)((()=>[(0,s._)("div",Se,[(0,s._)("div",We,[(0,s._)("div",Ie,[Me,(0,s._)("div",Ue,[(0,s.wy)((0,s._)("input",{type:"text",name:"raison_social",id:"raison_social","onUpdate:modelValue":t[4]||(t[4]=e=>a.newClient.raisonSociale=e),placeholder:"Raison social",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,a.newClient.raisonSociale]])])]),(0,s._)("div",$e,[je,(0,s._)("div",Pe,[De,(0,s.wy)((0,s._)("input",{type:"tel",name:"numero",id:"numero","onUpdate:modelValue":t[5]||(t[5]=e=>a.newClient.numero=e),placeholder:"Numero de telephone",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,a.newClient.numero]])])]),(0,s._)("div",Te,[Le,(0,s._)("div",Ve,[Oe,(0,s.wy)((0,s._)("input",{type:"tel",name:"numero_secondaire",id:"numero_secondaire","onUpdate:modelValue":t[6]||(t[6]=e=>a.newClient.numeroSecondaire=e),placeholder:"Numero de telephone (optionel)",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[n.nr,a.newClient.numeroSecondaire]])])]),(0,s._)("div",ze,[(0,s._)("div",Ze,[Re,(0,s.Wm)(v,{modelValue:a.newClient.TypeClientId,"onUpdate:modelValue":t[7]||(t[7]=e=>a.newClient.TypeClientId=e)},{default:(0,s.w5)((()=>[(0,s._)("div",Be,[(0,s.Wm)(h,{class:"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1"},{default:(0,s.w5)((()=>[(0,s._)("span",Ne,(0,o.zw)(i.types.find((e=>e.id==a.newClient.TypeClientId))?.type||"Type"),1),(0,s._)("span",Fe,[(0,s.Wm)(x,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])])),_:1}),(0,s.Wm)(n.uT,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"absolute mt-1 w-11/12 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.types,(e=>((0,s.wg)(),(0,s.j4)(y,{key:e.id,value:e.id,as:"template"},{default:(0,s.w5)((({active:t,selected:l})=>[(0,s._)("li",{class:(0,o.C_)([t?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 pl-10 pr-4"])},[(0,s._)("span",{class:(0,o.C_)([l?"font-medium":"font-normal","block truncate"])},(0,o.zw)(e.type),3),l?((0,s.wg)(),(0,s.iD)("span",qe,[(0,s.Wm)(b,{class:"w-5 h-5","aria-hidden":"true"})])):(0,s.kq)("",!0)],2)])),_:2},1032,["value"])))),128))])),_:1})])),_:1})])])),_:1},8,["modelValue"])])]),(0,s._)("div",Ye,[(0,s._)("div",Ae,[He,(0,s.wy)((0,s._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":t[8]||(t[8]=e=>a.newClient.password=e),placeholder:"Mot de passe",class:"rounded-md border-0 w-auto"},null,512),[[n.nr,a.newClient.password]])])]),(0,s._)("div",Ke,[(0,s._)("div",Ee,[Je,(0,s.wy)((0,s._)("input",{type:"password",name:"passwordConfirm",id:"passwordConfirm","onUpdate:modelValue":t[9]||(t[9]=e=>a.newClient.passwordConfirm=e),placeholder:"Confirmation",class:"rounded-md border-0 w-auto"},null,512),[[n.nr,a.newClient.passwordConfirm]])])])])])])),submit:(0,s.w5)((()=>[Xe])),_:1},8,["onSubmit"]),(0,s.Wm)(_,{ref:"deleteModal",primaryColor:"red-400",onSubmit:i.deleteClient},{title:(0,s.w5)((()=>[Ge])),body:(0,s.w5)((()=>[(0,s.Uk)("Etes-vous sur de vouloir supprimer le client "+(0,o.zw)(l.client.raisonSocial),1)])),submit:(0,s.w5)((()=>[Qe])),_:1},8,["onSubmit"])],64)}var tt=l(8622),lt=l(5217),st=l(9931),nt={components:{MenuItems:ie.sd,Menu:ie.v2,MenuButton:ie.j2,MenuItem:ie.sN,DotsVerticalIcon:tt.Z,PencilIcon:lt.Z,UserRemoveIcon:st.Z,Modal:oe.Z,Listbox:ie.Ri,ListboxButton:ie.Y4,ListboxOptions:ie.O_,ListboxOption:ie.wt},data(){return{extended:!1,newClient:this.client}},mounted(){},props:["client"],methods:{async deleteClient(){this.$store.dispatch("deleteClient",this.client.id).then((()=>{this.$refs.deleteModal.open=!1,this.$store.dispatch("getClients")}))},updateClient(){this.$store.dispatch("updateClient",this.newClient),this.$refs.updateModal.open=!1}},computed:{types(){return this.$store.getters.getTypeClients},currentUser(){return this.$store.getters.getCurrentUser}}},ot=l(89);const rt=(0,ot.Z)(nt,[["render",et]]);var at=rt,it=l(6088),dt={name:"ClientIndex",components:{Pagination:ae.Z,SearchBar:we.Z,Dialog:ie.Vq,DialogOverlay:ie.t9,Disclosure:ie.pJ,DisclosureButton:ie.lG,DisclosurePanel:ie.V2,ClientRow:at,TransitionChild:ie.xY,TransitionRoot:ie.Qm,FilterIcon:de.Z,MinusSmIcon:ce.Z,PlusSmIcon:ue.Z,XIcon:me.Z,Modal:oe.Z,Icon:it.JO,CheckIcon:fe.Z,SelectorIcon:pe.Z,Listbox:ie.Ri,ListboxButton:ie.Y4,ListboxOptions:ie.O_,ListboxOption:ie.wt},async beforeMount(){await this.$store.dispatch("getClients"),await this.$store.dispatch("getTypeClients")},data(){return{newClient:{raisonSociale:null,numero:null,numeroSecondaire:null,email:null,password:null,paswordConfirm:null},typesel:[],currentPage:1,mobileFiltersOpen:!1}},methods:{searchfn:(0,re.debounce)((function(e){this.$store.dispatch("getClients",{TypeClientId:this.fonctionsel,raisonSociale:e,numero:e,numeroSecondaire:e,username:e})}),500),openModal(e){this.$refs.modal.open=!0,this.$refs.modal.client=e},pencilCLick(){this.$refs.fileInput.click()},avatarChanged(){this.$refs.avatarDisplay.src=URL.createObjectURL(this.$refs.fileInput.files[0])},openCreateModal(){this.$refs.createModal.open=!0},addClient(){this.$store.dispatch("addClient",this.newClient).then((()=>{this.$refs.createModal.open=!1,this.$store.dispatch("getClients").then((()=>{this.$refs.searchbar.search=this.newClient.username}))}))}},computed:{clients(){return this.$store.getters.getClients},nbperpage(){return window.innerWidth>=640&&window.innerWidth<768?12:window.innerWidth>=768&&window.innerWidth<1280?16:window.innerWidth>1280?28:6},filters(){return[{id:"nom",name:"Types",options:this.types}]},showedClients(){let e=this.$refs?.Pagination?.currentPage||1,t=this.clients;return t?t.slice((e-1)*this.nbperpage,e*this.nbperpage):[]},types(){return this.$store.getters.getTypeClients},currentUser(){return this.$store.getters.getCurrentUser}},watch:{typesel:function(){this.$store.dispatch("getClients",{TypeClientId:this.typesel,raisonSociale:this.$refs.searchbar.search,numero:this.$refs.searchbar.search,numeroSecondaire:this.$refs.searchbar.search,username:this.$refs.searchbar.search})}}};const ct=(0,ot.Z)(dt,[["render",ne],["__scopeId","data-v-e4dcad82"]]);var ut=ct},8622:function(e,t,l){l.d(t,{Z:function(){return n}});var s=l(3396);function n(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])}},9931:function(e,t,l){l.d(t,{Z:function(){return n}});var s=l(3396);function n(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a6 6 0 00-6 6v1h12v-1a6 6 0 00-6-6zM21 12h-6"})])}}}]);
//# sourceMappingURL=996.f83123a8.js.map