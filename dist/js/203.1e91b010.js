"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[203],{2207:function(e,t,n){n.d(t,{Z:function(){return _}});var l=n(3396),r=n(7139);const a={key:0,class:"h-10 self-end flex flex-row w-full justify-center items-center"},s={class:"flex flex-row items-center justify-center space-x-3"},o={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},i={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},u={class:"flex flex-row space-x-3 items-center justify-center px-3"},c={key:0,class:"diamond bg-blue-800 p-0.5 h-5 w-5 rounded-md text-white"},d=["onClick"],p={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},h={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"};function f(e,t,n,f,w,g){const m=(0,l.up)("ChevronDoubleLeftIcon"),v=(0,l.up)("ChevronLeftIcon"),x=(0,l.up)("ChevronRightIcon"),b=(0,l.up)("ChevronDoubleRightIcon");return 0!=n.dataLength?((0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("ul",s,[(0,l._)("li",o,[(0,l._)("div",null,[(0,l.Wm)(m,{class:"h-5",onClick:t[0]||(t[0]=t=>1!=n.currentPage&&e.$emit("first")),disabled:1==n.currentPage},null,8,["disabled"])])]),(0,l._)("li",i,[(0,l._)("div",null,[(0,l.Wm)(v,{class:"h-5",onClick:t[1]||(t[1]=t=>1!=n.currentPage&&e.$emit("prev")),disabled:1==n.currentPage},null,8,["disabled"])])]),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.pageNumber,(t=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},[n.currentPage-3<t&&t<n.currentPage+3?((0,l.wg)(),(0,l.iD)("li",c,[(0,l._)("div",{onClick:n=>e.$emit("page",t),class:(0,r.C_)(["flex h-full w-full items-center justify-center cursor-pointer",t===n.currentPage&&"text-red-500"])},(0,r.zw)(t),11,d)])):(0,l.kq)("",!0)],64)))),128))]),(0,l._)("li",p,[(0,l._)("div",null,[(0,l.Wm)(x,{class:"h-5",onClick:t[2]||(t[2]=t=>n.currentPage!=g.pageNumber&&e.$emit("next")),disabled:n.currentPage==g.pageNumber},null,8,["disabled"])])]),(0,l._)("li",h,[(0,l._)("div",null,[(0,l.Wm)(b,{class:"h-5",onClick:t[3]||(t[3]=t=>n.currentPage!=g.pageNumber&&e.$emit("last")),disabled:n.currentPage==g.pageNumber},null,8,["disabled"])])])])])):(0,l.kq)("",!0)}function w(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function g(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function m(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function v(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}var x={name:"Pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:1},dataLength:{type:Number,required:!0}},components:{ChevronDoubleLeftIcon:w,ChevronDoubleRightIcon:g,ChevronRightIcon:m,ChevronLeftIcon:v},computed:{pageNumber(){let e=this.dataLength/this.pageSize;return this.dataLength%this.pageSize!=0&&e++,parseInt(e)}}},b=n(89);const y=(0,b.Z)(x,[["render",f]]);var _=y},6515:function(e,t,n){n.d(t,{Z:function(){return h}});var l=n(3396),r=n(9242);const a=e=>((0,l.dD)("data-v-85e6cc1c"),e=e(),(0,l.Cn)(),e),s=a((()=>(0,l._)("svg",{class:"h-9 w-4 fill-current fill-white",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{"enable-background":"new 0 0 56.966 56.966"},"xml:space":"preserve",width:"512px",height:"512px"},[(0,l._)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})],-1))),o=[s];function i(e,t,n,a,s,i){const u=(0,l.up)("TransitionRoot");return(0,l.wg)(),(0,l.iD)("div",{class:"flex flex-row bg-gray-500 rounded-full py-1 px-2",onMouseover:t[4]||(t[4]=e=>{s.open=!0,s.mouseover=!0}),onMouseleave:t[5]||(t[5]=(...e)=>i.mouseleave&&i.mouseleave(...e))},[(0,l.Wm)(u,{as:"div",show:s.open,enter:"transition-all duration-150","enter-from":"w-0","enter-to":"w-full",leave:"transition-all duration-300","leave-from":"w-full","leave-to":"w-0"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),type:"search",name:"serch",placeholder:"Search",class:"text-white bg-gray-500 h-full w-full text-sm focus:outline-none outline-none focus:ring-0 border-none",onFocus:t[1]||(t[1]=e=>s.focused=!0),onBlur:t[2]||(t[2]=(...e)=>i.blur&&i.blur(...e))},null,544),[[r.nr,s.search]])])),_:1},8,["show"]),(0,l._)("button",{type:"submit",class:"px-2",onClick:t[3]||(t[3]=(...e)=>i.searchfn&&i.searchfn(...e))},o)],32)}var u=n(6770),c={components:{TransitionRoot:u.Qm},name:"SearchBar",props:["_search"],data(){return{search:"",open:!1,focused:!1,mouseover:!1}},methods:{async searchfn(){if(!this.open)return this.open=!0;this.$emit("search",this.search)},mouseleave(){this.mouseover=!1,this.focused||(this.open=!1)},blur(){this.focused=!1,this.mouseover||""!=this.search||(this.open=!1)}},watch:{search(e){this.$emit("search",e)}}},d=n(89);const p=(0,d.Z)(c,[["render",i],["__scopeId","data-v-85e6cc1c"]]);var h=p},6203:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var l=n(3396),r=n(7139),a=n(9242);const s={class:"flex flex-col w-full justify-center items-center h-full bg-gray-700 overflow-hidden"},o={class:"flex self-start w-full items-center space-x-3 h-16 py-1 px-2"},i={class:"bg-blue-900"},u={class:"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto"},c={class:"px-4 flex items-center justify-between"},d=(0,l._)("h2",{class:"text-lg font-medium text-gray-300"},"Filters",-1),p=(0,l._)("span",{class:"sr-only text-white"},"Close menu",-1),h={class:"-mx-2 -my-3 flow-root"},f={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},w=(0,l._)("span",{class:"font-medium text-gray-400"}," Etat ",-1),g={class:"ml-6 flex items-center"},m={class:"space-y-6"},v={class:"flex items-center"},x=(0,l._)("label",{class:"ml-3 min-w-0 flex-1 text-gray-500"}," En attente ",-1),b={class:"space-y-6"},y={class:"flex items-center"},_=(0,l._)("label",{class:"ml-3 min-w-0 flex-1 text-gray-500"}," ValidÃ© ",-1),k={class:"-mx-2 -my-3 flow-root"},C={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},W=(0,l._)("span",{class:"font-medium text-gray-400"}," Couleurs ",-1),P={class:"ml-6 flex items-center"},j={key:0,class:"space-y-6"},D=["value","checked"],z={class:"flex-1 flex flex-col h-full w-full overflow-hidden"},L={class:"h-full md:justify-start align-center m-4 flex flex-1 flex-col overflow-auto overflow-x-hidden py-3"},V=(0,l._)("div",{class:"text-white text-2xl m-2 mb-4 font-bold"},[(0,l._)("h1",null,"Liste des ventes")],-1),I={class:"bg-white rounded-md mx-1 grid grid-flow-row overflow-hidden text-black my-auto"},M=(0,l._)("thead",null,[(0,l._)("tr",{class:"w-full grid grid-flow-col"},[(0,l._)("th",{class:"px-2 py-2 col-span-1 hidden md:block"}),(0,l._)("th",{class:"px-4 py-2 col-span-1"},"Client"),(0,l._)("th",{class:"px-4 py-2 col-span-1"},"Totale"),(0,l._)("th",{class:"px-4 py-2 col-span-1"},"Etat")])],-1),S={class:"w-full grid grid-flow-row overflow-auto"};function $(e,t,n,$,Z,B){const N=(0,l.up)("SearchBar"),F=(0,l.up)("FilterIcon"),R=(0,l.up)("DialogOverlay"),O=(0,l.up)("TransitionChild"),q=(0,l.up)("XIcon"),T=(0,l.up)("PlusSmIcon"),H=(0,l.up)("MinusSmIcon"),U=(0,l.up)("DisclosureButton"),Y=(0,l.up)("DisclosurePanel"),E=(0,l.up)("Disclosure"),K=(0,l.up)("Dialog"),A=(0,l.up)("TransitionRoot"),Q=(0,l.up)("VenteRow"),X=(0,l.up)("Pagination");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",o,[(0,l.Wm)(N,{ref:"searchbar",onSearch:B.searchfn},null,8,["onSearch"]),(0,l._)("div",{class:(0,r.C_)(["rounded-full py-2 px-2 bg-gray-500",{hidden:e.refs?.searchbar?.open}])},[(0,l.Wm)(F,{onClick:t[0]||(t[0]=e=>Z.mobileFiltersOpen=!Z.mobileFiltersOpen),class:"h-7 fill-current text-white"})],2)]),(0,l._)("div",i,[(0,l._)("div",null,[(0,l.Wm)(A,{as:"template",show:Z.mobileFiltersOpen},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{as:"div",class:"fixed inset-0 flex z-40",onClose:t[5]||(t[5]=e=>Z.mobileFiltersOpen=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{class:"fixed inset-0 bg-black bg-opacity-25"})])),_:1}),(0,l.Wm)(O,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",c,[d,(0,l._)("button",{type:"button",class:"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400",onClick:t[1]||(t[1]=e=>Z.mobileFiltersOpen=!1)},[p,(0,l.Wm)(q,{class:"h-6 w-6 text-gray-300","aria-hidden":"true"})])]),(0,l.Wm)(E,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,l.w5)((({open:e})=>[(0,l._)("h3",h,[(0,l.Wm)(U,{as:"template"},{default:(0,l.w5)((()=>[(0,l._)("div",f,[w,(0,l._)("span",g,[e?((0,l.wg)(),(0,l.j4)(H,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,l.wg)(),(0,l.j4)(T,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,l.Wm)(Y,{class:"pt-6"},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",v,[(0,l.wy)((0,l._)("input",{value:"en attente",type:"checkbox",class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[2]||(t[2]=e=>Z.etatsel=e)},null,512),[[a.e8,Z.etatsel]]),x])]),(0,l._)("div",b,[(0,l._)("div",y,[(0,l.wy)((0,l._)("input",{value:"valide",type:"checkbox",class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[3]||(t[3]=e=>Z.etatsel=e)},null,512),[[a.e8,Z.etatsel]]),_])])])),_:1})])),_:1}),(0,l.Wm)(E,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,l.w5)((({open:n})=>[(0,l._)("h3",k,[(0,l.Wm)(U,{as:"template"},{default:(0,l.w5)((()=>[(0,l._)("div",C,[W,(0,l._)("span",P,[n?((0,l.wg)(),(0,l.j4)(H,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,l.wg)(),(0,l.j4)(T,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,l.Wm)(Y,{class:"pt-6"},{default:(0,l.w5)((()=>[e.couleurs.length>0?((0,l.wg)(),(0,l.iD)("div",j,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.couleurs,(n=>((0,l.wg)(),(0,l.iD)("div",{key:n.id,class:"flex items-center"},[(0,l.wy)((0,l._)("input",{value:n.id,type:"checkbox",checked:n.checked,class:"h-4 w-4 border-gray-400 rounded",style:(0,r.j5)({"--tw-ring-color":`#${n.code}`,color:`#${n.code}`}),"onUpdate:modelValue":t[4]||(t[4]=t=>e.couleursel=t)},null,12,D),[[a.e8,e.couleursel]]),(0,l._)("label",{class:"ml-3 min-w-0 flex-1",style:(0,r.j5)({color:`#${n.code}`})},(0,r.zw)(n.nom),5)])))),128))])):(0,l.kq)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["show"])])]),(0,l._)("div",z,[(0,l._)("div",L,[V,(0,l._)("table",I,[M,(0,l._)("tbody",S,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(B.showedVentes,(e=>((0,l.wg)(),(0,l.j4)(Q,{key:e.id,vente:e},null,8,["vente"])))),128))])])]),(0,l.Wm)(X,{ref:"Pagination",currentPage:Z.currentPage,pageSize:B.nbperpage,dataLength:B.ventes.length,onPage:t[6]||(t[6]=e=>Z.currentPage=e),onNext:t[7]||(t[7]=e=>Z.currentPage++),onPrev:t[8]||(t[8]=e=>Z.currentPage--),onFirst:t[9]||(t[9]=e=>Z.currentPage=1),onLast:t[10]||(t[10]=t=>Z.currentPage=e.$refs.Pagination.pageNumber)},null,8,["currentPage","pageSize","dataLength"])])])}var Z=n(4806),B=n(2207);const N={class:"px-4 py-2 col-span-1 hidden md:block"},F={class:"font-medium"},R={class:"px-4 py-2 col-span-1"},O={class:"font-medium"},q={class:"px-4 py-2 col-span-1"},T={class:"font-medium"},H={class:"px-4 py-2 col-span-1"},U={class:"font-medium"};function Y(e,t,n,a,s,o){const i=(0,l.up)("router-link");return n.vente?((0,l.wg)(),(0,l.j4)(i,{key:0,to:{name:"Vente",params:{id:n.vente.id}},class:"border-b border-gray-400 w-full grid grid-flow-col grid-cols-3 md:grid-cols-4 items-center justify-center text-center odd:bg-slate-200 text-black"},{default:(0,l.w5)((()=>[(0,l._)("td",N,[(0,l._)("span",F,(0,r.zw)(n.vente?.id),1)]),(0,l._)("td",R,[(0,l._)("span",O,(0,r.zw)(n.vente?.Client?.raisonSociale),1)]),(0,l._)("td",q,[(0,l._)("span",T,(0,r.zw)(n.vente?.montant||0)+" Da",1)]),(0,l._)("td",H,[(0,l._)("span",U,(0,r.zw)(n.vente?.etat),1)])])),_:1},8,["to"])):(0,l.kq)("",!0)}var E={name:"CommandeRow",props:{vente:{type:Object,required:!0}},mounted(){console.log(this.showedVentes)}},K=n(89);const A=(0,K.Z)(E,[["render",Y]]);var Q=A,X=n(6770),G=n(6515),J=n(1463),ee=n(7648),te=n(2819),ne=n(8582),le={name:"Ventes",beforeMount(){this.$store.dispatch("getVentes")},data(){return{mobileFiltersOpen:!1,currentPage:1,etatsel:[]}},components:{Dialog:X.Vq,Pagination:B.Z,VenteRow:Q,DialogOverlay:X.t9,Disclosure:X.pJ,DisclosureButton:X.lG,DisclosurePanel:X.V2,TransitionChild:X.xY,TransitionRoot:X.Qm,SearchBar:G.Z,FilterIcon:J.Z,XIcon:ne.Z,PlusSmIcon:ee.Z,MinusSmIcon:te.Z},computed:{nbperpage(){return window.innerWidth>=640&&window.innerWidth<768?13:window.innerWidth>=768&&window.innerWidth<1280?15:window.innerWidth>1280?20:8},pageNumber(){let e=this.ventes.length/this.nbperpage;return this.ventes.length%this.nbperpage!=0&&e++,parseInt(e)},currentUser(){return this.$store.getters.getCurrentUser},ventes(){return this.$store.getters.getVentes},showedVentes(){let e=(this.currentPage-1)*this.nbperpage,t=e+this.nbperpage;return this.ventes.slice(e,t)}},methods:{searchfn:(0,Z.debounce)((async function(){this.$store.dispatch("getVentes",{etat:this.etatsel,"$Client.raisonSociale$":this.$refs.searchbar.search})}),500),openCreateModal(){}},watch:{etatsel:function(){this.searchfn()}}};const re=(0,K.Z)(le,[["render",$]]);var ae=re},8582:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(3396);function r(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])}},1463:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(3396);function r(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])}},2819:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(3396);function r(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"})])}},7648:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(3396);function r(e,t){return(0,l.wg)(),(0,l.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,l.Wm)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=203.1e91b010.js.map