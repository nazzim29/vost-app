"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[947],{4147:function(e,t,l){l.d(t,{Z:function(){return m}});var o=l(3396);const n=e=>((0,o.dD)("data-v-694f6d0c"),e=e(),(0,o.Cn)(),e),s={class:"fixed inset-0 overflow-hidden text-center",style:{"z-index":"9999"}},a=n((()=>(0,o._)("span",{class:"inline-block h-full align-middle","aria-hidden":"true"}," ​ ",-1))),r={class:"overflow-hidden mx-5 pt-2 inline-flex flex-col align-middle transition-all transform bg-white shadow-xl rounded-2xl",style:{"max-height":"calc(100vh - 16px)"}},i={class:"flex flex-1 overflow-hidden min-h-16 items-center overflow-y-auto"},u={class:"w-full flex flex-row justify-end space-x-2 pr-2 py-1.5 shadow-top",style:{"z-index":"9999"}};function d(e,t,l,n,d,c){const p=(0,o.up)("DialogOverlay"),f=(0,o.up)("TransitionChild"),h=(0,o.up)("DialogTitle"),m=(0,o.up)("Dialog"),w=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.j4)(w,{appear:"",show:d.open,as:"template"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{onClose:c.closeModal},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"fixed inset-0"})])),_:1}),a,(0,o.Wm)(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(h,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 shadow-md pb-1"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"title",{},void 0,!0)])),_:3}),(0,o._)("div",i,[(0,o.WI)(e.$slots,"body",{obj:d.obj},void 0,!0)]),(0,o._)("div",u,[(0,o._)("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[0]||(t[0]=(...e)=>c.closeModal&&c.closeModal(...e))}," Cancel "),(0,o._)("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[1]||(t[1]=e=>this.$emit("submit",this.obj))},[(0,o.WI)(e.$slots,"submit",{},void 0,!0)])])])])),_:3})])])),_:3},8,["onClose"])])),_:3},8,["show"])}var c=l(6770),p={components:{TransitionRoot:c.Qm,TransitionChild:c.xY,Dialog:c.Vq,DialogOverlay:c.t9,DialogTitle:c.$N},data(){return{open:!1,obj:null}},methods:{closeModal(){this.open=!1},openModal(){this.open=!0}}},f=l(89);const h=(0,f.Z)(p,[["render",d],["__scopeId","data-v-694f6d0c"]]);var m=h},2207:function(e,t,l){l.d(t,{Z:function(){return _}});var o=l(3396),n=l(7139);const s={key:0,class:"h-10 self-end flex flex-row w-full justify-center items-center"},a={class:"flex flex-row items-center justify-center space-x-3"},r={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},i={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},u={class:"flex flex-row space-x-3 items-center justify-center px-3"},d={key:0,class:"diamond bg-blue-800 p-0.5 h-5 w-5 rounded-md text-white"},c=["onClick"],p={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},f={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"};function h(e,t,l,h,m,w){const g=(0,o.up)("ChevronDoubleLeftIcon"),x=(0,o.up)("ChevronLeftIcon"),v=(0,o.up)("ChevronRightIcon"),b=(0,o.up)("ChevronDoubleRightIcon");return 0!=l.dataLength?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("ul",a,[(0,o._)("li",r,[(0,o._)("div",null,[(0,o.Wm)(g,{class:"h-5",onClick:t[0]||(t[0]=t=>1!=l.currentPage&&e.$emit("first")),disabled:1==l.currentPage},null,8,["disabled"])])]),(0,o._)("li",i,[(0,o._)("div",null,[(0,o.Wm)(x,{class:"h-5",onClick:t[1]||(t[1]=t=>1!=l.currentPage&&e.$emit("prev")),disabled:1==l.currentPage},null,8,["disabled"])])]),(0,o._)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.pageNumber,(t=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[l.currentPage-3<t&&t<l.currentPage+3?((0,o.wg)(),(0,o.iD)("li",d,[(0,o._)("div",{onClick:l=>e.$emit("page",t),class:(0,n.C_)(["flex h-full w-full items-center justify-center cursor-pointer",t===l.currentPage&&"text-red-500"])},(0,n.zw)(t),11,c)])):(0,o.kq)("",!0)],64)))),128))]),(0,o._)("li",p,[(0,o._)("div",null,[(0,o.Wm)(v,{class:"h-5",onClick:t[2]||(t[2]=t=>l.currentPage!=w.pageNumber&&e.$emit("next")),disabled:l.currentPage==w.pageNumber},null,8,["disabled"])])]),(0,o._)("li",f,[(0,o._)("div",null,[(0,o.Wm)(b,{class:"h-5",onClick:t[3]||(t[3]=t=>l.currentPage!=w.pageNumber&&e.$emit("last")),disabled:l.currentPage==w.pageNumber},null,8,["disabled"])])])])])):(0,o.kq)("",!0)}function m(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function w(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function g(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function x(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}var v={name:"Pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:1},dataLength:{type:Number,required:!0}},components:{ChevronDoubleLeftIcon:m,ChevronDoubleRightIcon:w,ChevronRightIcon:g,ChevronLeftIcon:x},computed:{pageNumber(){let e=this.dataLength/this.pageSize;return this.dataLength%this.pageSize!=0&&e++,parseInt(e)}}},b=l(89);const y=(0,b.Z)(v,[["render",h]]);var _=y},6515:function(e,t,l){l.d(t,{Z:function(){return f}});var o=l(3396),n=l(9242);const s=e=>((0,o.dD)("data-v-85e6cc1c"),e=e(),(0,o.Cn)(),e),a=s((()=>(0,o._)("svg",{class:"h-9 w-4 fill-current fill-white",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{"enable-background":"new 0 0 56.966 56.966"},"xml:space":"preserve",width:"512px",height:"512px"},[(0,o._)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})],-1))),r=[a];function i(e,t,l,s,a,i){const u=(0,o.up)("TransitionRoot");return(0,o.wg)(),(0,o.iD)("div",{class:"flex flex-row bg-gray-500 rounded-full py-1 px-2",onMouseover:t[4]||(t[4]=e=>{a.open=!0,a.mouseover=!0}),onMouseleave:t[5]||(t[5]=(...e)=>i.mouseleave&&i.mouseleave(...e))},[(0,o.Wm)(u,{as:"div",show:a.open,enter:"transition-all duration-150","enter-from":"w-0","enter-to":"w-full",leave:"transition-all duration-300","leave-from":"w-full","leave-to":"w-0"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.search=e),type:"search",name:"serch",placeholder:"Search",class:"text-white bg-gray-500 h-full w-full text-sm focus:outline-none outline-none focus:ring-0 border-none",onFocus:t[1]||(t[1]=e=>a.focused=!0),onBlur:t[2]||(t[2]=(...e)=>i.blur&&i.blur(...e))},null,544),[[n.nr,a.search]])])),_:1},8,["show"]),(0,o._)("button",{type:"submit",class:"px-2",onClick:t[3]||(t[3]=(...e)=>i.searchfn&&i.searchfn(...e))},r)],32)}var u=l(6770),d={components:{TransitionRoot:u.Qm},name:"SearchBar",props:["_search"],data(){return{search:"",open:!1,focused:!1,mouseover:!1}},methods:{async searchfn(){if(!this.open)return this.open=!0;this.$emit("search",this.search)},mouseleave(){this.mouseover=!1,this.focused||(this.open=!1)},blur(){this.focused=!1,this.mouseover||""!=this.search||(this.open=!1)}},watch:{search(e){this.$emit("search",e)}}},c=l(89);const p=(0,c.Z)(d,[["render",i],["__scopeId","data-v-85e6cc1c"]]);var f=p},4947:function(e,t,l){l.r(t),l.d(t,{default:function(){return Se}});var o=l(3396),n=l(7139),s=l(9242);const a={class:"flex flex-col w-full justify-center items-center h-full bg-gray-700 overflow-hidden"},r={class:"flex self-start w-full items-center space-x-3 h-16 py-1 px-2"},i={key:0,class:"rounded-full py-2 px-2 bg-gray-500"},u={class:"bg-blue-900"},d={class:"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto"},c={class:"px-4 flex items-center justify-between"},p=(0,o._)("h2",{class:"text-lg font-medium text-gray-300"},"Filters",-1),f=(0,o._)("span",{class:"sr-only text-white"},"Close menu",-1),h={class:"-mx-2 -my-3 flow-root"},m={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},w=(0,o._)("span",{class:"font-medium text-gray-400"}," Etat ",-1),g={class:"ml-6 flex items-center"},x={class:"space-y-6"},v={class:"flex items-center"},b=(0,o._)("label",{class:"ml-3 min-w-0 flex-1 text-gray-500"}," En attente ",-1),y={class:"flex items-center"},_=(0,o._)("label",{class:"ml-3 min-w-0 flex-1 text-gray-500"}," Validé ",-1),P={class:"-mx-2 -my-3 flow-root"},k={class:"px-2 py-3 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200"},C=(0,o._)("span",{class:"font-medium text-gray-400"}," Couleurs ",-1),W={class:"ml-6 flex items-center"},D={key:0,class:"space-y-6"},j=["value","checked"],$={class:"flex-1 flex flex-col h-full w-full overflow-hidden"},z={class:"h-full md:justify-start align-center m-4 flex flex-1 flex-col overflow-auto overflow-x-hidden py-3"},I=(0,o._)("div",{class:"text-white text-2xl m-2 mb-4 font-bold"},[(0,o._)("h1",null,"Productions")],-1),L={class:"bg-white rounded-md mx-1 grid grid-flow-row overflow-hidden text-black"},M=(0,o._)("thead",null,[(0,o._)("tr",{class:"w-full grid grid-flow-col"},[(0,o._)("th",{class:"px-2 py-2 col-span-1"},"Produit"),(0,o._)("th",{class:"px-4 py-2 col-span-1"},"User"),(0,o._)("th",{class:"px-4 py-2 col-span-1"},"Quantité"),(0,o._)("th",{class:"px-4 py-2 col-span-1 hidden md:block"},"Date")])],-1),S={class:"w-full grid grid-flow-row overflow-auto"},O=(0,o.Uk)("Ajouter un produit"),B={class:"flex flex-col w-full pb-12 overflow-y-auto"},T={class:"flex flex-col space-y-3 mt-4 px-2"},Z={class:"flex flex-col w-full"},N={class:"flex flex-col items-start space-y-2 space-x-2 w-full"},V=(0,o._)("label",{for:"nom",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Lot",-1),q={class:"flex flex-col w-full"},F={class:"flex flex-col items-start w-full space-y-2 space-x-2"},U=(0,o._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Produit",-1),R={class:"relative w-11/12"},H={class:"block truncate"},Y={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Q={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},A={ref:"load"},K={class:"flex flex-col w-full"},E={class:"flex flex-col items-start w-full space-y-2 space-x-2"},J=(0,o._)("label",{for:"quantite",class:"flex items-center text-bold h-full rounded-l-md px-2text-xl"},"Quantite",-1),X={class:"flex flex-col w-full"},G={class:"flex flex-col items-start w-full space-y-2 space-x-2"},ee=(0,o._)("label",{for:"date",class:"flex items-center text-bold h-full rounded-l-md px-2text-xl"},"Date Production",-1),te=(0,o.Uk)("Ajouter");function le(e,t,l,le,oe,ne){const se=(0,o.up)("SearchBar"),ae=(0,o.up)("FilterIcon"),re=(0,o.up)("Icon"),ie=(0,o.up)("DialogOverlay"),ue=(0,o.up)("TransitionChild"),de=(0,o.up)("XIcon"),ce=(0,o.up)("PlusSmIcon"),pe=(0,o.up)("MinusSmIcon"),fe=(0,o.up)("DisclosureButton"),he=(0,o.up)("DisclosurePanel"),me=(0,o.up)("Disclosure"),we=(0,o.up)("Dialog"),ge=(0,o.up)("TransitionRoot"),xe=(0,o.up)("ProductionRow"),ve=(0,o.up)("Pagination"),be=(0,o.up)("SelectorIcon"),ye=(0,o.up)("ListboxButton"),_e=(0,o.up)("CheckIcon"),Pe=(0,o.up)("ListboxOption"),ke=(0,o.up)("ListboxOptions"),Ce=(0,o.up)("Listbox"),We=(0,o.up)("Modal");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",r,[(0,o.Wm)(se,{ref:"searchbar",onSearch:ne.searchfn},null,8,["onSearch"]),(0,o._)("div",{class:(0,n.C_)(["rounded-full py-2 px-2 bg-gray-500",{hidden:e.refs?.searchbar?.open}])},[(0,o.Wm)(ae,{onClick:t[0]||(t[0]=e=>oe.mobileFiltersOpen=!oe.mobileFiltersOpen),class:"h-7 fill-current text-white"})],2),ne.currentUser.Profile.Autorisations.find((e=>"add-production"==e.nom))?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(re,{icon:"ion:create",onClick:ne.openCreateModal,class:"h-7 w-7 fill-current text-white"},null,8,["onClick"])])):(0,o.kq)("",!0)]),(0,o._)("div",u,[(0,o._)("div",null,[(0,o.Wm)(ge,{as:"template",show:oe.mobileFiltersOpen},{default:(0,o.w5)((()=>[(0,o.Wm)(we,{as:"div",class:"fixed inset-0 flex z-40",onClose:t[5]||(t[5]=e=>oe.mobileFiltersOpen=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(ue,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(ie,{class:"fixed inset-0 bg-black bg-opacity-25"})])),_:1}),(0,o.Wm)(ue,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o._)("div",c,[p,(0,o._)("button",{type:"button",class:"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400",onClick:t[1]||(t[1]=e=>oe.mobileFiltersOpen=!1)},[f,(0,o.Wm)(de,{class:"h-6 w-6 text-gray-300","aria-hidden":"true"})])]),(0,o.Wm)(me,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,o.w5)((({open:e})=>[(0,o._)("h3",h,[(0,o.Wm)(fe,{as:"template"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[w,(0,o._)("span",g,[e?((0,o.wg)(),(0,o.j4)(pe,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,o.wg)(),(0,o.j4)(ce,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,o.Wm)(he,{class:"pt-6"},{default:(0,o.w5)((()=>[(0,o._)("div",x,[(0,o._)("div",v,[(0,o.wy)((0,o._)("input",{value:"en attente",type:"checkbox",class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[2]||(t[2]=e=>oe.etatsel=e)},null,512),[[s.e8,oe.etatsel]]),b]),(0,o._)("div",y,[(0,o.wy)((0,o._)("input",{value:"valide",type:"checkbox",class:"h-4 w-4 border-gray-400 rounded text-blue-600 focus:ring-blue-500","onUpdate:modelValue":t[3]||(t[3]=e=>oe.etatsel=e)},null,512),[[s.e8,oe.etatsel]]),_])])])),_:1})])),_:1}),(0,o.Wm)(me,{as:"div",class:"border-t border-gray-400 px-4 py-6"},{default:(0,o.w5)((({open:l})=>[(0,o._)("h3",P,[(0,o.Wm)(fe,{as:"template"},{default:(0,o.w5)((()=>[(0,o._)("div",k,[C,(0,o._)("span",W,[l?((0,o.wg)(),(0,o.j4)(pe,{key:1,class:"h-5 w-5","aria-hidden":"true"})):((0,o.wg)(),(0,o.j4)(ce,{key:0,class:"h-5 w-5","aria-hidden":"true"}))])])])),_:2},1024)]),(0,o.Wm)(he,{class:"pt-6"},{default:(0,o.w5)((()=>[e.couleurs.length>0?((0,o.wg)(),(0,o.iD)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.couleurs,(l=>((0,o.wg)(),(0,o.iD)("div",{key:l.id,class:"flex items-center"},[(0,o.wy)((0,o._)("input",{value:l.id,type:"checkbox",checked:l.checked,class:"h-4 w-4 border-gray-400 rounded",style:(0,n.j5)({"--tw-ring-color":`#${l.code}`,color:`#${l.code}`}),"onUpdate:modelValue":t[4]||(t[4]=t=>e.couleursel=t)},null,12,j),[[s.e8,e.couleursel]]),(0,o._)("label",{class:"ml-3 min-w-0 flex-1",style:(0,n.j5)({color:`#${l.code}`})},(0,n.zw)(l.nom),5)])))),128))])):(0,o.kq)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["show"])])]),(0,o._)("div",$,[(0,o._)("div",z,[I,(0,o._)("table",L,[M,(0,o._)("tbody",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ne.showedProductions,(e=>((0,o.wg)(),(0,o.j4)(xe,{key:e.id,production:e},null,8,["production"])))),128))])])]),(0,o.Wm)(ve,{ref:"Pagination",currentPage:oe.currentPage,pageSize:ne.nbperpage,dataLength:ne.productions.length,onPage:t[6]||(t[6]=e=>oe.currentPage=e),onNext:t[7]||(t[7]=e=>oe.currentPage++),onPrev:t[8]||(t[8]=e=>oe.currentPage--),onFirst:t[9]||(t[9]=e=>oe.currentPage=1),onLast:t[10]||(t[10]=t=>oe.currentPage=e.$refs.Pagination.pageNumber)},null,8,["currentPage","pageSize","dataLength"])]),(0,o.Wm)(We,{ref:"createModal",onSubmit:ne.addProd},{title:(0,o.w5)((()=>[O])),body:(0,o.w5)((()=>[(0,o._)("div",B,[(0,o._)("div",T,[(0,o._)("div",Z,[(0,o._)("div",N,[V,(0,o.wy)((0,o._)("input",{type:"text",name:"lot",id:"lot","onUpdate:modelValue":t[11]||(t[11]=e=>oe.newProduction.lot=e),placeholder:"Lot",class:"rounded-md border-0 w-3/4"},null,512),[[s.nr,oe.newProduction.lot]])])]),(0,o._)("div",q,[(0,o._)("div",F,[U,(0,o.Wm)(Ce,{modelValue:oe.newProduction.Produit,"onUpdate:modelValue":t[12]||(t[12]=e=>oe.newProduction.Produit=e)},{default:(0,o.w5)((()=>[(0,o._)("div",R,[(0,o.Wm)(ye,{onFocus:ne.onOpen,onBlur:ne.onClose,class:"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm"},{default:(0,o.w5)((()=>[(0,o._)("span",H,(0,n.zw)(oe.newProduction.Produit?.nom||"Produits..."),1),(0,o._)("span",Y,[(0,o.Wm)(be,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])])),_:1},8,["onFocus","onBlur"]),(0,o.Wm)(s.uT,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(ke,{onScroll:ne.scrolllist,class:"absolute w-full max-h-48 py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-50"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(ne.paginated,(e=>((0,o.wg)(),(0,o.j4)(Pe,{key:e.id,value:e,as:"template"},{default:(0,o.w5)((({active:t,selected:l})=>[(0,o._)("li",{class:(0,n.C_)([t?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 px-4"])},[(0,o._)("span",{class:(0,n.C_)([l?"font-medium":"font-normal","block truncate"])},(0,n.zw)(e.nom)+" ("+(0,n.zw)(e.contenance)+"kg)",3),l?((0,o.wg)(),(0,o.iD)("span",Q,[(0,o.Wm)(_e,{class:"w-5 h-5","aria-hidden":"true"})])):(0,o.kq)("",!0)],2)])),_:2},1032,["value"])))),128)),(0,o.wy)((0,o.Wm)(Pe,null,{default:(0,o.w5)((()=>[(0,o._)("span",A," loading",512)])),_:1},512),[[s.F8,ne.hasNextPage]])])),_:1},8,["onScroll"])])),_:1})])])),_:1},8,["modelValue"])])]),(0,o._)("div",K,[(0,o._)("div",E,[J,(0,o.wy)((0,o._)("input",{type:"number",name:"quantite",id:"quantite","onUpdate:modelValue":t[13]||(t[13]=e=>oe.newProduction.quantite=e),placeholder:"Quantité",class:"rounded-md border-0 w-3/4"},null,512),[[s.nr,oe.newProduction.quantite]])])]),(0,o._)("div",X,[(0,o._)("div",G,[ee,(0,o.wy)((0,o._)("input",{type:"date",name:"date",id:"date","onUpdate:modelValue":t[14]||(t[14]=e=>oe.newProduction.date=e),placeholder:"Date de production",class:"rounded-md border-0 w-3/4"},null,512),[[s.nr,oe.newProduction.date]])])])])])])),submit:(0,o.w5)((()=>[te])),_:1},8,["onSubmit"])])}var oe=l(4806),ne=l(2207);const se={class:"border-b border-gray-400 w-full grid grid-flow-col grid-cols-3 md:grid-cols-4 items-center justify-center text-center odd:bg-slate-200 text-black"},ae={class:"px-2 py-2 col-span-1"},re={class:"flex items-center space-x-1"},ie={class:"avatar hidden md:block"},ue={class:"mask mask-squircle w-16 h-16"},de=["src"],ce={class:"font-bold"},pe={class:"text-sm opacity-50"},fe={class:"px-4 py-2 col-span-1"},he={class:"font-medium"},me={class:"px-4 py-2 col-span-1"},we={class:"font-medium"},ge={class:"px-4 py-2 col-span-1 hidden md:block"},xe={class:"font-medium"};function ve(e,t,l,s,a,r){return(0,o.wg)(),(0,o.iD)("li",se,[(0,o._)("td",ae,[(0,o._)("div",re,[(0,o._)("div",ie,[(0,o._)("div",ue,[(0,o._)("img",{src:a.api_url+l.production.Produit.image,alt:"product Image"},null,8,de)])]),(0,o._)("div",null,[(0,o._)("div",ce,(0,n.zw)(l.production.Produit.nom),1),(0,o._)("div",pe,(0,n.zw)(l.production.Produit.TypeProduit.nom),1)])])]),(0,o._)("td",fe,[(0,o._)("span",he,(0,n.zw)(l.production?.User.username),1)]),(0,o._)("td",me,[(0,o._)("span",we,(0,n.zw)(l.production?.quantite),1)]),(0,o._)("td",ge,[(0,o._)("span",xe,(0,n.zw)(r.formatDate(l.production.date)),1)])])}var be={name:"ProductionRow",props:{production:{type:Object,required:!0}},data(){return{api_url:"https://api.vost-dz.com/uploads/Products/"}},methods:{formatDate(e){e=new Date(e);let t=e.getDate(),l=e.getMonth()+1,o=e.getFullYear();return t+"/"+l+"/"+o}},mounted(){console.log(this.production)}},ye=l(89);const _e=(0,ye.Z)(be,[["render",ve]]);var Pe=_e,ke=l(6770),Ce=l(6515),We=l(6088),De=l(1463),je=l(7648),$e=l(2819),ze=l(8582),Ie=l(4147),Le={name:"Productions",beforeMount(){this.$store.dispatch("getProductions"),this.$store.dispatch("getProduits")},data(){return{mobileFiltersOpen:!1,currentPage:1,etatsel:[],newProduction:{},observer:null,limit:10}},mounted(){this.observer=new IntersectionObserver(this.infiniteScroll)},components:{ListboxButton:ke.Y4,Listbox:ke.Ri,ListboxOptions:ke.O_,ListboxOption:ke.wt,Dialog:ke.Vq,Pagination:ne.Z,ProductionRow:Pe,DialogOverlay:ke.t9,Disclosure:ke.pJ,DisclosureButton:ke.lG,DisclosurePanel:ke.V2,TransitionChild:ke.xY,TransitionRoot:ke.Qm,SearchBar:Ce.Z,Icon:We.JO,FilterIcon:De.Z,XIcon:ze.Z,PlusSmIcon:je.Z,MinusSmIcon:$e.Z,Modal:Ie.Z},computed:{currentUser(){return this.$store.getters.getCurrentUser},paginated(){return this.produits.slice(0,this.limit)},hasNextPage(){return this.paginated.length<this.produits.length},nbperpage(){return window.innerWidth>=640&&window.innerWidth<768?13:window.innerWidth>=768&&window.innerWidth<1280?15:window.innerWidth>1280?20:8},pageNumber(){let e=this.productions.length/this.nbperpage;return this.productions.length%this.nbperpage!=0&&e++,parseInt(e)},productions(){return this.$store.getters.getProductions},produits(){return this.$store.getters.getProduits},showedProductions(){let e=(this.currentPage-1)*this.nbperpage,t=e+this.nbperpage;return this.productions.slice(e,t)}},methods:{searchfn:(0,oe.debounce)((async function(){console.log(this.search),this.$store.dispatch("getProductions",{date:this.$refs.searchbar.search,"$Client.raisonSocial$":this.$refs.searchbar.search})}),500),openCreateModal(){this.$refs.createModal.open=!0},scrolllist(e){e.target.scrollHeight-e.target.scrollTop==e.target.clientHeight&&this.hasNextPage&&(this.limit+=10)},async onOpen(){this.hasNextPage&&(await this.$nextTick(),this.observer.observe(this.$refs.load))},onClose(){this.observer.disconnect()},async infiniteScroll([{isIntersecting:e,target:t}]){if(console.log(e),e){const e=t.offsetParent,l=t.offsetParent.scrollTop;this.limit+=10,await this.$nextTick(),e.scrollTop=l}},addProd(){this.$store.dispatch("addProduction",{...this.newProduction,ProduitId:this.newProduction.Produit.id}),this.$refs.createModal.open=!1,this.newProduction={}}},watch:{etatsel:function(){this.searchfn()}}};const Me=(0,ye.Z)(Le,[["render",le]]);var Se=Me},8582:function(e,t,l){l.d(t,{Z:function(){return n}});var o=l(3396);function n(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])}},1463:function(e,t,l){l.d(t,{Z:function(){return n}});var o=l(3396);function n(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])}},2819:function(e,t,l){l.d(t,{Z:function(){return n}});var o=l(3396);function n(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z","clip-rule":"evenodd"})])}},7648:function(e,t,l){l.d(t,{Z:function(){return n}});var o=l(3396);function n(e,t){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=947.5b34c758.js.map