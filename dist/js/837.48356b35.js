(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[837],{6837:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return me}});var a=s(3396),l=s(7139),r=s(9242);const n={class:"h-full w-full items-center justify-center p-2 space-y-5"},o={class:"flex flex-row gap-2 py-2 w-full justify-end"},i=(0,a._)("label",null,"facture ",-1),c=[i],d=(0,a._)("label",null,"Livrée ",-1),u=[d],p={class:"card glass"},f={class:"card-body"},w={class:"flex md:flex-row flex-col h-full gap-3"},m={class:"rounded-md w-full md:w-16 h-16 flex flex-row py-2 px-1 hover:scale-110 hover:shadow-2xl hover:mx-3 transition-all duration-300 items-center",style:{"background-color":"#ffee00"}},h={class:"text-md font-semibold text-gray-600 mx-auto"},v={class:"rounded-md w-full md:w-1/4 h-16 flex flex-row py-2 px-1 hover:scale-110 hover:shadow-2xl hover:mx-3 transition-all duration-300 items-center",style:{"background-color":"#ffee00"}},x={class:"p-2 rounded-full bg-white justify-self-start",style:{"background-color":"rgba(255, 255, 255, 0.4)"}},g={class:"text-md font-semibold text-gray-600 mx-auto"},b={class:"rounded-md w-full md:w-1/4 h-16 flex flex-row py-2 px-1 hover:scale-110 hover:shadow-2xl hover:mx-3 transition-all duration-300 items-center",style:{"background-color":"#ffee00"}},_={class:"p-2 rounded-full bg-white justify-self-start",style:{"background-color":"rgba(255, 255, 255, 0.4)"}},y={class:"text-md font-semibold text-gray-600 mx-auto"},D={class:"rounded-md w-full md:w-1/4 h-16 flex flex-row py-2 px-1 hover:scale-110 hover:shadow-2xl transition-all duration-300 hover:mx-3 items-center",style:{"background-color":"#ffee00"}},k={class:"p-2 rounded-full bg-white justify-self-start",style:{"background-color":"rgba(255, 255, 255, 0.4)"}},j={class:"text-md font-semibold text-gray-600 mx-auto"},z={class:"rounded-md w-full md:w-1/4 h-16 flex flex-row py-2 px-1 hover:scale-110 hover:shadow-2xl transition-all duration-300 hover:mx-3 items-center",style:{"background-color":"#ffee00"}},W={class:"p-2 rounded-full bg-white justify-self-start",style:{"background-color":"rgba(255, 255, 255, 0.4)"}},C={class:"text-md font-semibold text-gray-600 mx-auto"},U={class:"bg-white rounded-md p-2"},L=(0,a._)("span",null,"Details de la vente",-1),$={class:"w-full table items-center"},Z=(0,a._)("thead",{class:"w-full flex flex-col"},[(0,a._)("tr",{class:"md:grid grid-cols-4 hidden"},[(0,a._)("td",{class:"whitespace-pre-wrap text-center"}),(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"prix"),(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"quantité"),(0,a._)("td",{class:"whitespace-pre-wrap text-center"})])],-1),R={class:"grid gap-3"},P={class:"col-span-1"},S={class:"whitespace-pre-wrap text-center flex items-center justify-center"},B={class:"col-span-1 whitespace-pre-wrap flex justify-center items-center"},O=(0,a._)("span",{class:"md:hidden font-semibold"},"Prix: ",-1),V={class:"col-span-1 whitespace-pre-wrap text-center flex items-center justify-center"},Y=(0,a._)("span",{class:"md:hidden font-semibold"},"Quantité: ",-1),q={class:"col-span-1 whitespace-pre-wrap text-center flex items-center justify-center"},I=(0,a._)("span",{class:"md:hidden font-semibold"},"Quantité: ",-1),M={class:"grid md:grid-cols-4"},T=(0,a._)("td",{class:"whitespace-pre-wrap text-center"},null,-1),K=(0,a._)("td",{class:"whitespace-pre-wrap text-center"},null,-1),A=(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"Total",-1),H={class:"whitespace-pre-wrap text-center text-md"},J={class:"bg-white rounded-md p-2"},N=(0,a._)("span",null,"Paiements",-1),Q={class:"w-full table items-center"},E=(0,a._)("thead",{class:"w-full flex flex-col"},[(0,a._)("tr",{class:"grid grid-cols-3"},[(0,a._)("td",{class:"whitespace-pre-wrap text-center"}),(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"Montant"),(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"Date")])],-1),F={class:"col-span-1 whitespace-pre-wrap text-center flex items-center justify-center"},G={class:"col-span-1 whitespace-pre-wrap text-center flex items-center justify-center"},X={class:"col-span-1 whitespace-pre-wrap flex justify-center items-center"},ee={class:"grid grid-cols-3"},te=(0,a._)("td",{class:"whitespace-pre-wrap text-center"},"Total",-1),se={class:"whitespace-pre-wrap text-center text-md"},ae=(0,a._)("td",{class:"whitespace-pre-wrap text-center"},null,-1);function le(e,t,s,i,d,le){const re=(0,a.up)("Icon"),ne=(0,a.up)("ChevronUpIcon"),oe=(0,a.up)("DisclosureButton"),ie=(0,a.up)("DisclosurePanel"),ce=(0,a.up)("Disclosure");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",o,[(0,a._)("button",{class:"btn gap-2 btn-sm btn-primary",onClick:t[0]||(t[0]=(...e)=>le.facture&&le.facture(...e))},c),"en cours de livraison"==le.vente.etat?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn gap-2 btn-sm btn-primary",onClick:t[1]||(t[1]=(...e)=>le.valide&&le.valide(...e))},u)):(0,a.kq)("",!0)]),(0,a._)("div",p,[(0,a._)("div",f,[(0,a._)("div",w,[(0,a._)("div",m,[(0,a._)("span",h,(0,l.zw)(le.vente.id),1)]),(0,a._)("div",v,[(0,a._)("div",x,[(0,a.Wm)(re,{icon:"akar-icons:person",class:"w-10 h-10 text-gray-600"})]),(0,a._)("span",g,(0,l.zw)(le.vente.Client?.raisonSociale),1)]),(0,a._)("div",b,[(0,a._)("div",_,[(0,a.Wm)(re,{icon:"akar-icons:check",class:"w-10 h-10 text-gray-600"})]),(0,a._)("span",y,(0,l.zw)(le.vente.etat),1)]),(0,a._)("div",D,[(0,a._)("div",k,[(0,a.Wm)(re,{icon:"fa-solid:cash-register",class:"w-9 h-9 text-gray-600"})]),(0,a._)("span",j,(0,l.zw)(le.vente.montant)+" DZD",1)]),(0,a._)("div",z,[(0,a._)("div",W,[(0,a.Wm)(re,{icon:"fa-solid:cash-register",class:"w-9 h-9 text-gray-600"})]),(0,a._)("span",C,(0,l.zw)(le.vente.montant-le.vente.versement)+" DZD",1)])])])]),(0,a._)("div",U,[(0,a.Wm)(ce,null,{default:(0,a.w5)((({open:e})=>[(0,a.Wm)(oe,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-blue-900 bg-blue-100 rounded-lg hover:bg-blue-200 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75"},{default:(0,a.w5)((()=>[L,(0,a.Wm)(ne,{class:(0,l.C_)([e?"transform rotate-180":"","w-5 h-5 text-blue-500 transition-transform duration-100"])},null,8,["class"])])),_:2},1024),(0,a.Wm)(r.uT,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{class:"w-full p-5 space-y-3 bg-white flex flex-col"},{default:(0,a.w5)((()=>[(0,a._)("table",$,[Z,(0,a._)("tbody",R,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)([...le.vente.Produits],(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e,class:"grid md:grid-cols-4 border-gray-400 border rounded-md bg-gray-200 shadow-md"},[(0,a._)("td",P,[(0,a._)("span",S,(0,l.zw)(e.nom)+" ("+(0,l.zw)(e.contenance)+"Kg)",1)]),(0,a._)("td",B,[O,(0,a.Uk)(" "+(0,l.zw)(e.produits_vente.prix)+" DZD ",1)]),(0,a._)("td",V,[Y,(0,a.Uk)(" x "+(0,l.zw)(e.produits_vente.quantite),1)]),(0,a._)("td",q,[I,(0,a.Uk)(" "+(0,l.zw)(e.produits_vente.quantite*e.produits_vente.quantite)+" DZD ",1)])])))),128)),(0,a._)("tfoot",null,[(0,a._)("tr",M,[T,K,A,(0,a._)("td",H,(0,l.zw)(le.vente.montant)+" DZD",1)])])])])])),_:1})])),_:1})])),_:1})]),(0,a._)("div",J,[(0,a.Wm)(ce,null,{default:(0,a.w5)((({open:e})=>[(0,a.Wm)(oe,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-blue-900 bg-blue-100 rounded-lg hover:bg-blue-200 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75"},{default:(0,a.w5)((()=>[N,(0,a.Wm)(ne,{class:(0,l.C_)([e?"transform rotate-180":"","w-5 h-5 text-blue-500 transition-transform duration-100"])},null,8,["class"])])),_:2},1024),(0,a.Wm)(r.uT,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{class:"w-full p-5 space-y-3 bg-white flex flex-col"},{default:(0,a.w5)((()=>[(0,a._)("table",Q,[E,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(le.vente.Payements,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e,class:"grid grid-cols-3"},[(0,a._)("td",F,(0,l.zw)(e.id),1),(0,a._)("td",G,(0,l.zw)(e.ventes_payement.montant)+" DZD ",1),(0,a._)("td",X,(0,l.zw)(le.formatDate(e.date)),1)])))),128)),(0,a._)("tr",ee,[te,(0,a._)("td",se,(0,l.zw)(le.vente.versement)+" DZD",1),ae])])])])),_:1})])),_:1})])),_:1})])])}var re=s(6088),ne=s(6797),oe=s.n(ne),ie=s(6770),ce=s(4521),de=s(2884),ue=s.n(de),pe={data(){return{}},methods:{numbersOnly(e){isNaN(parseInt(e.data))&&(e.target.value=e.target.value.slice(0,e.target.value.length-1))},formatDate(e){return oe()(e).format("DD/MM/YYYY")},bonLivraison(){this.$store.dispatch("bonLivraison",this.vente.id)},valide(){this.$store.dispatch("updateVente",{...this.vente,etat:"livree"}).then((()=>{this.$store.dispatch("showVente",this.vente.id)}))},facture(){this.$store.dispatch("downloadFacture",this.vente.id).then((e=>{ue()(e.data,"facture.pdf")})).then((()=>{this.$store.dispatch("showVente",this.vente.id)})).catch((e=>{console.log(e)}))}},components:{ChevronUpIcon:ce.Z,Disclosure:ie.pJ,DisclosureButton:ie.lG,DisclosurePanel:ie.V2,Icon:re.JO},beforeMount(){this.$store.dispatch("showVente",this.$route.params.id),this.$store.dispatch("getClients"),this.$store.dispatch("getProduits")},mounted(){},computed:{vente(){return this.$store.getters.getVente},clients(){const e=this.$store.getters.getClients;return e.sort((function(e,t){return e.raisonSociale<t.raisonSociale?-1:e.raisonSociale>t.raisonSociale?1:0}))},products(){return this.$store.getters.getProduits}}},fe=s(89);const we=(0,fe.Z)(pe,[["render",le]]);var me=we},2884:function(e){e.exports=function(e,t,s,a){var l="undefined"!==typeof a?[a,e]:[e],r=new Blob(l,{type:s||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var n=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=n,o.setAttribute("download",t),"undefined"===typeof o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(n)}),200)}}},4521:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(3396);function l(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=837.48356b35.js.map