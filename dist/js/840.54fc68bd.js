"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[840],{2207:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(3396),r=n(7139);const l={key:0,class:"h-10 self-end flex flex-row w-full justify-center items-center"},i={class:"flex flex-row items-center justify-center space-x-3"},s={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},o={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},u={class:"flex flex-row space-x-3 items-center justify-center px-3"},c={key:0,class:"diamond bg-blue-800 p-0.5 h-5 w-5 rounded-md text-white"},d=["onClick"],p={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"},h={class:"diamond bg-blue-800 p-0.5 rounded-md text-white"};function m(e,t,n,m,f,g){const w=(0,a.up)("ChevronDoubleLeftIcon"),v=(0,a.up)("ChevronLeftIcon"),x=(0,a.up)("ChevronRightIcon"),b=(0,a.up)("ChevronDoubleRightIcon");return 0!=n.dataLength?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("ul",i,[(0,a._)("li",s,[(0,a._)("div",null,[(0,a.Wm)(w,{class:"h-5",onClick:t[0]||(t[0]=t=>1!=n.currentPage&&e.$emit("first")),disabled:1==n.currentPage},null,8,["disabled"])])]),(0,a._)("li",o,[(0,a._)("div",null,[(0,a.Wm)(v,{class:"h-5",onClick:t[1]||(t[1]=t=>1!=n.currentPage&&e.$emit("prev")),disabled:1==n.currentPage},null,8,["disabled"])])]),(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.pageNumber,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[n.currentPage-3<t&&t<n.currentPage+3?((0,a.wg)(),(0,a.iD)("li",c,[(0,a._)("div",{onClick:n=>e.$emit("page",t),class:(0,r.C_)(["flex h-full w-full items-center justify-center cursor-pointer",t===n.currentPage&&"text-red-500"])},(0,r.zw)(t),11,d)])):(0,a.kq)("",!0)],64)))),128))]),(0,a._)("li",p,[(0,a._)("div",null,[(0,a.Wm)(x,{class:"h-5",onClick:t[2]||(t[2]=t=>n.currentPage!=g.pageNumber&&e.$emit("next")),disabled:n.currentPage==g.pageNumber},null,8,["disabled"])])]),(0,a._)("li",h,[(0,a._)("div",null,[(0,a.Wm)(b,{class:"h-5",onClick:t[3]||(t[3]=t=>n.currentPage!=g.pageNumber&&e.$emit("last")),disabled:n.currentPage==g.pageNumber},null,8,["disabled"])])])])])):(0,a.kq)("",!0)}function f(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function g(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"}),(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function w(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function v(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}var x={name:"Pagination",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:1},dataLength:{type:Number,required:!0}},components:{ChevronDoubleLeftIcon:f,ChevronDoubleRightIcon:g,ChevronRightIcon:w,ChevronLeftIcon:v},computed:{pageNumber(){let e=this.dataLength/this.pageSize;return this.dataLength%this.pageSize!=0&&e++,parseInt(e)}}},b=n(89);const y=(0,b.Z)(x,[["render",m]]);var _=y},6515:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(3396),r=n(9242);const l=e=>((0,a.dD)("data-v-85e6cc1c"),e=e(),(0,a.Cn)(),e),i=l((()=>(0,a._)("svg",{class:"h-9 w-4 fill-current fill-white",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{"enable-background":"new 0 0 56.966 56.966"},"xml:space":"preserve",width:"512px",height:"512px"},[(0,a._)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})],-1))),s=[i];function o(e,t,n,l,i,o){const u=(0,a.up)("TransitionRoot");return(0,a.wg)(),(0,a.iD)("div",{class:"flex flex-row bg-gray-500 rounded-full py-1 px-2",onMouseover:t[4]||(t[4]=e=>{i.open=!0,i.mouseover=!0}),onMouseleave:t[5]||(t[5]=(...e)=>o.mouseleave&&o.mouseleave(...e))},[(0,a.Wm)(u,{as:"div",show:i.open,enter:"transition-all duration-150","enter-from":"w-0","enter-to":"w-full",leave:"transition-all duration-300","leave-from":"w-full","leave-to":"w-0"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.search=e),type:"search",name:"serch",placeholder:"Search",class:"text-white bg-gray-500 h-full w-full text-sm focus:outline-none outline-none focus:ring-0 border-none",onFocus:t[1]||(t[1]=e=>i.focused=!0),onBlur:t[2]||(t[2]=(...e)=>o.blur&&o.blur(...e))},null,544),[[r.nr,i.search]])])),_:1},8,["show"]),(0,a._)("button",{type:"submit",class:"px-2",onClick:t[3]||(t[3]=(...e)=>o.searchfn&&o.searchfn(...e))},s)],32)}var u=n(6770),c={components:{TransitionRoot:u.Qm},name:"SearchBar",props:["_search"],data(){return{search:"",open:!1,focused:!1,mouseover:!1}},methods:{async searchfn(){if(!this.open)return this.open=!0;this.$emit("search",this.search)},mouseleave(){this.mouseover=!1,this.focused||(this.open=!1)},blur(){this.focused=!1,this.mouseover||""!=this.search||(this.open=!1)}},watch:{search(e){this.$emit("search",e)}}},d=n(89);const p=(0,d.Z)(c,[["render",o],["__scopeId","data-v-85e6cc1c"]]);var h=p},4840:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(3396),r=n(7139);const l={class:"flex flex-col w-full justify-center items-center h-full bg-gray-700 overflow-hidden"},i={class:"flex self-start w-full items-center space-x-3 h-16 py-1 px-2"},s={class:"bg-blue-900"},o={class:"ml-auto relative max-w-xs w-full h-full bg-gray-900 shadow-xl py-4 pb-12 flex flex-col overflow-y-auto"},u={class:"px-4 flex items-center justify-between mb-3"},c=(0,a._)("h2",{class:"text-lg font-medium text-gray-300"},"Filters",-1),d=(0,a._)("span",{class:"sr-only text-white"},"Close menu",-1),p=(0,a._)("div",{class:"border-gray-400 px-4 py-3"},[(0,a._)("label",{for:"",class:"text-white"},"Date de dÃ©but"),(0,a._)("input",{class:"w-full px-2 py-3 mt-2 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200",type:"date",name:"",id:""})],-1),h=(0,a._)("div",{class:"border-gray-400 px-4 py-3"},[(0,a._)("label",{for:"",class:"text-white"},"Date de fin"),(0,a._)("input",{class:"w-full px-2 py-3 mt-2 bg-gray-700 w-full flex items-center justify-between text-gray-400 hover:text-gray-200",type:"date",name:"",id:""})],-1),m={class:"flex-1 flex flex-col h-full w-full overflow-hidden"},f={class:"h-full md:justify-center aligned-center m-4 overflow-auto overflow-x-hidden py-3"},g=(0,a._)("div",{class:"text-white text-2xl m-2 mb-4 font-bold"},[(0,a._)("h1",null,"Liste des paiements")],-1),w={class:"table bg-white rounded-md mx-1 grid grid-flow-row overflow-hidden text-black top-0"},v=(0,a._)("thead",null,[(0,a._)("tr",{class:"w-full grid grid-cols-4"},[(0,a._)("th",{class:"px-2 py-2 col-span-1 hidden md:table-cell"}),(0,a._)("th",{class:"px-4 py-2 col-span-1"},"Date de paiement"),(0,a._)("th",{class:"px-4 py-2 col-span-1"},"Client"),(0,a._)("th",{class:"px-4 py-2 col-span-1"},"Montant Total")])],-1),x={class:"w-full grid grid-flow-row overflow-auto"};function b(e,t,n,b,y,_){const C=(0,a.up)("SearchBar"),P=(0,a.up)("FilterIcon"),k=(0,a.up)("Icon"),D=(0,a.up)("DialogOverlay"),W=(0,a.up)("TransitionChild"),L=(0,a.up)("XIcon"),z=(0,a.up)("Dialog"),j=(0,a.up)("TransitionRoot"),I=(0,a.up)("PaiementRow"),M=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",i,[(0,a.Wm)(C,{ref:"searchbar",onSearch:_.searchfn},null,8,["onSearch"]),(0,a._)("div",{class:(0,r.C_)(["rounded-full py-2 px-2 bg-gray-500",{hidden:e.refs?.searchbar?.open}])},[(0,a.Wm)(P,{onClick:t[0]||(t[0]=e=>y.mobileFiltersOpen=!y.mobileFiltersOpen),class:"h-7 fill-current text-white"})],2),_.currentUser.Profile.Autorisations.find((e=>"add-paiement"==e.nom))?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"rounded-full py-2 px-2 bg-gray-500",onClick:t[1]||(t[1]=t=>e.$router.push({name:"PaiementShow",params:{id:"new"}}))},[(0,a.Wm)(k,{icon:"ant-design:file-add-filled",class:"h-7 w-7 fill-current text-white"})])):(0,a.kq)("",!0)]),(0,a._)("div",s,[(0,a._)("div",null,[(0,a.Wm)(j,{as:"template",show:y.mobileFiltersOpen},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{as:"div",class:"fixed inset-0 flex z-40",onClose:t[3]||(t[3]=e=>y.mobileFiltersOpen=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{class:"fixed inset-0 bg-black bg-opacity-25"})])),_:1}),(0,a.Wm)(W,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("div",u,[c,(0,a._)("button",{type:"button",class:"-mr-2 w-7 h-7 bg-gray-800 p-1 rounded-md flex items-center justify-center text-gray-400",onClick:t[2]||(t[2]=e=>y.mobileFiltersOpen=!1)},[d,(0,a.Wm)(L,{class:"h-6 w-6 text-gray-300","aria-hidden":"true"})])]),p,h])])),_:1})])),_:1})])),_:1},8,["show"])])]),(0,a._)("div",m,[(0,a._)("div",f,[g,(0,a._)("table",w,[v,(0,a._)("tbody",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.showedPaiements,(e=>((0,a.wg)(),(0,a.j4)(I,{key:e.id,paiement:e},null,8,["paiement"])))),128))])])]),(0,a.Wm)(M,{ref:"Pagination",currentPage:y.currentPage,pageSize:_.nbperpage,dataLength:_.paiements.length,onPage:t[4]||(t[4]=e=>y.currentPage=e),onNext:t[5]||(t[5]=e=>y.currentPage++),onPrev:t[6]||(t[6]=e=>y.currentPage--),onFirst:t[7]||(t[7]=e=>y.currentPage=1),onLast:t[8]||(t[8]=t=>y.currentPage=e.$refs.Pagination.pageNumber)},null,8,["currentPage","pageSize","dataLength"])])])}var y=n(4806),_=n(2207);const C={class:"px-4 py-2 col-span-1"},P={class:"font-medium"},k={class:"px-4 py-2 col-span-1"},D={class:"font-medium"},W={class:"px-4 py-2 col-span-1"},L={class:"font-medium"},z={class:"px-4 py-2 col-span-1"},j={class:"font-medium"};function I(e,t,n,l,i,s){return(0,a.wg)(),(0,a.iD)("tr",{class:"grid grid-cols-4 cursor-pointer",onClick:t[0]||(t[0]=t=>e.$router.push({name:"PaiementShow",params:{id:n.paiement.id}}))},[(0,a._)("td",C,[(0,a._)("span",P,(0,r.zw)(n.paiement?.id),1)]),(0,a._)("td",k,[(0,a._)("span",D,(0,r.zw)(s.formatDate),1)]),(0,a._)("td",W,[(0,a._)("span",L,(0,r.zw)(n.paiement?.Client?.raisonSociale),1)]),(0,a._)("td",z,[(0,a._)("span",j,(0,r.zw)(n.paiement?.montant||0)+" DZD",1)])])}var M=n(6797),$=n.n(M),S={name:"paiementRow",props:{paiement:{type:Object,required:!0}},mounted(){},computed:{formatDate(){return $()(this.paiement.date).format("DD/MM/YYYY")}}},Z=n(89);const N=(0,Z.Z)(S,[["render",I]]);var B=N,F=n(6770),R=n(6515),O=n(6088),Y=n(1463),T=n(8582),q={name:"Paiements",beforeMount(){this.$store.dispatch("getPaiements")},data(){return{mobileFiltersOpen:!1,currentPage:1,etatsel:[]}},components:{Dialog:F.Vq,Pagination:_.Z,PaiementRow:B,DialogOverlay:F.t9,TransitionChild:F.xY,TransitionRoot:F.Qm,SearchBar:R.Z,Icon:O.JO,FilterIcon:Y.Z,XIcon:T.Z},computed:{nbperpage(){return window.innerWidth>=640&&window.innerWidth<768?13:window.innerWidth>=768&&window.innerWidth<1280?15:window.innerWidth>1280?20:8},pageNumber(){let e=this.paiements.length/this.nbperpage;return this.paiements.length%this.nbperpage!=0&&e++,parseInt(e)},paiements(){return this.$store.getters.getPaiements},showedPaiements(){let e=(this.currentPage-1)*this.nbperpage,t=e+this.nbperpage;return this.paiements.slice(e,t)},currentUser(){return this.$store.getters.getCurrentUser}},methods:{searchfn:(0,y.debounce)((async function(){console.log(this.search),this.$store.dispatch("getPaiements",{etat:this.etatsel,"$Client.raisonSociale$":this.$refs.searchbar.search})}),500),openCreateModal(){}},watch:{etatsel:function(){this.searchfn()}}};const U=(0,Z.Z)(q,[["render",b]]);var V=U},8582:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(3396);function r(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])}},1463:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(3396);function r(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=840.54fc68bd.js.map