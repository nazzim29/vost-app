"use strict";(self["webpackChunkvost_app"]=self["webpackChunkvost_app"]||[]).push([[300],{4300:function(e,t,l){l.r(t),l.d(t,{default:function(){return oe}});var s=l(3396),i=l(9242),r=l(7139);const a={class:"flex flex-col w-full bg-gray-700 gap-3"},n={class:"flex card bg-base-100 shadow-xl md:mt-16 md:mx-12 mx-2 mt-8"},o={class:"card-body w-full"},d=(0,s._)("h2",{class:"card-title"},"Profile client",-1),c={class:"grid md:grid-cols-3 xl:grid-cols-4 gap-y-2 w-full p-0 md:px-3"},u={class:"flex flex-col space-y-0.5 w-full"},f=(0,s._)("label",{class:"flex items-center text-bold rounded-l-md text-md"},"Raison Sociale",-1),p={class:"flex flex-row items-cente w-full focus-within:ring-1 rounded-md"},m={key:1,class:"rounded-md font-semibold border-gray-200 w-full focus:ring-0"},w={class:"flex flex-col items-start space-y-0.5 w-full"},g=(0,s._)("label",{for:"TypeClient",class:"flex items-center text-bold rounded-l-md text-md"},"Type",-1),b={class:"relative w-full mx-1 space-x-auto"},x={class:"block truncate"},y={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},h={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},v={key:1,class:"rounded-md font-semibold border-gray-200 w-full focus:ring-0"},_={class:"flex flex-col space-y-0.5 w-full"},k=(0,s._)("label",{for:"numero",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Numero",-1),C={key:0,class:"flex flex-row items-cente w-full focus-within:ring-1 rounded-md ring-blue-600 border"},D=(0,s._)("label",{for:"numero",class:"flex items-center uppercase text-bold rounded-l-md px-2 bg-gray-200 text-gray-800 text-md border-t border-l border-b"},"+213",-1),z={key:1,class:"rounded-md font-semibold border-gray-200 w-full focus:ring-0"},L=["href"],E=["href"],W={class:"flex flex-col space-y-0.5 w-full"},T=(0,s._)("label",{class:"flex items-center text-bold h-full rounded-l-md text-md"},"Nom d'utilisateur",-1),U={class:"flex flex-row items-cente w-full focus-within:ring-1 rounded-md"},$={key:1,class:"rounded-md font-semibold border-gray-200 w-full focus:ring-0"},j={key:0,class:"flex flex-col items-start space-y-1 w-full"},N=(0,s._)("label",{for:"password",class:"flex items-center text-bold h-full rounded-l-md px-2"},"Mot de passe",-1),S={key:1,class:"flex flex-col items-start space-y-1 w-full"},I=(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Confirmation",-1),V={key:2,class:"flex flex-col items-start space-y-1 w-full"},M=(0,s._)("label",{for:"passwordConfirm",class:"flex items-center text-bold h-full rounded-l-md text-md"},"Dettes",-1),Y={class:"rounded-md font-semibold border-gray-200 w-full focus:ring-0"},q={class:"card-actions justify-end"},B={key:0,class:"md:mx-12 mx-2"},O={class:"bg-white rounded-xl p-2 mb-10"},Z=(0,s._)("span",null,"Liste des paiements",-1),P={class:"w-full table items-center"},R=(0,s._)("thead",{class:"w-full flex flex-col"},[(0,s._)("tr",{class:"md:grid grid-cols-3 hidden"},[(0,s._)("td",{class:"whitespace-pre-wrap text-center"}),(0,s._)("td",{class:"whitespace-pre-wrap text-center"}," Date de paiement "),(0,s._)("td",{class:"whitespace-pre-wrap text-center"},"Montant")])],-1),H={class:"grid gap-3"},K={class:"col-span-1"},A={class:"whitespace-pre-wrap text-center flex items-center justify-center"},G={class:"col-span-1 whitespace-pre-wrap flex justify-center items-center"},J={class:"font-semibold"},F={class:"col-span-1 whitespace-pre-wrap text-center flex items-center justify-center"},Q={class:"font-semibold"};function X(e,t,l,X,ee,te){const le=(0,s.up)("SelectorIcon"),se=(0,s.up)("ListboxButton"),ie=(0,s.up)("CheckIcon"),re=(0,s.up)("ListboxOption"),ae=(0,s.up)("ListboxOptions"),ne=(0,s.up)("Listbox"),oe=(0,s.up)("ChevronUpIcon"),de=(0,s.up)("DisclosureButton"),ce=(0,s.up)("DisclosurePanel"),ue=(0,s.up)("Disclosure");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",n,[(0,s._)("div",o,[d,(0,s._)("div",c,[(0,s._)("div",u,[f,(0,s._)("div",p,[ee.isEditing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text",name:"raison_social",id:"raison_social",placeholder:"Raison social","onUpdate:modelValue":t[0]||(t[0]=e=>te.client.raisonSociale=e),class:"rounded-md border-gray-200 w-full focus:ring-0"},null,512)),[[i.nr,te.client.raisonSociale]]):((0,s.wg)(),(0,s.iD)("label",m,(0,r.zw)(te.client.raisonSociale),1))])]),(0,s._)("div",w,[g,ee.isEditing?((0,s.wg)(),(0,s.j4)(ne,{key:0,modelValue:te.client.TypeClientId,"onUpdate:modelValue":t[1]||(t[1]=e=>te.client.TypeClientId=e)},{default:(0,s.w5)((()=>[(0,s._)("div",b,[(0,s.Wm)(se,{class:"h-10 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm border-1"},{default:(0,s.w5)((()=>[(0,s._)("span",x,(0,r.zw)(te.types.find((e=>e.id==te.client.TypeClientId))?.type||"Type"),1),(0,s._)("span",y,[(0,s.Wm)(le,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])])),_:1}),(0,s.Wm)(i.uT,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ae,{class:"absolute mt-1 w-11/12 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm text-left"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(te.types,(e=>((0,s.wg)(),(0,s.j4)(re,{key:e.id,value:e.id,as:"template"},{default:(0,s.w5)((({active:t,selected:l})=>[(0,s._)("li",{class:(0,r.C_)([t?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 pl-10 pr-4"])},[(0,s._)("span",{class:(0,r.C_)([l?"font-medium":"font-normal","block truncate"])},(0,r.zw)(e.type),3),l?((0,s.wg)(),(0,s.iD)("span",h,[(0,s.Wm)(ie,{class:"w-5 h-5","aria-hidden":"true"})])):(0,s.kq)("",!0)],2)])),_:2},1032,["value"])))),128))])),_:1})])),_:1})])])),_:1},8,["modelValue"])):((0,s.wg)(),(0,s.iD)("label",v,(0,r.zw)(te.client.TypeClient.type),1))]),(0,s._)("div",_,[k,ee.isEditing?((0,s.wg)(),(0,s.iD)("div",C,[D,(0,s.wy)((0,s._)("input",{type:"tel",name:"numero",id:"numero","onUpdate:modelValue":t[2]||(t[2]=e=>te.client.numero=e),placeholder:"Numero de telephone",class:"rounded-r-md border-0 focus:ring-0"},null,512),[[i.nr,te.client.numero]])])):((0,s.wg)(),(0,s.iD)("label",z,[(0,s._)("a",{href:"tel:"+te.client.numero},(0,r.zw)(te.client.numero),9,L),(0,s.Uk)(" "+(0,r.zw)(te.client.numeroSecondaire?" / ":"")+" ",1),te.client.numeroSecondaire?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"tel:"+te.client.numeroSecondaire},(0,r.zw)(te.client.numeroSecondaire),9,E)):(0,s.kq)("",!0)]))]),(0,s._)("div",W,[T,(0,s._)("div",U,[ee.isEditing?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text",name:"username",id:"username",placeholder:"Nom d'utilisateur","onUpdate:modelValue":t[3]||(t[3]=e=>te.client.username=e),class:"rounded-md border-gray-200 w-full focus:ring-0"},null,512)),[[i.nr,te.client.username]]):((0,s.wg)(),(0,s.iD)("span",$,(0,r.zw)(te.client.username),1))])]),ee.isEditing?((0,s.wg)(),(0,s.iD)("div",j,[N,(0,s.wy)((0,s._)("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=e=>te.client.password=e),placeholder:"Mot de passe",class:"rounded-md border-gray-200 w-full"},null,512),[[i.nr,te.client.password]])])):(0,s.kq)("",!0),ee.isEditing?((0,s.wg)(),(0,s.iD)("div",S,[I,(0,s.wy)((0,s._)("input",{type:"password",name:"passwordConfirm",id:"passwordConfirm","onUpdate:modelValue":t[5]||(t[5]=e=>te.client.passwordConfirm=e),placeholder:"Confirmation",class:"rounded-md border-gray-200 w-full"},null,512),[[i.nr,te.client.passwordConfirm]])])):(0,s.kq)("",!0),te.client.id&&!ee.isEditing?((0,s.wg)(),(0,s.iD)("div",V,[M,(0,s._)("label",Y,(0,r.zw)(te.client.dettes),1)])):(0,s.kq)("",!0)]),(0,s._)("div",q,[(0,s._)("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>te.submit&&te.submit(...e))},(0,r.zw)(te.client.id?ee.isEditing?"enregistrer":"modifier":"ajouter"),1)])])]),te.client.id&&!ee.isEditing?((0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("div",O,[(0,s.Wm)(ue,null,{default:(0,s.w5)((({open:e})=>[(0,s.Wm)(de,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-blue-900 bg-blue-100 rounded-lg hover:bg-blue-200 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75"},{default:(0,s.w5)((()=>[Z,(0,s.Wm)(oe,{class:(0,r.C_)([e?"rotate-180 transform":"","h-5 w-5 text-purple-500"])},null,8,["class"])])),_:2},1024),(0,s.Wm)(ce,{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(i.uT,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-out","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ce,{class:"w-full p-5 space-y-3 bg-white flex flex-col"},{default:(0,s.w5)((()=>[(0,s._)("table",P,[R,(0,s._)("tbody",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(te.client.Payements,(e=>((0,s.wg)(),(0,s.iD)("tr",{class:"grid md:grid-cols-3 border-gray-400 border rounded-md bg-gray-200 shadow-md",key:e.id},[(0,s._)("td",K,[(0,s._)("span",A,(0,r.zw)(e?.id),1)]),(0,s._)("td",G,[(0,s._)("span",J,(0,r.zw)(te.formatDate(e?.date)),1)]),(0,s._)("td",F,[(0,s._)("span",Q,(0,r.zw)(e?.montant_total)+" DZD",1)])])))),128))])])])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var ee=l(6770),te=l(6797),le=l.n(te),se=l(1621),ie=l(4521),re={data(){return{isEditing:!1}},methods:{numbersOnly(e){isNaN(parseInt(e.data))&&(e.target.value=e.target.value.slice(0,e.target.value.length-1))},inputgroupfocushandler(e){e.target.parentNode.classList.add("border"),e.target.parentNode.classList.add("border-primary")},inputgroupblurhandler(e){e.target.parentNode.classList.remove("border"),e.target.parentNode.classList.remove("border-primary")},submit(){this.isEditing?this.client.id?this.$store.dispatch("updateClient",this.client).then((()=>{this.isEditing=!1})):this.$store.dispatch("addClient",this.client).then((e=>{this.$router.push(`/clients/${e.data.id}`)})):this.isEditing=!0},formatDate(e){return le()(e).format("DD/MM/YYYY")}},components:{Listbox:ee.Ri,ListboxButton:ee.Y4,ListboxOptions:ee.O_,ListboxOption:ee.wt,SelectorIcon:se.Z,ChevronUpIcon:ie.Z,Disclosure:ee.pJ,DisclosureButton:ee.lG,DisclosurePanel:ee.V2},beforeMount(){this.$store.dispatch("getTypeClients");const e=this.$route.params.id;console.log("id",e),e?this.$store.dispatch("showClient",e):this.isEditing=!0},computed:{currentUser(){return this.$store.getters.getCurrentUser},types(){return this.$store.getters.getTypeClients},client:{set:function(e){this.$store.commit("showClient",e)},get:function(){return this.$store.getters.getClient}}}},ae=l(89);const ne=(0,ae.Z)(re,[["render",X]]);var oe=ne},4521:function(e,t,l){l.d(t,{Z:function(){return i}});var s=l(3396);function i(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"})])}},1621:function(e,t,l){l.d(t,{Z:function(){return i}});var s=l(3396);function i(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=300.62c3ac51.js.map